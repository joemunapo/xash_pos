!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function c(t,o,i,a){var c=o&&o.prototype instanceof s?o:s,l=Object.create(c.prototype);return n(l,"_invoke",function(t,n,o){var i,a,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,a=0,c=e,p.n=n,u}};function h(t,n){for(a=t,c=n,r=0;!f&&s&&!o&&r<l.length;r++){var o,i=l[r],h=p.p,v=i[2];t>3?(o=v===n)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=t<2&&h<i[1])?(a=0,p.v=n,p.n=i[1]):h<v&&(o=t<3||i[0]>n||n>v)&&(i[4]=t,i[5]=n,p.n=v,a=0))}if(o||t>1)return u;throw f=!0,n}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,v),a=l,c=v;(r=a<2?e:c)||!f;){i||(a?a<3?(a>1&&(p.n=-1),h(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(a||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,a<2&&(a=0)}else 1===a&&(r=i.return)&&r.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((r=(f=p.n<0)?c:t.call(n,p))!==u)break}catch(r){i=e,a=1,c=r}finally{s=1}}return{value:r,done:f}}}(t,i,a),!0),l}var u={};function s(){}function l(){}function f(){}r=Object.getPrototypeOf;var p=[][i]?r(r([][i]())):(n(r={},i,function(){return this}),r),h=f.prototype=s.prototype=Object.create(p);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,a,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=f,n(h,"constructor",f),n(f,"constructor",l),l.displayName="GeneratorFunction",n(f,a,"GeneratorFunction"),n(h),n(h,a,"Generator"),n(h,i,function(){return this}),n(h,"toString",function(){return"[object Generator]"}),(t=function(){return{w:c,m:v}})()}function n(e,t,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}n=function(e,t,r,o){function a(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},n(e,t,r,o)}function r(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function c(e){r(a,o,i,c,u,"next",e)}function u(e){r(a,o,i,c,u,"throw",e)}c(void 0)})}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}function c(t,n,r){return n=s(n),function(t,n){if(n&&("object"==e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,u()?Reflect.construct(n,r||[],s(t).constructor):n.apply(t,r))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}System.register(["./index-legacy-Cmr-p9d3.js"],function(e,n){"use strict";var r,a,u,s,f;return{setters:[function(e){r=e.W,a=e.L,u=e.C,s=e.E,f=e.B}],execute:function(){var n=function(e){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=c(this,n,arguments))._isSupported="BarcodeDetector"in window,e.errorVideoElementMissing="videoElement must be provided.",e.eventBarcodesScanned="barcodesScanned",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(n,e),r=n,p=[{key:"startScan",value:(M=o(t().m(function e(n){var r,i=this;return t().w(function(e){for(;;)switch(e.n){case 0:if(this._isSupported){e.n=1;break}throw this.createUnavailableException();case 1:if(null==n?void 0:n.videoElement){e.n=2;break}throw new Error(this.errorVideoElementMissing);case 2:return this.videoElement=n.videoElement,e.n=3,navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:(null==n?void 0:n.lensFacing)===a.Front?"user":"environment"}},audio:!1});case 3:return this.stream=e.v,n.videoElement.srcObject=this.stream,e.n=4,n.videoElement.play();case 4:r=new BarcodeDetector,this.intervalId=window.setInterval(o(t().m(function e(){var o;return t().w(function(e){for(;;)switch(e.n){case 0:if(n.videoElement){e.n=1;break}return e.a(2);case 1:return e.n=2,r.detect(n.videoElement);case 2:if(0!==(o=e.v).length){e.n=3;break}return e.a(2);case 3:i.handleScannedBarcodes(o);case 4:return e.a(2)}},e)})),500);case 5:return e.a(2)}},e,this)})),function(e){return M.apply(this,arguments)})},{key:"stopScan",value:(B=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:if(this._isSupported){e.n=1;break}throw this.createUnavailableException();case 1:this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0),this.stream&&(this.stream.getTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this.videoElement&&(this.videoElement.srcObject=null,this.videoElement=void 0);case 2:return e.a(2)}},e,this)})),function(){return B.apply(this,arguments)})},{key:"readBarcodesFromImage",value:(_=o(t().m(function e(n){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"scan",value:(T=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(){return T.apply(this,arguments)})},{key:"isSupported",value:(U=o(t().m(function e(){return t().w(function(e){for(;;)if(0===e.n)return e.a(2,{supported:this._isSupported})},e,this)})),function(){return U.apply(this,arguments)})},{key:"enableTorch",value:(j=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(){return j.apply(this,arguments)})},{key:"disableTorch",value:(P=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(){return P.apply(this,arguments)})},{key:"toggleTorch",value:(O=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(){return O.apply(this,arguments)})},{key:"isTorchEnabled",value:(x=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException;case 1:return e.a(2)}},e,this)})),function(){return x.apply(this,arguments)})},{key:"isTorchAvailable",value:(S=o(t().m(function e(){return t().w(function(e){for(;;)if(0===e.n)return e.a(2,{available:!1})},e)})),function(){return S.apply(this,arguments)})},{key:"setZoomRatio",value:(k=o(t().m(function e(n){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"getZoomRatio",value:(E=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(){return E.apply(this,arguments)})},{key:"getMinZoomRatio",value:(g=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(){return g.apply(this,arguments)})},{key:"getMaxZoomRatio",value:(w=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(){return w.apply(this,arguments)})},{key:"openSettings",value:(b=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(){return b.apply(this,arguments)})},{key:"isGoogleBarcodeScannerModuleAvailable",value:(m=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(){return m.apply(this,arguments)})},{key:"installGoogleBarcodeScannerModule",value:(d=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:throw this.createUnavailableException();case 1:return e.a(2)}},e,this)})),function(){return d.apply(this,arguments)})},{key:"checkPermissions",value:(y=o(t().m(function e(){var n;return t().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.permissions.query({name:"camera"});case 1:return n=e.v,e.a(2,{camera:n.state});case 2:return e.p=2,e.v,e.a(2,{camera:"prompt"})}},e,null,[[0,2]])})),function(){return y.apply(this,arguments)})},{key:"requestPermissions",value:(v=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.mediaDevices.getUserMedia({video:!0});case 1:return e.v.getTracks().forEach(function(e){return e.stop()}),e.a(2,{camera:"granted"});case 2:return e.p=2,e.v,e.a(2,{camera:"denied"})}},e,null,[[0,2]])})),function(){return v.apply(this,arguments)})},{key:"createUnavailableException",value:function(){return new u("This plugin method is not available on this platform.",s.Unavailable)}},{key:"handleScannedBarcodes",value:function(e){var t={barcodes:e.map(function(e){return{cornerPoints:[[e.cornerPoints[0].x,e.cornerPoints[0].y],[e.cornerPoints[1].x,e.cornerPoints[1].y],[e.cornerPoints[2].x,e.cornerPoints[2].y],[e.cornerPoints[3].x,e.cornerPoints[3].y]],displayValue:e.rawValue,rawValue:e.rawValue,format:e.format.toUpperCase(),valueType:f.Unknown}})};this.notifyListeners(this.eventBarcodesScanned,t)}}],p&&i(r.prototype,p),h&&i(r,h),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,p,h,v,y,d,m,b,w,g,E,k,S,x,O,P,j,U,T,_,B,M}(r);e("BarcodeScannerWeb",n)}}})}();
