var e,t,n=Object.defineProperty,a=(e,t,a)=>((e,t,a)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a)(e,"symbol"!=typeof t?t+"":t,a);function s(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function r(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const i={},o=[],l=()=>{},c=()=>!1,u=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),d=e=>e.startsWith("onUpdate:"),h=Object.assign,p=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},f=Object.prototype.hasOwnProperty,m=(e,t)=>f.call(e,t),g=Array.isArray,v=e=>"[object Map]"===E(e),y=e=>"[object Set]"===E(e),b=e=>"[object Date]"===E(e),x=e=>"function"==typeof e,w=e=>"string"==typeof e,_=e=>"symbol"==typeof e,k=e=>null!==e&&"object"==typeof e,C=e=>(k(e)||x(e))&&x(e.then)&&x(e.catch),S=Object.prototype.toString,E=e=>S.call(e),P=e=>"[object Object]"===E(e),A=e=>w(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,O=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),D=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},M=/-\w/g,T=D(e=>e.replace(M,e=>e.slice(1).toUpperCase())),I=/\B([A-Z])/g,j=D(e=>e.replace(I,"-$1").toLowerCase()),L=D(e=>e.charAt(0).toUpperCase()+e.slice(1)),F=D(e=>e?"on".concat(L(e)):""),N=(e,t)=>!Object.is(e,t),R=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},B=(e,t,n,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:n})},V=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let z;const U=()=>z||(z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function q(e){if(g(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],s=w(a)?K(a):q(a);if(s)for(const e in s)t[e]=s[e]}return t}if(w(e)||k(e))return e}const H=/;(?![^(]*\))/g,W=/:([^]+)/,$=/\/\*[^]*?\*\//g;function K(e){const t={};return e.replace($,"").split(H).forEach(e=>{if(e){const n=e.split(W);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Y(e){let t="";if(w(e))t=e;else if(g(e))for(let n=0;n<e.length;n++){const a=Y(e[n]);a&&(t+=a+" ")}else if(k(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function G(e){if(!e)return null;let{class:t,style:n}=e;return t&&!w(t)&&(e.class=Y(t)),n&&(e.style=q(n)),e}const X=r("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Q(e){return!!e||""===e}function J(e,t){if(e===t)return!0;let n=b(e),a=b(t);if(n||a)return!(!n||!a)&&e.getTime()===t.getTime();if(n=_(e),a=_(t),n||a)return e===t;if(n=g(e),a=g(t),n||a)return!(!n||!a)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let a=0;n&&a<e.length;a++)n=J(e[a],t[a]);return n}(e,t);if(n=k(e),a=k(t),n||a){if(!n||!a)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const a=e.hasOwnProperty(n),s=t.hasOwnProperty(n);if(a&&!s||!a&&s||!J(e[n],t[n]))return!1}}return String(e)===String(t)}function Z(e,t){return e.findIndex(e=>J(e,t))}const ee=e=>!(!e||!0!==e.__v_isRef),te=e=>w(e)?e:null==e?"":g(e)||k(e)&&(e.toString===S||!x(e.toString))?ee(e)?te(e.value):JSON.stringify(e,ne,2):String(e),ne=(e,t)=>ee(t)?ne(e,t.value):v(t)?{["Map(".concat(t.size,")")]:[...t.entries()].reduce((e,[t,n],a)=>(e[ae(t,a)+" =>"]=n,e),{})}:y(t)?{["Set(".concat(t.size,")")]:[...t.values()].map(e=>ae(e))}:_(t)?ae(t):!k(t)||g(t)||P(t)?t:String(t),ae=(e,t="")=>{var n;return _(e)?"Symbol(".concat(null!=(n=e.description)?n:t,")"):e};let se,re;class ie{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=se,!e&&se&&(this.index=(se.scopes||(se.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=se;try{return se=this,e()}finally{se=t}}}on(){1===++this._on&&(this.prevScope=se,se=this)}off(){this._on>0&&0===--this._on&&(se=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function oe(e){return new ie(e)}function le(){return se}const ce=new WeakSet;class ue{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,se&&se.active&&se.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ce.has(this)&&(ce.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||fe(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,Pe(this),ve(this);const e=re,t=ke;re=this,ke=!0;try{return this.fn()}finally{ye(this),re=e,ke=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)we(e);this.deps=this.depsTail=void 0,Pe(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ce.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){be(this)&&this.run()}get dirty(){return be(this)}}let de,he,pe=0;function fe(e,t=!1){if(e.flags|=8,t)return e.next=he,void(he=e);e.next=de,de=e}function me(){pe++}function ge(){if(--pe>0)return;if(he){let e=he;for(he=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;de;){let n=de;for(de=void 0;n;){const a=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=a}}if(e)throw e}function ve(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ye(e){let t,n=e.depsTail,a=n;for(;a;){const e=a.prevDep;-1===a.version?(a===n&&(n=e),we(a),_e(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=e}e.deps=t,e.depsTail=n}function be(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(xe(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function xe(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Ae)return;if(e.globalVersion=Ae,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!be(e)))return;e.flags|=2;const t=e.dep,n=re,a=ke;re=e,ke=!0;try{ve(e);const n=e.fn(e._value);(0===t.version||N(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(s){throw t.version++,s}finally{re=n,ke=a,ye(e),e.flags&=-3}}function we(e,t=!1){const{dep:n,prevSub:a,nextSub:s}=e;if(a&&(a.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=a,e.nextSub=void 0),n.subs===e&&(n.subs=a,!a&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)we(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function _e(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ke=!0;const Ce=[];function Se(){Ce.push(ke),ke=!1}function Ee(){const e=Ce.pop();ke=void 0===e||e}function Pe(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=re;re=void 0;try{t()}finally{re=e}}}let Ae=0;class Oe{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class De{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!re||!ke||re===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==re)t=this.activeLink=new Oe(re,this),re.deps?(t.prevDep=re.depsTail,re.depsTail.nextDep=t,re.depsTail=t):re.deps=re.depsTail=t,Me(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=re.depsTail,t.nextDep=void 0,re.depsTail.nextDep=t,re.depsTail=t,re.deps===t&&(re.deps=e)}return t}trigger(e){this.version++,Ae++,this.notify(e)}notify(e){me();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{ge()}}}function Me(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Me(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Te=new WeakMap,Ie=Symbol(""),je=Symbol(""),Le=Symbol("");function Fe(e,t,n){if(ke&&re){let t=Te.get(e);t||Te.set(e,t=new Map);let a=t.get(n);a||(t.set(n,a=new De),a.map=t,a.key=n),a.track()}}function Ne(e,t,n,a,s,r){const i=Te.get(e);if(!i)return void Ae++;const o=e=>{e&&e.trigger()};if(me(),"clear"===t)i.forEach(o);else{const s=g(e),r=s&&A(n);if(s&&"length"===n){const e=Number(a);i.forEach((t,n)=>{("length"===n||n===Le||!_(n)&&n>=e)&&o(t)})}else switch((void 0!==n||i.has(void 0))&&o(i.get(n)),r&&o(i.get(Le)),t){case"add":s?r&&o(i.get("length")):(o(i.get(Ie)),v(e)&&o(i.get(je)));break;case"delete":s||(o(i.get(Ie)),v(e)&&o(i.get(je)));break;case"set":v(e)&&o(i.get(Ie))}}ge()}function Re(e){const t=kt(e);return t===e?t:(Fe(t,0,Le),wt(e)?t:t.map(St))}function Be(e){return Fe(e=kt(e),0,Le),e}const Ve={__proto__:null,[Symbol.iterator](){return ze(this,Symbol.iterator,St)},concat(...e){return Re(this).concat(...e.map(e=>g(e)?Re(e):e))},entries(){return ze(this,"entries",e=>(e[1]=St(e[1]),e))},every(e,t){return qe(this,"every",e,t,void 0,arguments)},filter(e,t){return qe(this,"filter",e,t,e=>e.map(St),arguments)},find(e,t){return qe(this,"find",e,t,St,arguments)},findIndex(e,t){return qe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return qe(this,"findLast",e,t,St,arguments)},findLastIndex(e,t){return qe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return qe(this,"forEach",e,t,void 0,arguments)},includes(...e){return We(this,"includes",e)},indexOf(...e){return We(this,"indexOf",e)},join(e){return Re(this).join(e)},lastIndexOf(...e){return We(this,"lastIndexOf",e)},map(e,t){return qe(this,"map",e,t,void 0,arguments)},pop(){return $e(this,"pop")},push(...e){return $e(this,"push",e)},reduce(e,...t){return He(this,"reduce",e,t)},reduceRight(e,...t){return He(this,"reduceRight",e,t)},shift(){return $e(this,"shift")},some(e,t){return qe(this,"some",e,t,void 0,arguments)},splice(...e){return $e(this,"splice",e)},toReversed(){return Re(this).toReversed()},toSorted(e){return Re(this).toSorted(e)},toSpliced(...e){return Re(this).toSpliced(...e)},unshift(...e){return $e(this,"unshift",e)},values(){return ze(this,"values",St)}};function ze(e,t,n){const a=Be(e),s=a[t]();return a===e||wt(e)||(s._next=s.next,s.next=()=>{const e=s._next();return e.done||(e.value=n(e.value)),e}),s}const Ue=Array.prototype;function qe(e,t,n,a,s,r){const i=Be(e),o=i!==e&&!wt(e),l=i[t];if(l!==Ue[t]){const t=l.apply(e,r);return o?St(t):t}let c=n;i!==e&&(o?c=function(t,a){return n.call(this,St(t),a,e)}:n.length>2&&(c=function(t,a){return n.call(this,t,a,e)}));const u=l.call(i,c,a);return o&&s?s(u):u}function He(e,t,n,a){const s=Be(e);let r=n;return s!==e&&(wt(e)?n.length>3&&(r=function(t,a,s){return n.call(this,t,a,s,e)}):r=function(t,a,s){return n.call(this,t,St(a),s,e)}),s[t](r,...a)}function We(e,t,n){const a=kt(e);Fe(a,0,Le);const s=a[t](...n);return-1!==s&&!1!==s||!_t(n[0])?s:(n[0]=kt(n[0]),a[t](...n))}function $e(e,t,n=[]){Se(),me();const a=kt(e)[t].apply(e,n);return ge(),Ee(),a}const Ke=r("__proto__,__v_isRef,__isVue"),Ye=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(_));function Ge(e){_(e)||(e=String(e));const t=kt(this);return Fe(t,0,e),t.hasOwnProperty(e)}class Xe{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const a=this._isReadonly,s=this._isShallow;if("__v_isReactive"===t)return!a;if("__v_isReadonly"===t)return a;if("__v_isShallow"===t)return s;if("__v_raw"===t)return n===(a?s?pt:ht:s?dt:ut).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const r=g(e);if(!a){let e;if(r&&(e=Ve[t]))return e;if("hasOwnProperty"===t)return Ge}const i=Reflect.get(e,t,Pt(e)?e:n);if(_(t)?Ye.has(t):Ke(t))return i;if(a||Fe(e,0,t),s)return i;if(Pt(i)){const e=r&&A(t)?i:i.value;return a&&k(e)?vt(e):e}return k(i)?a?vt(i):mt(i):i}}class Qe extends Xe{constructor(e=!1){super(!1,e)}set(e,t,n,a){let s=e[t];if(!this._isShallow){const t=xt(s);if(wt(n)||xt(n)||(s=kt(s),n=kt(n)),!g(e)&&Pt(s)&&!Pt(n))return t||(s.value=n),!0}const r=g(e)&&A(t)?Number(t)<e.length:m(e,t),i=Reflect.set(e,t,n,Pt(e)?e:a);return e===kt(a)&&(r?N(n,s)&&Ne(e,"set",t,n):Ne(e,"add",t,n)),i}deleteProperty(e,t){const n=m(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&n&&Ne(e,"delete",t,void 0),a}has(e,t){const n=Reflect.has(e,t);return _(t)&&Ye.has(t)||Fe(e,0,t),n}ownKeys(e){return Fe(e,0,g(e)?"length":Ie),Reflect.ownKeys(e)}}class Je extends Xe{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Ze=new Qe,et=new Je,tt=new Qe(!0),nt=e=>e,at=e=>Reflect.getPrototypeOf(e);function st(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function rt(e,t){const n={get(n){const a=this.__v_raw,s=kt(a),r=kt(n);e||(N(n,r)&&Fe(s,0,n),Fe(s,0,r));const{has:i}=at(s),o=t?nt:e?Et:St;return i.call(s,n)?o(a.get(n)):i.call(s,r)?o(a.get(r)):void(a!==s&&a.get(n))},get size(){const t=this.__v_raw;return!e&&Fe(kt(t),0,Ie),t.size},has(t){const n=this.__v_raw,a=kt(n),s=kt(t);return e||(N(t,s)&&Fe(a,0,t),Fe(a,0,s)),t===s?n.has(t):n.has(t)||n.has(s)},forEach(n,a){const s=this,r=s.__v_raw,i=kt(r),o=t?nt:e?Et:St;return!e&&Fe(i,0,Ie),r.forEach((e,t)=>n.call(a,o(e),o(t),s))}};h(n,e?{add:st("add"),set:st("set"),delete:st("delete"),clear:st("clear")}:{add(e){t||wt(e)||xt(e)||(e=kt(e));const n=kt(this);return at(n).has.call(n,e)||(n.add(e),Ne(n,"add",e,e)),this},set(e,n){t||wt(n)||xt(n)||(n=kt(n));const a=kt(this),{has:s,get:r}=at(a);let i=s.call(a,e);i||(e=kt(e),i=s.call(a,e));const o=r.call(a,e);return a.set(e,n),i?N(n,o)&&Ne(a,"set",e,n):Ne(a,"add",e,n),this},delete(e){const t=kt(this),{has:n,get:a}=at(t);let s=n.call(t,e);s||(e=kt(e),s=n.call(t,e)),a&&a.call(t,e);const r=t.delete(e);return s&&Ne(t,"delete",e,void 0),r},clear(){const e=kt(this),t=0!==e.size,n=e.clear();return t&&Ne(e,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=function(e,t,n){return function(...a){const s=this.__v_raw,r=kt(s),i=v(r),o="entries"===e||e===Symbol.iterator&&i,l="keys"===e&&i,c=s[e](...a),u=n?nt:t?Et:St;return!t&&Fe(r,0,l?je:Ie),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:o?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}(a,e,t)}),n}function it(e,t){const n=rt(e,t);return(t,a,s)=>"__v_isReactive"===a?!e:"__v_isReadonly"===a?e:"__v_raw"===a?t:Reflect.get(m(n,a)&&a in t?n:t,a,s)}const ot={get:it(!1,!1)},lt={get:it(!1,!0)},ct={get:it(!0,!1)},ut=new WeakMap,dt=new WeakMap,ht=new WeakMap,pt=new WeakMap;function ft(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>E(e).slice(8,-1))(e))}function mt(e){return xt(e)?e:yt(e,!1,Ze,ot,ut)}function gt(e){return yt(e,!1,tt,lt,dt)}function vt(e){return yt(e,!0,et,ct,ht)}function yt(e,t,n,a,s){if(!k(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const r=ft(e);if(0===r)return e;const i=s.get(e);if(i)return i;const o=new Proxy(e,2===r?a:n);return s.set(e,o),o}function bt(e){return xt(e)?bt(e.__v_raw):!(!e||!e.__v_isReactive)}function xt(e){return!(!e||!e.__v_isReadonly)}function wt(e){return!(!e||!e.__v_isShallow)}function _t(e){return!!e&&!!e.__v_raw}function kt(e){const t=e&&e.__v_raw;return t?kt(t):e}function Ct(e){return!m(e,"__v_skip")&&Object.isExtensible(e)&&B(e,"__v_skip",!0),e}const St=e=>k(e)?mt(e):e,Et=e=>k(e)?vt(e):e;function Pt(e){return!!e&&!0===e.__v_isRef}function At(e){return Dt(e,!1)}function Ot(e){return Dt(e,!0)}function Dt(e,t){return Pt(e)?e:new Mt(e,t)}class Mt{constructor(e,t){this.dep=new De,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:kt(e),this._value=t?e:St(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||wt(e)||xt(e);e=n?e:kt(e),N(e,t)&&(this._rawValue=e,this._value=n?e:St(e),this.dep.trigger())}}function Tt(e){return Pt(e)?e.value:e}const It={get:(e,t,n)=>"__v_raw"===t?e:Tt(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const s=e[t];return Pt(s)&&!Pt(n)?(s.value=n,!0):Reflect.set(e,t,n,a)}};function jt(e){return bt(e)?e:new Proxy(e,It)}class Lt{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return function(e,t){const n=Te.get(e);return n&&n.get(t)}(kt(this._object),this._key)}}function Ft(e,t,n){const a=e[t];return Pt(a)?a:new Lt(e,t,n)}class Nt{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new De(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ae-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&re!==this)return fe(this,!0),!0}get value(){const e=this.dep.track();return xe(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const Rt={},Bt=new WeakMap;let Vt;function zt(e,t,n=i){const{immediate:a,deep:s,once:r,scheduler:o,augmentJob:c,call:u}=n,d=e=>s?e:wt(e)||!1===s||0===s?Ut(e,1):Ut(e);let h,f,m,v,y=!1,b=!1;if(Pt(e)?(f=()=>e.value,y=wt(e)):bt(e)?(f=()=>d(e),y=!0):g(e)?(b=!0,y=e.some(e=>bt(e)||wt(e)),f=()=>e.map(e=>Pt(e)?e.value:bt(e)?d(e):x(e)?u?u(e,2):e():void 0)):f=x(e)?t?u?()=>u(e,2):e:()=>{if(m){Se();try{m()}finally{Ee()}}const t=Vt;Vt=h;try{return u?u(e,3,[v]):e(v)}finally{Vt=t}}:l,t&&s){const e=f,t=!0===s?1/0:s;f=()=>Ut(e(),t)}const w=le(),_=()=>{h.stop(),w&&w.active&&p(w.effects,h)};if(r&&t){const e=t;t=(...t)=>{e(...t),_()}}let k=b?new Array(e.length).fill(Rt):Rt;const C=e=>{if(1&h.flags&&(h.dirty||e))if(t){const e=h.run();if(s||y||(b?e.some((e,t)=>N(e,k[t])):N(e,k))){m&&m();const n=Vt;Vt=h;try{const n=[e,k===Rt?void 0:b&&k[0]===Rt?[]:k,v];k=e,u?u(t,3,n):t(...n)}finally{Vt=n}}}else h.run()};return c&&c(C),h=new ue(f),h.scheduler=o?()=>o(C,!1):C,v=e=>function(e,t=!1,n=Vt){if(n){let t=Bt.get(n);t||Bt.set(n,t=[]),t.push(e)}}(e,!1,h),m=h.onStop=()=>{const e=Bt.get(h);if(e){if(u)u(e,4);else for(const t of e)t();Bt.delete(h)}},t?a?C(!0):k=h.run():o?o(C.bind(null,!0),!0):h.run(),_.pause=h.pause.bind(h),_.resume=h.resume.bind(h),_.stop=_,_}function Ut(e,t=1/0,n){if(t<=0||!k(e)||e.__v_skip)return e;if(((n=n||new Map).get(e)||0)>=t)return e;if(n.set(e,t),t--,Pt(e))Ut(e.value,t,n);else if(g(e))for(let a=0;a<e.length;a++)Ut(e[a],t,n);else if(y(e)||v(e))e.forEach(e=>{Ut(e,t,n)});else if(P(e)){for(const a in e)Ut(e[a],t,n);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Ut(e[a],t,n)}return e}function qt(e,t,n,a){try{return a?e(...a):e()}catch(s){Wt(s,t,n)}}function Ht(e,t,n,a){if(x(e)){const s=qt(e,t,n,a);return s&&C(s)&&s.catch(e=>{Wt(e,t,n)}),s}if(g(e)){const s=[];for(let r=0;r<e.length;r++)s.push(Ht(e[r],t,n,a));return s}}function Wt(e,t,n,a=!0){t&&t.vnode;const{errorHandler:s,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||i;if(t){let a=t.parent;const r=t.proxy,i="https://vuejs.org/error-reference/#runtime-".concat(n);for(;a;){const t=a.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,i))return;a=a.parent}if(s)return Se(),qt(s,null,10,[e,r,i]),void Ee()}!function(e,t,n,a=!0,s=!1){if(s)throw e;console.error(e)}(e,0,0,a,r)}const $t=[];let Kt=-1;const Yt=[];let Gt=null,Xt=0;const Qt=Promise.resolve();let Jt=null;function Zt(e){const t=Jt||Qt;return e?t.then(this?e.bind(this):e):t}function en(e){if(!(1&e.flags)){const t=sn(e),n=$t[$t.length-1];!n||!(2&e.flags)&&t>=sn(n)?$t.push(e):$t.splice(function(e){let t=Kt+1,n=$t.length;for(;t<n;){const a=t+n>>>1,s=$t[a],r=sn(s);r<e||r===e&&2&s.flags?t=a+1:n=a}return t}(t),0,e),e.flags|=1,tn()}}function tn(){Jt||(Jt=Qt.then(rn))}function nn(e,t,n=Kt+1){for(;n<$t.length;n++){const t=$t[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;$t.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function an(e){if(Yt.length){const e=[...new Set(Yt)].sort((e,t)=>sn(e)-sn(t));if(Yt.length=0,Gt)return void Gt.push(...e);for(Gt=e,Xt=0;Xt<Gt.length;Xt++){const e=Gt[Xt];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}Gt=null,Xt=0}}const sn=e=>null==e.id?2&e.flags?-1:1/0:e.id;function rn(e){try{for(Kt=0;Kt<$t.length;Kt++){const e=$t[Kt];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),qt(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;Kt<$t.length;Kt++){const e=$t[Kt];e&&(e.flags&=-2)}Kt=-1,$t.length=0,an(),Jt=null,($t.length||Yt.length)&&rn()}}let on=null,ln=null;function cn(e){const t=on;return on=e,ln=e&&e.type.__scopeId||null,t}function un(e,t=on,n){if(!t)return e;if(e._n)return e;const a=(...n)=>{a._d&&ws(-1);const s=cn(t);let r;try{r=e(...n)}finally{cn(s),a._d&&ws(1)}return r};return a._n=!0,a._c=!0,a._d=!0,a}function dn(e,t){if(null===on)return e;const n=er(on),a=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,r,o,l=i]=t[s];e&&(x(e)&&(e={mounted:e,updated:e}),e.deep&&Ut(r),a.push({dir:e,instance:n,value:r,oldValue:void 0,arg:o,modifiers:l}))}return e}function hn(e,t,n,a){const s=e.dirs,r=t&&t.dirs;for(let i=0;i<s.length;i++){const o=s[i];r&&(o.oldValue=r[i].value);let l=o.dir[a];l&&(Se(),Ht(l,n,8,[e.el,o,e,t]),Ee())}}const pn=Symbol("_vte"),fn=e=>e.__isTeleport,mn=Symbol("_leaveCb"),gn=Symbol("_enterCb");const vn=[Function,Array],yn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vn,onEnter:vn,onAfterEnter:vn,onEnterCancelled:vn,onBeforeLeave:vn,onLeave:vn,onAfterLeave:vn,onLeaveCancelled:vn,onBeforeAppear:vn,onAppear:vn,onAfterAppear:vn,onAppearCancelled:vn},bn=e=>{const t=e.subTree;return t.component?bn(t.component):t};function xn(e){let t=e[0];if(e.length>1)for(const n of e)if(n.type!==ms){t=n;break}return t}const wn={name:"BaseTransition",props:yn,setup(e,{slots:t}){const n=Hs(),a=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Un(()=>{e.isMounted=!0}),Wn(()=>{e.isUnmounting=!0}),e}();return()=>{const s=t.default&&Pn(t.default(),!0);if(!s||!s.length)return;const r=xn(s),i=kt(e),{mode:o}=i;if(a.isLeaving)return Cn(r);const l=Sn(r);if(!l)return Cn(r);let c=kn(l,i,a,n,e=>c=e);l.type!==ms&&En(l,c);let u=n.subTree&&Sn(n.subTree);if(u&&u.type!==ms&&!Es(u,l)&&bn(n).type!==ms){let e=kn(u,i,a,n);if(En(u,e),"out-in"===o&&l.type!==ms)return a.isLeaving=!0,e.afterLeave=()=>{a.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,u=void 0},Cn(r);"in-out"===o&&l.type!==ms?e.delayLeave=(e,t,n)=>{_n(a,u)[String(u.key)]=u,e[mn]=()=>{t(),e[mn]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{n(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function _n(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function kn(e,t,n,a,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:x}=t,w=String(e.key),_=_n(n,e),k=(e,t)=>{e&&Ht(e,a,9,t)},C=(e,t)=>{const n=t[1];k(e,t),g(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},S={mode:i,persisted:o,beforeEnter(t){let a=l;if(!n.isMounted){if(!r)return;a=v||l}t[mn]&&t[mn](!0);const s=_[w];s&&Es(e,s)&&s.el[mn]&&s.el[mn](),k(a,[t])},enter(e){let t=c,a=u,s=d;if(!n.isMounted){if(!r)return;t=y||c,a=b||u,s=x||d}let i=!1;const o=e[gn]=t=>{i||(i=!0,k(t?s:a,[e]),S.delayedLeave&&S.delayedLeave(),e[gn]=void 0)};t?C(t,[e,o]):o()},leave(t,a){const s=String(e.key);if(t[gn]&&t[gn](!0),n.isUnmounting)return a();k(h,[t]);let r=!1;const i=t[mn]=n=>{r||(r=!0,a(),k(n?m:f,[t]),t[mn]=void 0,_[s]===e&&delete _[s])};_[s]=e,p?C(p,[t,i]):i()},clone(e){const r=kn(e,t,n,a,s);return s&&s(r),r}};return S}function Cn(e){if(jn(e))return(e=Ts(e)).children=null,e}function Sn(e){if(!jn(e))return fn(e.type)&&e.children?xn(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&x(n.default))return n.default()}}function En(e,t){6&e.shapeFlag&&e.component?(e.transition=t,En(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Pn(e,t=!1,n){let a=[],s=0;for(let r=0;r<e.length;r++){let i=e[r];const o=null==n?i.key:String(n)+String(null!=i.key?i.key:r);i.type===ps?(128&i.patchFlag&&s++,a=a.concat(Pn(i.children,t,o))):(t||i.type!==ms)&&a.push(null!=o?Ts(i,{key:o}):i)}if(s>1)for(let r=0;r<a.length;r++)a[r].patchFlag=-2;return a}function An(e,t){return x(e)?(()=>h({name:e.name},t,{setup:e}))():e}function On(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Dn=new WeakMap;function Mn(e,t,n,a,s=!1){if(g(e))return void e.forEach((e,r)=>Mn(e,t&&(g(t)?t[r]:t),n,a,s));if(In(a)&&!s)return void(512&a.shapeFlag&&a.type.__asyncResolved&&a.component.subTree.component&&Mn(e,t,n,a.component.subTree));const r=4&a.shapeFlag?er(a.component):a.el,o=s?null:r,{i:l,r:u}=e,d=t&&t.r,h=l.refs===i?l.refs={}:l.refs,f=l.setupState,v=kt(f),y=f===i?c:e=>m(v,e);if(null!=d&&d!==u)if(Tn(t),w(d))h[d]=null,y(d)&&(f[d]=null);else if(Pt(d)){d.value=null;const e=t;e.k&&(h[e.k]=null)}if(x(u))qt(u,l,12,[o,h]);else{const t=w(u),a=Pt(u);if(t||a){const i=()=>{if(e.f){const n=t?y(u)?f[u]:h[u]:u.value;if(s)g(n)&&p(n,r);else if(g(n))n.includes(r)||n.push(r);else if(t)h[u]=[r],y(u)&&(f[u]=h[u]);else{const t=[r];u.value=t,e.k&&(h[e.k]=t)}}else t?(h[u]=o,y(u)&&(f[u]=o)):a&&(u.value=o,e.k&&(h[e.k]=o))};if(o){const t=()=>{i(),Dn.delete(e)};t.id=-1,Dn.set(e,t),Ha(t,n)}else Tn(e),i()}}}function Tn(e){const t=Dn.get(e);t&&(t.flags|=8,Dn.delete(e))}U().requestIdleCallback,U().cancelIdleCallback;const In=e=>!!e.type.__asyncLoader,jn=e=>e.type.__isKeepAlive;function Ln(e,t){Nn(e,"a",t)}function Fn(e,t){Nn(e,"da",t)}function Nn(e,t,n=qs){const a=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Bn(t,a,n),n){let e=n.parent;for(;e&&e.parent;)jn(e.parent.vnode)&&Rn(a,t,n,e),e=e.parent}}function Rn(e,t,n,a){const s=Bn(t,e,a,!0);$n(()=>{p(a[t],s)},n)}function Bn(e,t,n=qs,a=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...a)=>{Se();const s=Ks(n),r=Ht(t,n,e,a);return s(),Ee(),r});return a?s.unshift(r):s.push(r),r}}const Vn=e=>(t,n=qs)=>{Xs&&"sp"!==e||Bn(e,(...e)=>t(...e),n)},zn=Vn("bm"),Un=Vn("m"),qn=Vn("bu"),Hn=Vn("u"),Wn=Vn("bum"),$n=Vn("um"),Kn=Vn("sp"),Yn=Vn("rtg"),Gn=Vn("rtc");function Xn(e,t=qs){Bn("ec",e,t)}const Qn="components";function Jn(e,t){return ta(Qn,e,!0,t)||e}const Zn=Symbol.for("v-ndc");function ea(e){return w(e)?ta(Qn,e,!1)||e:e||Zn}function ta(e,t,n=!0,a=!1){const s=on||qs;if(s){const n=s.type;if(e===Qn){const e=tr(n,!1);if(e&&(e===t||e===T(t)||e===L(T(t))))return n}const r=na(s[e]||n[e],t)||na(s.appContext[e],t);return!r&&a?n:r}}function na(e,t){return e&&(e[t]||e[T(t)]||e[L(T(t))])}function aa(e,t,n,a){let s;const r=n,i=g(e);if(i||w(e)){let n=!1,a=!1;i&&bt(e)&&(n=!wt(e),a=xt(e),e=Be(e)),s=new Array(e.length);for(let i=0,o=e.length;i<o;i++)s[i]=t(n?a?Et(St(e[i])):St(e[i]):e[i],i,void 0,r)}else if("number"==typeof e){s=new Array(e);for(let n=0;n<e;n++)s[n]=t(n+1,n,void 0,r)}else if(k(e))if(e[Symbol.iterator])s=Array.from(e,(e,n)=>t(e,n,void 0,r));else{const n=Object.keys(e);s=new Array(n.length);for(let a=0,i=n.length;a<i;a++){const i=n[a];s[a]=t(e[i],i,a,r)}}else s=[];return s}function sa(e,t,n={},a,s){if(on.ce||on.parent&&In(on.parent)&&on.parent.ce){const e=Object.keys(n).length>0;return"default"!==t&&(n.name=t),bs(),Cs(ps,null,[Ds("slot",n,a&&a())],e?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),bs();const i=r&&ra(r(n)),o=n.key||i&&i.key,l=Cs(ps,{key:(o&&!_(o)?o:"_".concat(t))+(!i&&a?"_fb":"")},i||(a?a():[]),i&&1===e._?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function ra(e){return e.some(e=>!Ss(e)||e.type!==ms&&!(e.type===ps&&!ra(e.children)))?e:null}function ia(e,t){const n={};for(const a in e)n[F(a)]=e[a];return n}const oa=e=>e?Gs(e)?er(e):oa(e.parent):null,la=h(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oa(e.parent),$root:e=>oa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ga(e),$forceUpdate:e=>e.f||(e.f=()=>{en(e.update)}),$nextTick:e=>e.n||(e.n=Zt.bind(e.proxy)),$watch:e=>ts.bind(e)}),ca=(e,t)=>e!==i&&!e.__isScriptSetup&&m(e,t),ua={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:a,data:s,props:r,accessCache:o,type:l,appContext:c}=e;let u;if("$"!==t[0]){const l=o[t];if(void 0!==l)switch(l){case 1:return a[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(ca(a,t))return o[t]=1,a[t];if(s!==i&&m(s,t))return o[t]=2,s[t];if((u=e.propsOptions[0])&&m(u,t))return o[t]=3,r[t];if(n!==i&&m(n,t))return o[t]=4,n[t];ha&&(o[t]=0)}}const d=la[t];let h,p;return d?("$attrs"===t&&Fe(e.attrs,0,""),d(e)):(h=l.__cssModules)&&(h=h[t])?h:n!==i&&m(n,t)?(o[t]=4,n[t]):(p=c.config.globalProperties,m(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:a,setupState:s,ctx:r}=e;return ca(s,t)?(s[t]=n,!0):a!==i&&m(a,t)?(a[t]=n,!0):!m(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(r[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:s,propsOptions:r,type:o}},l){let c,u;return!!(n[l]||e!==i&&"$"!==l[0]&&m(e,l)||ca(t,l)||(c=r[0])&&m(c,l)||m(a,l)||m(la,l)||m(s.config.globalProperties,l)||(u=o.__cssModules)&&u[l])},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:m(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function da(e){return g(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let ha=!0;function pa(e){const t=ga(e),n=e.proxy,a=e.ctx;ha=!1,t.beforeCreate&&fa(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:i,watch:o,provide:c,inject:u,created:d,beforeMount:h,mounted:p,beforeUpdate:f,updated:m,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:C,render:S,renderTracked:E,renderTriggered:P,errorCaptured:A,serverPrefetch:O,expose:D,inheritAttrs:M,components:T,directives:I,filters:j}=t;if(u&&function(e,t){g(e)&&(e=xa(e));for(const n in e){const a=e[n];let s;s=k(a)?"default"in a?Oa(a.from||n,a.default,!0):Oa(a.from||n):Oa(a),Pt(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[n]=s}}(u,a,null),i)for(const l in i){const e=i[l];x(e)&&(a[l]=e.bind(n))}if(s){const t=s.call(n,n);k(t)&&(e.data=mt(t))}if(ha=!0,r)for(const g in r){const e=r[g],t=x(e)?e.bind(n,n):x(e.get)?e.get.bind(n,n):l,s=!x(e)&&x(e.set)?e.set.bind(n):l,i=nr({get:t,set:s});Object.defineProperty(a,g,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(o)for(const l in o)ma(o[l],a,n,l);if(c){const e=x(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{Aa(t,e[t])})}function L(e,t){g(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(d&&fa(d,e,"c"),L(zn,h),L(Un,p),L(qn,f),L(Hn,m),L(Ln,v),L(Fn,y),L(Xn,A),L(Gn,E),L(Yn,P),L(Wn,w),L($n,C),L(Kn,O),g(D))if(D.length){const t=e.exposed||(e.exposed={});D.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||(e.exposed={});S&&e.render===l&&(e.render=S),null!=M&&(e.inheritAttrs=M),T&&(e.components=T),I&&(e.directives=I),O&&On(e)}function fa(e,t,n){Ht(g(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function ma(e,t,n,a){let s=a.includes(".")?ns(n,a):()=>n[a];if(w(e)){const n=t[e];x(n)&&Za(s,n)}else if(x(e))Za(s,e.bind(n));else if(k(e))if(g(e))e.forEach(e=>ma(e,t,n,a));else{const a=x(e.handler)?e.handler.bind(n):t[e.handler];x(a)&&Za(s,a,e)}}function ga(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,o=r.get(t);let l;return o?l=o:s.length||n||a?(l={},s.length&&s.forEach(e=>va(l,e,i,!0)),va(l,t,i)):l=t,k(t)&&r.set(t,l),l}function va(e,t,n,a=!1){const{mixins:s,extends:r}=t;r&&va(e,r,n,!0),s&&s.forEach(t=>va(e,t,n,!0));for(const i in t)if(a&&"expose"===i);else{const a=ya[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const ya={data:ba,props:ka,emits:ka,methods:_a,computed:_a,beforeCreate:wa,created:wa,beforeMount:wa,mounted:wa,beforeUpdate:wa,updated:wa,beforeDestroy:wa,beforeUnmount:wa,destroyed:wa,unmounted:wa,activated:wa,deactivated:wa,errorCaptured:wa,serverPrefetch:wa,components:_a,directives:_a,watch:function(e,t){if(!e)return t;if(!t)return e;const n=h(Object.create(null),e);for(const a in t)n[a]=wa(e[a],t[a]);return n},provide:ba,inject:function(e,t){return _a(xa(e),xa(t))}};function ba(e,t){return t?e?function(){return h(x(e)?e.call(this,this):e,x(t)?t.call(this,this):t)}:t:e}function xa(e){if(g(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function wa(e,t){return e?[...new Set([].concat(e,t))]:t}function _a(e,t){return e?h(Object.create(null),e,t):t}function ka(e,t){return e?g(e)&&g(t)?[...new Set([...e,...t])]:h(Object.create(null),da(e),da(null!=t?t:{})):t}function Ca(){return{app:null,config:{isNativeTag:c,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sa=0;function Ea(e,t){return function(t,n=null){x(t)||(t=h({},t)),null==n||k(n)||(n=null);const a=Ca(),s=new WeakSet,r=[];let i=!1;const o=a.app={_uid:Sa++,_component:t,_props:n,_container:null,_context:a,_instance:null,version:sr,get config(){return a.config},set config(e){},use:(e,...t)=>(s.has(e)||(e&&x(e.install)?(s.add(e),e.install(o,...t)):x(e)&&(s.add(e),e(o,...t))),o),mixin:e=>(a.mixins.includes(e)||a.mixins.push(e),o),component:(e,t)=>t?(a.components[e]=t,o):a.components[e],directive:(e,t)=>t?(a.directives[e]=t,o):a.directives[e],mount(s,r,l){if(!i){const r=o._ceVNode||Ds(t,n);return r.appContext=a,!0===l?l="svg":!1===l&&(l=void 0),e(r,s,l),i=!0,o._container=s,s.__vue_app__=o,er(r.component)}},onUnmount(e){r.push(e)},unmount(){i&&(Ht(r,o._instance,16),e(null,o._container),delete o._container.__vue_app__)},provide:(e,t)=>(a.provides[e]=t,o),runWithContext(e){const t=Pa;Pa=o;try{return e()}finally{Pa=t}}};return o}}let Pa=null;function Aa(e,t){if(qs){let n=qs.provides;const a=qs.parent&&qs.parent.provides;a===n&&(n=qs.provides=Object.create(a)),n[e]=t}else;}function Oa(e,t,n=!1){const a=Hs();if(a||Pa){let s=Pa?Pa._context.provides:a?null==a.parent||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&x(t)?t.call(a&&a.proxy):t}}const Da={},Ma=()=>Object.create(Da),Ta=e=>Object.getPrototypeOf(e)===Da;function Ia(e,t,n,a){const[s,r]=e.propsOptions;let o,l=!1;if(t)for(let i in t){if(O(i))continue;const c=t[i];let u;s&&m(s,u=T(i))?r&&r.includes(u)?(o||(o={}))[u]=c:n[u]=c:os(e.emitsOptions,i)||i in a&&c===a[i]||(a[i]=c,l=!0)}if(r){const t=kt(n),a=o||i;for(let i=0;i<r.length;i++){const o=r[i];n[o]=ja(s,t,o,a[o],e,!m(a,o))}}return l}function ja(e,t,n,a,s,r){const i=e[n];if(null!=i){const e=m(i,"default");if(e&&void 0===a){const e=i.default;if(i.type!==Function&&!i.skipFactory&&x(e)){const{propsDefaults:r}=s;if(n in r)a=r[n];else{const i=Ks(s);a=r[n]=e.call(null,t),i()}}else a=e;s.ce&&s.ce._setProp(n,a)}i[0]&&(r&&!e?a=!1:!i[1]||""!==a&&a!==j(n)||(a=!0))}return a}const La=new WeakMap;function Fa(e,t,n=!1){const a=n?La:t.propsCache,s=a.get(e);if(s)return s;const r=e.props,l={},c=[];let u=!1;if(!x(e)){const a=e=>{u=!0;const[n,a]=Fa(e,t,!0);h(l,n),a&&c.push(...a)};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}if(!r&&!u)return k(e)&&a.set(e,o),o;if(g(r))for(let o=0;o<r.length;o++){const e=T(r[o]);Na(e)&&(l[e]=i)}else if(r)for(const i in r){const e=T(i);if(Na(e)){const t=r[i],n=l[e]=g(t)||x(t)?{type:t}:h({},t),a=n.type;let s=!1,o=!0;if(g(a))for(let e=0;e<a.length;++e){const t=a[e],n=x(t)&&t.name;if("Boolean"===n){s=!0;break}"String"===n&&(o=!1)}else s=x(a)&&"Boolean"===a.name;n[0]=s,n[1]=o,(s||m(n,"default"))&&c.push(e)}}const d=[l,c];return k(e)&&a.set(e,d),d}function Na(e){return"$"!==e[0]&&!O(e)}const Ra=e=>"_"===e||"_ctx"===e||"$stable"===e,Ba=e=>g(e)?e.map(Fs):[Fs(e)],Va=(e,t,n)=>{if(t._n)return t;const a=un((...e)=>Ba(t(...e)),n);return a._c=!1,a},za=(e,t,n)=>{const a=e._ctx;for(const s in e){if(Ra(s))continue;const n=e[s];if(x(n))t[s]=Va(0,n,a);else if(null!=n){const e=Ba(n);t[s]=()=>e}}},Ua=(e,t)=>{const n=Ba(t);e.slots.default=()=>n},qa=(e,t,n)=>{for(const a in t)!n&&Ra(a)||(e[a]=t[a])},Ha=function(e,t){t&&t.pendingBranch?g(e)?t.effects.push(...e):t.effects.push(e):(g(n=e)?Yt.push(...n):Gt&&-1===n.id?Gt.splice(Xt+1,0,n):1&n.flags||(Yt.push(n),n.flags|=1),tn());var n};function Wa(e){return function(e){U().__VUE__=!0;const{insert:t,remove:n,patchProp:a,createElement:s,createText:r,createComment:c,setText:u,setElementText:d,parentNode:h,nextSibling:p,setScopeId:f=l,insertStaticContent:g}=e,v=(e,t,n,a=null,s=null,r=null,i=void 0,o=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Es(e,t)&&(a=J(e),K(e,s,r,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case fs:y(e,t,n,a);break;case ms:b(e,t,n,a);break;case gs:null==e&&x(t,n,a,i);break;case ps:I(e,t,n,a,s,r,i,o,l);break;default:1&d?k(e,t,n,a,s,r,i,o,l):6&d?L(e,t,n,a,s,r,i,o,l):(64&d||128&d)&&c.process(e,t,n,a,s,r,i,o,l,te)}null!=u&&s?Mn(u,e&&e.ref,r,t||e,!t):null==u&&e&&null!=e.ref&&Mn(e.ref,null,r,e,!0)},y=(e,n,a,s)=>{if(null==e)t(n.el=r(n.children),a,s);else{const t=n.el=e.el;n.children!==e.children&&u(t,n.children)}},b=(e,n,a,s)=>{null==e?t(n.el=c(n.children||""),a,s):n.el=e.el},x=(e,t,n,a)=>{[e.el,e.anchor]=g(e.children,t,n,a,e.el,e.anchor)},w=({el:e,anchor:n},a,s)=>{let r;for(;e&&e!==n;)r=p(e),t(e,a,s),e=r;t(n,a,s)},_=({el:e,anchor:t})=>{let a;for(;e&&e!==t;)a=p(e),n(e),e=a;n(t)},k=(e,t,n,a,s,r,i,o,l)=>{if("svg"===t.type?i="svg":"math"===t.type&&(i="mathml"),null==e)S(t,n,a,s,r,i,o,l);else{const n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),A(e,t,s,r,i,o,l)}finally{n&&n._endPatch()}}},S=(e,n,r,i,o,l,c,u)=>{let h,p;const{props:f,shapeFlag:m,transition:g,dirs:v}=e;if(h=e.el=s(e.type,l,f&&f.is,f),8&m?d(h,e.children):16&m&&P(e.children,h,null,i,o,$a(e,l),c,u),v&&hn(e,null,i,"created"),E(h,e,e.scopeId,c,i),f){for(const e in f)"value"===e||O(e)||a(h,e,null,f[e],l,i);"value"in f&&a(h,"value",null,f.value,l),(p=f.onVnodeBeforeMount)&&Vs(p,i,e)}v&&hn(e,null,i,"beforeMount");const y=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(o,g);y&&g.beforeEnter(h),t(h,n,r),((p=f&&f.onVnodeMounted)||y||v)&&Ha(()=>{p&&Vs(p,i,e),y&&g.enter(h),v&&hn(e,null,i,"mounted")},o)},E=(e,t,n,a,s)=>{if(n&&f(e,n),a)for(let r=0;r<a.length;r++)f(e,a[r]);if(s){let n=s.subTree;if(t===n||hs(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=s.vnode;E(e,t,t.scopeId,t.slotScopeIds,s.parent)}}},P=(e,t,n,a,s,r,i,o,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=o?Ns(e[c]):Fs(e[c]);v(null,l,t,n,a,s,r,i,o)}},A=(e,t,n,s,r,o,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:p}=t;u|=16&e.patchFlag;const f=e.props||i,m=t.props||i;let g;if(n&&Ka(n,!1),(g=m.onVnodeBeforeUpdate)&&Vs(g,n,t,e),p&&hn(t,e,n,"beforeUpdate"),n&&Ka(n,!0),(f.innerHTML&&null==m.innerHTML||f.textContent&&null==m.textContent)&&d(c,""),h?D(e.dynamicChildren,h,c,n,s,$a(t,r),o):l||q(e,t,c,null,n,s,$a(t,r),o,!1),u>0){if(16&u)M(c,f,m,n,r);else if(2&u&&f.class!==m.class&&a(c,"class",null,m.class,r),4&u&&a(c,"style",f.style,m.style,r),8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const s=e[t],i=f[s],o=m[s];o===i&&"value"!==s||a(c,s,i,o,r,n)}}1&u&&e.children!==t.children&&d(c,t.children)}else l||null!=h||M(c,f,m,n,r);((g=m.onVnodeUpdated)||p)&&Ha(()=>{g&&Vs(g,n,t,e),p&&hn(t,e,n,"updated")},s)},D=(e,t,n,a,s,r,i)=>{for(let o=0;o<t.length;o++){const l=e[o],c=t[o],u=l.el&&(l.type===ps||!Es(l,c)||198&l.shapeFlag)?h(l.el):n;v(l,c,u,null,a,s,r,i,!0)}},M=(e,t,n,s,r)=>{if(t!==n){if(t!==i)for(const i in t)O(i)||i in n||a(e,i,t[i],null,r,s);for(const i in n){if(O(i))continue;const o=n[i],l=t[i];o!==l&&"value"!==i&&a(e,i,l,o,r,s)}"value"in n&&a(e,"value",t.value,n.value,r)}},I=(e,n,a,s,i,o,l,c,u)=>{const d=n.el=e?e.el:r(""),h=n.anchor=e?e.anchor:r("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=n;m&&(c=c?c.concat(m):m),null==e?(t(d,a,s),t(h,a,s),P(n.children||[],a,h,i,o,l,c,u)):p>0&&64&p&&f&&e.dynamicChildren?(D(e.dynamicChildren,f,a,i,o,l,c),(null!=n.key||i&&n===i.subTree)&&Ya(e,n,!0)):q(e,n,a,h,i,o,l,c,u)},L=(e,t,n,a,s,r,i,o,l)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?s.ctx.activate(t,n,a,i,l):F(t,n,a,s,r,i,l):N(e,t,l)},F=(e,t,n,a,s,r,o)=>{const l=e.component=function(e,t,n){const a=e.type,s=(t?t.appContext:e.appContext)||zs,r={uid:Us++,vnode:e,type:a,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ie(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fa(a,s),emitsOptions:is(a,s),emit:null,emitted:null,propsDefaults:i,inheritAttrs:a.inheritAttrs,ctx:i,data:i,props:i,attrs:i,slots:i,refs:i,setupState:i,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};r.ctx={_:r},r.root=t?t.root:r,r.emit=ss.bind(null,r),e.ce&&e.ce(r);return r}(e,a,s);if(jn(e)&&(l.ctx.renderer=te),function(e,t=!1,n=!1){t&&$s(t);const{props:a,children:s}=e.vnode,r=Gs(e);(function(e,t,n,a=!1){const s={},r=Ma();e.propsDefaults=Object.create(null),Ia(e,t,s,r);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=a?s:gt(s):e.type.props?e.props=s:e.props=r,e.attrs=r})(e,a,r,t),((e,t,n)=>{const a=e.slots=Ma();if(32&e.vnode.shapeFlag){const e=t._;e?(qa(a,t,n),n&&B(a,"_",e,!0)):za(t,a)}else t&&Ua(e,t)})(e,s,n||t);const i=r?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ua);const{setup:a}=n;if(a){Se();const n=e.setupContext=a.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,Zs),slots:e.slots,emit:e.emit,expose:t}}(e):null,s=Ks(e),r=qt(a,e,0,[e.props,n]),i=C(r);if(Ee(),s(),!i&&!e.sp||In(e)||On(e),i){if(r.then(Ys,Ys),t)return r.then(t=>{Qs(e,t)}).catch(t=>{Wt(t,e,0)});e.asyncDep=r}else Qs(e,r)}else Js(e)}(e,t):void 0;t&&$s(!1)}(l,!1,o),l.asyncDep){if(s&&s.registerDep(l,V,o),!e.el){const a=l.subTree=Ds(ms);b(null,a,t,n),e.placeholder=a.el}}else V(l,e,t,n,s,r,o)},N=(e,t,n)=>{const a=t.component=e.component;if(function(e,t,n){const{props:a,children:s,component:r}=e,{props:i,children:o,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!s&&!o||o&&o.$stable)||a!==i&&(a?!i||ds(a,i,c):!!i);if(1024&l)return!0;if(16&l)return a?ds(a,i,c):!!i;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(i[n]!==a[n]&&!os(c,n))return!0}}return!1}(e,t,n)){if(a.asyncDep&&!a.asyncResolved)return void z(a,t,n);a.next=t,a.update()}else t.el=e.el,a.vnode=t},V=(e,t,n,a,s,r,i)=>{const o=()=>{if(e.isMounted){let{next:t,bu:n,u:a,parent:l,vnode:c}=e;{const n=Ga(e);if(n)return t&&(t.el=c.el,z(e,t,i)),void n.asyncDep.then(()=>{e.isUnmounted||o()})}let u,d=t;Ka(e,!1),t?(t.el=c.el,z(e,t,i)):t=c,n&&R(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Vs(u,l,t,c),Ka(e,!0);const p=ls(e),f=e.subTree;e.subTree=p,v(f,p,h(f.el),J(f),e,s,r),t.el=p.el,null===d&&function({vnode:e,parent:t},n){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,p.el),a&&Ha(a,s),(u=t.props&&t.props.onVnodeUpdated)&&Ha(()=>Vs(u,l,t,c),s)}else{let i;const{el:o,props:l}=t,{bm:c,m:u,parent:d,root:h,type:p}=e,f=In(t);Ka(e,!1),c&&R(c),!f&&(i=l&&l.onVnodeBeforeMount)&&Vs(i,d,t),Ka(e,!0);{h.ce&&!1!==h.ce._def.shadowRoot&&h.ce._injectChildStyle(p);const i=e.subTree=ls(e);v(null,i,n,a,e,s,r),t.el=i.el}if(u&&Ha(u,s),!f&&(i=l&&l.onVnodeMounted)){const e=t;Ha(()=>Vs(i,d,e),s)}(256&t.shapeFlag||d&&In(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Ha(e.a,s),e.isMounted=!0,t=n=a=null}};e.scope.on();const l=e.effect=new ue(o);e.scope.off();const c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>en(u),Ka(e,!0),c()},z=(e,t,n)=>{t.component=e;const a=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,a){const{props:s,attrs:r,vnode:{patchFlag:i}}=e,o=kt(s),[l]=e.propsOptions;let c=!1;if(!(a||i>0)||16&i){let a;Ia(e,t,s,r)&&(c=!0);for(const r in o)t&&(m(t,r)||(a=j(r))!==r&&m(t,a))||(l?!n||void 0===n[r]&&void 0===n[a]||(s[r]=ja(l,o,r,void 0,e,!0)):delete s[r]);if(r!==o)for(const e in r)t&&m(t,e)||(delete r[e],c=!0)}else if(8&i){const n=e.vnode.dynamicProps;for(let a=0;a<n.length;a++){let i=n[a];if(os(e.emitsOptions,i))continue;const u=t[i];if(l)if(m(r,i))u!==r[i]&&(r[i]=u,c=!0);else{const t=T(i);s[t]=ja(l,o,t,u,e,!1)}else u!==r[i]&&(r[i]=u,c=!0)}}c&&Ne(e.attrs,"set","")}(e,t.props,a,n),((e,t,n)=>{const{vnode:a,slots:s}=e;let r=!0,o=i;if(32&a.shapeFlag){const e=t._;e?n&&1===e?r=!1:qa(s,t,n):(r=!t.$stable,za(t,s)),o=t}else t&&(Ua(e,t),o={default:1});if(r)for(const i in s)Ra(i)||null!=o[i]||delete s[i]})(e,t.children,n),Se(),nn(e),Ee()},q=(e,t,n,a,s,r,i,o,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void W(c,h,n,a,s,r,i,o,l);if(256&p)return void H(c,h,n,a,s,r,i,o,l)}8&f?(16&u&&Q(c,s,r),h!==c&&d(n,h)):16&u?16&f?W(c,h,n,a,s,r,i,o,l):Q(c,s,r,!0):(8&u&&d(n,""),16&f&&P(h,n,a,s,r,i,o,l))},H=(e,t,n,a,s,r,i,l,c)=>{t=t||o;const u=(e=e||o).length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const a=t[p]=c?Ns(t[p]):Fs(t[p]);v(e[p],a,n,null,s,r,i,l,c)}u>d?Q(e,s,r,!0,!1,h):P(t,n,a,s,r,i,l,c,h)},W=(e,t,n,a,s,r,i,l,c)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;for(;u<=h&&u<=p;){const a=e[u],o=t[u]=c?Ns(t[u]):Fs(t[u]);if(!Es(a,o))break;v(a,o,n,null,s,r,i,l,c),u++}for(;u<=h&&u<=p;){const a=e[h],o=t[p]=c?Ns(t[p]):Fs(t[p]);if(!Es(a,o))break;v(a,o,n,null,s,r,i,l,c),h--,p--}if(u>h){if(u<=p){const e=p+1,o=e<d?t[e].el:a;for(;u<=p;)v(null,t[u]=c?Ns(t[u]):Fs(t[u]),n,o,s,r,i,l,c),u++}}else if(u>p)for(;u<=h;)K(e[u],s,r,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?Ns(t[u]):Fs(t[u]);null!=e.key&&g.set(e.key,u)}let y,b=0;const x=p-m+1;let w=!1,_=0;const k=new Array(x);for(u=0;u<x;u++)k[u]=0;for(u=f;u<=h;u++){const a=e[u];if(b>=x){K(a,s,r,!0);continue}let o;if(null!=a.key)o=g.get(a.key);else for(y=m;y<=p;y++)if(0===k[y-m]&&Es(a,t[y])){o=y;break}void 0===o?K(a,s,r,!0):(k[o-m]=u+1,o>=_?_=o:w=!0,v(a,t[o],n,null,s,r,i,l,c),b++)}const C=w?function(e){const t=e.slice(),n=[0];let a,s,r,i,o;const l=e.length;for(a=0;a<l;a++){const l=e[a];if(0!==l){if(s=n[n.length-1],e[s]<l){t[a]=s,n.push(a);continue}for(r=0,i=n.length-1;r<i;)o=r+i>>1,e[n[o]]<l?r=o+1:i=o;l<e[n[r]]&&(r>0&&(t[a]=n[r-1]),n[r]=a)}}r=n.length,i=n[r-1];for(;r-- >0;)n[r]=i,i=t[i];return n}(k):o;for(y=C.length-1,u=x-1;u>=0;u--){const e=m+u,o=t[e],h=t[e+1],p=e+1<d?h.el||h.placeholder:a;0===k[u]?v(null,o,n,p,s,r,i,l,c):w&&(y<0||u!==C[y]?$(o,n,p,2):y--)}}},$=(e,a,s,r,i=null)=>{const{el:o,type:l,transition:c,children:u,shapeFlag:d}=e;if(6&d)return void $(e.component.subTree,a,s,r);if(128&d)return void e.suspense.move(a,s,r);if(64&d)return void l.move(e,a,s,te);if(l===ps){t(o,a,s);for(let e=0;e<u.length;e++)$(u[e],a,s,r);return void t(e.anchor,a,s)}if(l===gs)return void w(e,a,s);if(2!==r&&1&d&&c)if(0===r)c.beforeEnter(o),t(o,a,s),Ha(()=>c.enter(o),i);else{const{leave:r,delayLeave:i,afterLeave:l}=c,u=()=>{e.ctx.isUnmounted?n(o):t(o,a,s)},d=()=>{o._isLeaving&&o[mn](!0),r(o,()=>{u(),l&&l()})};i?i(o,u,d):d()}else t(o,a,s)},K=(e,t,n,a=!1,s=!1)=>{const{type:r,props:i,ref:o,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h,cacheIndex:p}=e;if(-2===d&&(s=!1),null!=o&&(Se(),Mn(o,null,n,e,!0),Ee()),null!=p&&(t.renderCache[p]=void 0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,m=!In(e);let g;if(m&&(g=i&&i.onVnodeBeforeUnmount)&&Vs(g,t,e),6&u)X(e.component,n,a);else{if(128&u)return void e.suspense.unmount(n,a);f&&hn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,te,a):c&&!c.hasOnce&&(r!==ps||d>0&&64&d)?Q(c,t,n,!1,!0):(r===ps&&384&d||!s&&16&u)&&Q(l,t,n),a&&Y(e)}(m&&(g=i&&i.onVnodeUnmounted)||f)&&Ha(()=>{g&&Vs(g,t,e),f&&hn(e,null,t,"unmounted")},n)},Y=e=>{const{type:t,el:a,anchor:s,transition:r}=e;if(t===ps)return void G(a,s);if(t===gs)return void _(e);const i=()=>{n(a),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:n}=r,s=()=>t(a,i);n?n(e.el,i,s):s()}else i()},G=(e,t)=>{let a;for(;e!==t;)a=p(e),n(e),e=a;n(t)},X=(e,t,n)=>{const{bum:a,scope:s,job:r,subTree:i,um:o,m:l,a:c}=e;Xa(l),Xa(c),a&&R(a),s.stop(),r&&(r.flags|=8,K(i,e,t,n)),o&&Ha(o,t),Ha(()=>{e.isUnmounted=!0},t)},Q=(e,t,n,a=!1,s=!1,r=0)=>{for(let i=r;i<e.length;i++)K(e[i],t,n,a,s)},J=e=>{if(6&e.shapeFlag)return J(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=p(e.anchor||e.el),n=t&&t[pn];return n?p(n):t};let Z=!1;const ee=(e,t,n)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,Z||(Z=!0,nn(),an(),Z=!1)},te={p:v,um:K,m:$,r:Y,mt:F,mc:P,pc:q,pbc:D,n:J,o:e};let ne;return{render:ee,hydrate:ne,createApp:Ea(ee)}}(e)}function $a({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ka({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ya(e,t,n=!1){const a=e.children,s=t.children;if(g(a)&&g(s))for(let r=0;r<a.length;r++){const e=a[r];let t=s[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=s[r]=Ns(s[r]),t.el=e.el),n||-2===t.patchFlag||Ya(e,t)),t.type===fs&&-1!==t.patchFlag&&(t.el=e.el),t.type!==ms||t.el||(t.el=e.el)}}function Ga(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ga(t)}function Xa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Qa=Symbol.for("v-scx"),Ja=()=>Oa(Qa);function Za(e,t,n){return es(e,t,n)}function es(e,t,n=i){const{immediate:a,deep:s,flush:r,once:o}=n,c=h({},n),u=t&&a||!t&&"post"!==r;let d;if(Xs)if("sync"===r){const e=Ja();d=e.__watcherHandles||(e.__watcherHandles=[])}else if(!u){const e=()=>{};return e.stop=l,e.resume=l,e.pause=l,e}const p=qs;c.call=(e,t,n)=>Ht(e,p,t,n);let f=!1;"post"===r?c.scheduler=e=>{Ha(e,p&&p.suspense)}:"sync"!==r&&(f=!0,c.scheduler=(e,t)=>{t?e():en(e)}),c.augmentJob=e=>{t&&(e.flags|=4),f&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const m=zt(e,t,c);return Xs&&(d?d.push(m):u&&m()),m}function ts(e,t,n){const a=this.proxy,s=w(e)?e.includes(".")?ns(a,e):()=>a[e]:e.bind(a,a);let r;x(t)?r=t:(r=t.handler,n=t);const i=Ks(this),o=es(s,r.bind(a),n);return i(),o}function ns(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const as=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e["".concat(t,"Modifiers")]||e["".concat(T(t),"Modifiers")]||e["".concat(j(t),"Modifiers")];function ss(e,t,...n){if(e.isUnmounted)return;const a=e.vnode.props||i;let s=n;const r=t.startsWith("update:"),o=r&&as(a,t.slice(7));let l;o&&(o.trim&&(s=n.map(e=>w(e)?e.trim():e)),o.number&&(s=n.map(V)));let c=a[l=F(t)]||a[l=F(T(t))];!c&&r&&(c=a[l=F(j(t))]),c&&Ht(c,e,6,s);const u=a[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,Ht(u,e,6,s)}}const rs=new WeakMap;function is(e,t,n=!1){const a=n?rs:t.emitsCache,s=a.get(e);if(void 0!==s)return s;const r=e.emits;let i={},o=!1;if(!x(e)){const a=e=>{const n=is(e,t,!0);n&&(o=!0,h(i,n))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return r||o?(g(r)?r.forEach(e=>i[e]=null):h(i,r),k(e)&&a.set(e,i),i):(k(e)&&a.set(e,null),null)}function os(e,t){return!(!e||!u(t))&&(t=t.slice(2).replace(/Once$/,""),m(e,t[0].toLowerCase()+t.slice(1))||m(e,j(t))||m(e,t))}function ls(e){const{type:t,vnode:n,proxy:a,withProxy:s,propsOptions:[r],slots:i,attrs:o,emit:l,render:c,renderCache:u,props:h,data:p,setupState:f,ctx:m,inheritAttrs:g}=e,v=cn(e);let y,b;try{if(4&n.shapeFlag){const e=s||a,t=e;y=Fs(c.call(t,e,u,h,f,p,m)),b=o}else{const e=t;0,y=Fs(e.length>1?e(h,{attrs:o,slots:i,emit:l}):e(h,null)),b=t.props?o:cs(o)}}catch(w){vs.length=0,Wt(w,e,1),y=Ds(ms)}let x=y;if(b&&!1!==g){const e=Object.keys(b),{shapeFlag:t}=x;e.length&&7&t&&(r&&e.some(d)&&(b=us(b,r)),x=Ts(x,b,!1,!0))}return n.dirs&&(x=Ts(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&En(x,n.transition),y=x,cn(v),y}const cs=e=>{let t;for(const n in e)("class"===n||"style"===n||u(n))&&((t||(t={}))[n]=e[n]);return t},us=(e,t)=>{const n={};for(const a in e)d(a)&&a.slice(9)in t||(n[a]=e[a]);return n};function ds(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let s=0;s<a.length;s++){const r=a[s];if(t[r]!==e[r]&&!os(n,r))return!0}return!1}const hs=e=>e.__isSuspense;const ps=Symbol.for("v-fgt"),fs=Symbol.for("v-txt"),ms=Symbol.for("v-cmt"),gs=Symbol.for("v-stc"),vs=[];let ys=null;function bs(e=!1){vs.push(ys=e?null:[])}let xs=1;function ws(e,t=!1){xs+=e,e<0&&ys&&t&&(ys.hasOnce=!0)}function _s(e){return e.dynamicChildren=xs>0?ys||o:null,vs.pop(),ys=vs[vs.length-1]||null,xs>0&&ys&&ys.push(e),e}function ks(e,t,n,a,s,r){return _s(Os(e,t,n,a,s,r,!0))}function Cs(e,t,n,a,s){return _s(Ds(e,t,n,a,s,!0))}function Ss(e){return!!e&&!0===e.__v_isVNode}function Es(e,t){return e.type===t.type&&e.key===t.key}const Ps=({key:e})=>null!=e?e:null,As=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?w(e)||Pt(e)||x(e)?{i:on,r:e,k:t,f:!!n}:e:null);function Os(e,t=null,n=null,a=0,s=null,r=(e===ps?0:1),i=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ps(t),ref:t&&As(t),scopeId:ln,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:on};return o?(Rs(l,n),128&r&&e.normalize(l)):n&&(l.shapeFlag|=w(n)?8:16),xs>0&&!i&&ys&&(l.patchFlag>0||6&r)&&32!==l.patchFlag&&ys.push(l),l}const Ds=function(e,t=null,n=null,a=0,s=null,r=!1){e&&e!==Zn||(e=ms);if(Ss(e)){const a=Ts(e,t,!0);return n&&Rs(a,n),xs>0&&!r&&ys&&(6&a.shapeFlag?ys[ys.indexOf(e)]=a:ys.push(a)),a.patchFlag=-2,a}i=e,x(i)&&"__vccOpts"in i&&(e=e.__vccOpts);var i;if(t){t=Ms(t);let{class:e,style:n}=t;e&&!w(e)&&(t.class=Y(e)),k(n)&&(_t(n)&&!g(n)&&(n=h({},n)),t.style=q(n))}const o=w(e)?1:hs(e)?128:fn(e)?64:k(e)?4:x(e)?2:0;return Os(e,t,n,a,s,o,r,!0)};function Ms(e){return e?_t(e)||Ta(e)?h({},e):e:null}function Ts(e,t,n=!1,a=!1){const{props:s,ref:r,patchFlag:i,children:o,transition:l}=e,c=t?Bs(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ps(c),ref:t&&t.ref?n&&r?g(r)?r.concat(As(t)):[r,As(t)]:As(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ps?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ts(e.ssContent),ssFallback:e.ssFallback&&Ts(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&a&&En(u,l.clone(u)),u}function Is(e=" ",t=0){return Ds(fs,null,e,t)}function js(e,t){const n=Ds(gs,null,e);return n.staticCount=t,n}function Ls(e="",t=!1){return t?(bs(),Cs(ms,null,e)):Ds(ms,null,e)}function Fs(e){return null==e||"boolean"==typeof e?Ds(ms):g(e)?Ds(ps,null,e.slice()):Ss(e)?Ns(e):Ds(fs,null,String(e))}function Ns(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Ts(e)}function Rs(e,t){let n=0;const{shapeFlag:a}=e;if(null==t)t=null;else if(g(t))n=16;else if("object"==typeof t){if(65&a){const n=t.default;return void(n&&(n._c&&(n._d=!1),Rs(e,n()),n._c&&(n._d=!0)))}{n=32;const a=t._;a||Ta(t)?3===a&&on&&(1===on.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=on}}else x(t)?(t={default:t,_ctx:on},n=32):(t=String(t),64&a?(n=16,t=[Is(t)]):n=8);e.children=t,e.shapeFlag|=n}function Bs(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const e in a)if("class"===e)t.class!==a.class&&(t.class=Y([t.class,a.class]));else if("style"===e)t.style=q([t.style,a.style]);else if(u(e)){const n=t[e],s=a[e];!s||n===s||g(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=a[e])}return t}function Vs(e,t,n,a=null){Ht(e,t,7,[n,a])}const zs=Ca();let Us=0;let qs=null;const Hs=()=>qs||on;let Ws,$s;{const e=U(),t=(t,n)=>{let a;return(a=e[t])||(a=e[t]=[]),a.push(n),e=>{a.length>1?a.forEach(t=>t(e)):a[0](e)}};Ws=t("__VUE_INSTANCE_SETTERS__",e=>qs=e),$s=t("__VUE_SSR_SETTERS__",e=>Xs=e)}const Ks=e=>{const t=qs;return Ws(e),e.scope.on(),()=>{e.scope.off(),Ws(t)}},Ys=()=>{qs&&qs.scope.off(),Ws(null)};function Gs(e){return 4&e.vnode.shapeFlag}let Xs=!1;function Qs(e,t,n){x(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:k(t)&&(e.setupState=jt(t)),Js(e)}function Js(e,t,n){const a=e.type;e.render||(e.render=a.render||l);{const t=Ks(e);Se();try{pa(e)}finally{Ee(),t()}}}const Zs={get:(e,t)=>(Fe(e,0,""),e[t])};function er(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(jt(Ct(e.exposed)),{get:(t,n)=>n in t?t[n]:n in la?la[n](e):void 0,has:(e,t)=>t in e||t in la})):e.proxy}function tr(e,t=!0){return x(e)?e.displayName||e.name:e.name||t&&e.__name}const nr=(e,t)=>{const n=function(e,t,n=!1){let a,s;return x(e)?a=e:(a=e.get,s=e.set),new Nt(a,s,n)}(e,0,Xs);return n};function ar(e,t,n){try{ws(-1);const a=arguments.length;return 2===a?k(t)&&!g(t)?Ss(t)?Ds(e,null,[t]):Ds(e,t):Ds(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):3===a&&Ss(n)&&(n=[n]),Ds(e,t,n))}finally{ws(1)}}const sr="3.5.24";let rr;const ir="undefined"!=typeof window&&window.trustedTypes;if(ir)try{rr=ir.createPolicy("vue",{createHTML:e=>e})}catch(uV){}const or=rr?e=>rr.createHTML(e):e=>e,lr="undefined"!=typeof document?document:null,cr=lr&&lr.createElement("template"),ur={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const s="svg"===t?lr.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?lr.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?lr.createElement(e,{is:n}):lr.createElement(e);return"select"===e&&a&&null!=a.multiple&&s.setAttribute("multiple",a.multiple),s},createText:e=>lr.createTextNode(e),createComment:e=>lr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>lr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,s,r){const i=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),s!==r&&(s=s.nextSibling););else{cr.innerHTML=or("svg"===a?"<svg>".concat(e,"</svg>"):"mathml"===a?"<math>".concat(e,"</math>"):e);const s=cr.content;if("svg"===a||"mathml"===a){const e=s.firstChild;for(;e.firstChild;)s.appendChild(e.firstChild);s.removeChild(e)}t.insertBefore(s,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},dr="transition",hr="animation",pr=Symbol("_vtc"),fr={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mr=h({},yn,fr),gr=(e=>(e.displayName="Transition",e.props=mr,e))((e,{slots:t})=>ar(wn,function(e){const t={};for(const h in e)h in fr||(t[h]=e[h]);if(!1===e.css)return t;const{name:n="v",type:a,duration:s,enterFromClass:r="".concat(n,"-enter-from"),enterActiveClass:i="".concat(n,"-enter-active"),enterToClass:o="".concat(n,"-enter-to"),appearFromClass:l=r,appearActiveClass:c=i,appearToClass:u=o,leaveFromClass:d="".concat(n,"-leave-from"),leaveActiveClass:p="".concat(n,"-leave-active"),leaveToClass:f="".concat(n,"-leave-to")}=e,m=function(e){if(null==e)return null;if(k(e))return[br(e.enter),br(e.leave)];{const t=br(e);return[t,t]}}(s),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:x,onLeave:w,onLeaveCancelled:_,onBeforeAppear:C=y,onAppear:S=b,onAppearCancelled:E=x}=t,P=(e,t,n,a)=>{e._enterCancelled=a,wr(e,t?u:o),wr(e,t?c:i),n&&n()},A=(e,t)=>{e._isLeaving=!1,wr(e,d),wr(e,f),wr(e,p),t&&t()},O=e=>(t,n)=>{const s=e?S:b,i=()=>P(t,e,n);vr(s,[t,i]),_r(()=>{wr(t,e?l:r),xr(t,e?u:o),yr(s)||Cr(t,a,g,i)})};return h(t,{onBeforeEnter(e){vr(y,[e]),xr(e,r),xr(e,i)},onBeforeAppear(e){vr(C,[e]),xr(e,l),xr(e,c)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>A(e,t);xr(e,d),e._enterCancelled?(xr(e,p),Pr(e)):(Pr(e),xr(e,p)),_r(()=>{e._isLeaving&&(wr(e,d),xr(e,f),yr(w)||Cr(e,a,v,n))}),vr(w,[e,n])},onEnterCancelled(e){P(e,!1,void 0,!0),vr(x,[e])},onAppearCancelled(e){P(e,!0,void 0,!0),vr(E,[e])},onLeaveCancelled(e){A(e),vr(_,[e])}})}(e),t)),vr=(e,t=[])=>{g(e)?e.forEach(e=>e(...t)):e&&e(...t)},yr=e=>!!e&&(g(e)?e.some(e=>e.length>1):e.length>1);function br(e){const t=(e=>{const t=w(e)?Number(e):NaN;return isNaN(t)?e:t})(e);return t}function xr(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[pr]||(e[pr]=new Set)).add(t)}function wr(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const n=e[pr];n&&(n.delete(t),n.size||(e[pr]=void 0))}function _r(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let kr=0;function Cr(e,t,n,a){const s=e._endId=++kr,r=()=>{s===e._endId&&a()};if(null!=n)return setTimeout(r,n);const{type:i,timeout:o,propCount:l}=function(e,t){const n=window.getComputedStyle(e),a=e=>(n[e]||"").split(", "),s=a("".concat(dr,"Delay")),r=a("".concat(dr,"Duration")),i=Sr(s,r),o=a("".concat(hr,"Delay")),l=a("".concat(hr,"Duration")),c=Sr(o,l);let u=null,d=0,h=0;t===dr?i>0&&(u=dr,d=i,h=r.length):t===hr?c>0&&(u=hr,d=c,h=l.length):(d=Math.max(i,c),u=d>0?i>c?dr:hr:null,h=u?u===dr?r.length:l.length:0);const p=u===dr&&/\b(?:transform|all)(?:,|$)/.test(a("".concat(dr,"Property")).toString());return{type:u,timeout:d,propCount:h,hasTransform:p}}(e,t);if(!i)return a();const c=i+"end";let u=0;const d=()=>{e.removeEventListener(c,h),r()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),e.addEventListener(c,h)}function Sr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>Er(t)+Er(e[n])))}function Er(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Pr(e){return(e?e.ownerDocument:document).body.offsetHeight}const Ar=Symbol("_vod"),Or=Symbol("_vsh"),Dr={name:"show",beforeMount(e,{value:t},{transition:n}){e[Ar]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Mr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),Mr(e,!0),a.enter(e)):a.leave(e,()=>{Mr(e,!1)}):Mr(e,t))},beforeUnmount(e,{value:t}){Mr(e,t)}};function Mr(e,t){e.style.display=t?e[Ar]:"none",e[Or]=!t}const Tr=Symbol(""),Ir=/(?:^|;)\s*display\s*:/;const jr=/\s*!important$/;function Lr(e,t,n){if(g(n))n.forEach(n=>Lr(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=function(e,t){const n=Nr[t];if(n)return n;let a=T(t);if("filter"!==a&&a in e)return Nr[t]=a;a=L(a);for(let s=0;s<Fr.length;s++){const n=Fr[s]+a;if(n in e)return Nr[t]=n}return t}(e,t);jr.test(n)?e.setProperty(j(a),n.replace(jr,""),"important"):e[a]=n}}const Fr=["Webkit","Moz","ms"],Nr={};const Rr="http://www.w3.org/1999/xlink";function Br(e,t,n,a,s,r=X(t)){a&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(Rr,t.slice(6,t.length)):e.setAttributeNS(Rr,t,n):null==n||r&&!Q(n)?e.removeAttribute(t):e.setAttribute(t,r?"":_(n)?String(n):n)}function Vr(e,t,n,a,s){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?or(n):n));const r=e.tagName;if("value"===t&&"PROGRESS"!==r&&!r.includes("-")){const a="OPTION"===r?e.getAttribute("value")||"":e.value,s=null==n?"checkbox"===e.type?"on":"":String(n);return a===s&&"_value"in e||(e.value=s),null==n&&e.removeAttribute(t),void(e._value=n)}let i=!1;if(""===n||null==n){const a=typeof e[t];"boolean"===a?n=Q(n):null==n&&"string"===a?(n="",i=!0):"number"===a&&(n=0,i=!0)}try{e[t]=n}catch(uV){}i&&e.removeAttribute(s||t)}function zr(e,t,n,a){e.addEventListener(t,n,a)}const Ur=Symbol("_vei");function qr(e,t,n,a,s=null){const r=e[Ur]||(e[Ur]={}),i=r[t];if(a&&i)i.value=a;else{const[n,o]=function(e){let t;if(Hr.test(e)){let n;for(t={};n=e.match(Hr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):j(e.slice(2));return[n,t]}(t);if(a){const i=r[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Ht(function(e,t){if(g(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Kr(),n}(a,s);zr(e,n,i,o)}else i&&(!function(e,t,n,a){e.removeEventListener(t,n,a)}(e,n,i,o),r[t]=void 0)}}const Hr=/(?:Once|Passive|Capture)$/;let Wr=0;const $r=Promise.resolve(),Kr=()=>Wr||($r.then(()=>Wr=0),Wr=Date.now());const Yr=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const Gr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return g(t)?e=>R(t,e):t};function Xr(e){e.target.composing=!0}function Qr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Jr=Symbol("_assign");function Zr(e,t,n){return t&&(e=e.trim()),n&&(e=V(e)),e}const ei={created(e,{modifiers:{lazy:t,trim:n,number:a}},s){e[Jr]=Gr(s);const r=a||s.props&&"number"===s.props.type;zr(e,t?"change":"input",t=>{t.target.composing||e[Jr](Zr(e.value,n,r))}),(n||r)&&zr(e,"change",()=>{e.value=Zr(e.value,n,r)}),t||(zr(e,"compositionstart",Xr),zr(e,"compositionend",Qr),zr(e,"change",Qr))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:a,trim:s,number:r}},i){if(e[Jr]=Gr(i),e.composing)return;const o=null==t?"":t;if((!r&&"number"!==e.type||/^0\d/.test(e.value)?e.value:V(e.value))!==o){if(document.activeElement===e&&"range"!==e.type){if(a&&t===n)return;if(s&&e.value.trim()===o)return}e.value=o}}},ti={deep:!0,created(e,t,n){e[Jr]=Gr(n),zr(e,"change",()=>{const t=e._modelValue,n=ii(e),a=e.checked,s=e[Jr];if(g(t)){const e=Z(t,n),r=-1!==e;if(a&&!r)s(t.concat(n));else if(!a&&r){const n=[...t];n.splice(e,1),s(n)}}else if(y(t)){const e=new Set(t);a?e.add(n):e.delete(n),s(e)}else s(oi(e,a))})},mounted:ni,beforeUpdate(e,t,n){e[Jr]=Gr(n),ni(e,t,n)}};function ni(e,{value:t,oldValue:n},a){let s;if(e._modelValue=t,g(t))s=Z(t,a.props.value)>-1;else if(y(t))s=t.has(a.props.value);else{if(t===n)return;s=J(t,oi(e,!0))}e.checked!==s&&(e.checked=s)}const ai={created(e,{value:t},n){e.checked=J(t,n.props.value),e[Jr]=Gr(n),zr(e,"change",()=>{e[Jr](ii(e))})},beforeUpdate(e,{value:t,oldValue:n},a){e[Jr]=Gr(a),t!==n&&(e.checked=J(t,a.props.value))}},si={deep:!0,created(e,{value:t,modifiers:{number:n}},a){const s=y(t);zr(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?V(ii(e)):ii(e));e[Jr](e.multiple?s?new Set(t):t:t[0]),e._assigning=!0,Zt(()=>{e._assigning=!1})}),e[Jr]=Gr(a)},mounted(e,{value:t}){ri(e,t)},beforeUpdate(e,t,n){e[Jr]=Gr(n)},updated(e,{value:t}){e._assigning||ri(e,t)}};function ri(e,t){const n=e.multiple,a=g(t);if(!n||a||y(t)){for(let s=0,r=e.options.length;s<r;s++){const r=e.options[s],i=ii(r);if(n)if(a){const e=typeof i;r.selected="string"===e||"number"===e?t.some(e=>String(e)===String(i)):Z(t,i)>-1}else r.selected=t.has(i);else if(J(ii(r),t))return void(e.selectedIndex!==s&&(e.selectedIndex=s))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function ii(e){return"_value"in e?e._value:e.value}function oi(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const li={created(e,t,n){ci(e,t,n,null,"created")},mounted(e,t,n){ci(e,t,n,null,"mounted")},beforeUpdate(e,t,n,a){ci(e,t,n,a,"beforeUpdate")},updated(e,t,n,a){ci(e,t,n,a,"updated")}};function ci(e,t,n,a,s){const r=function(e,t){switch(e){case"SELECT":return si;case"TEXTAREA":return ei;default:switch(t){case"checkbox":return ti;case"radio":return ai;default:return ei}}}(e.tagName,n.props&&n.props.type)[s];r&&r(e,t,n,a)}const ui=["ctrl","shift","alt","meta"],di={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ui.some(n=>e["".concat(n,"Key")]&&!t.includes(n))},hi=(e,t)=>{const n=e._withMods||(e._withMods={}),a=t.join(".");return n[a]||(n[a]=(n,...a)=>{for(let e=0;e<t.length;e++){const a=di[t[e]];if(a&&a(n,t))return}return e(n,...a)})},pi={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fi=(e,t)=>{const n=e._withKeys||(e._withKeys={}),a=t.join(".");return n[a]||(n[a]=n=>{if(!("key"in n))return;const a=j(n.key);return t.some(e=>e===a||pi[e]===a)?e(n):void 0})},mi=h({patchProp:(e,t,n,a,s,r)=>{const i="svg"===s;"class"===t?function(e,t,n){const a=e[pr];a&&(t=(t?[t,...a]:[...a]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,a,i):"style"===t?function(e,t,n){const a=e.style,s=w(n);let r=!1;if(n&&!s){if(t)if(w(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&Lr(a,t,"")}else for(const e in t)null==n[e]&&Lr(a,e,"");for(const e in n)"display"===e&&(r=!0),Lr(a,e,n[e])}else if(s){if(t!==n){const e=a[Tr];e&&(n+=";"+e),a.cssText=n,r=Ir.test(n)}}else t&&e.removeAttribute("style");Ar in e&&(e[Ar]=r?a.display:"",e[Or]&&(a.display="none"))}(e,n,a):u(t)?d(t)||qr(e,t,0,a,r):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,a){if(a)return"innerHTML"===t||"textContent"===t||!!(t in e&&Yr(t)&&x(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("sandbox"===t&&"IFRAME"===e.tagName)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(Yr(t)&&w(n))return!1;return t in e}(e,t,a,i))?(Vr(e,t,a),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||Br(e,t,a,i,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&w(a)?("true-value"===t?e._trueValue=a:"false-value"===t&&(e._falseValue=a),Br(e,t,a,i)):Vr(e,T(t),a,0,t)}},ur);let gi;const vi={},yi=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),s=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));a=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in vi)return;vi[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(e,'"]').concat(n)))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,s&&a.setAttribute("nonce",s),document.head.appendChild(a),t?new Promise((t,n)=>{a.addEventListener("load",t),a.addEventListener("error",()=>n(new Error("Unable to preload CSS for ".concat(e))))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};var bi,xi;(xi=bi||(bi={})).Unimplemented="UNIMPLEMENTED",xi.Unavailable="UNAVAILABLE";class wi extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const _i=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},a=n.Plugins=n.Plugins||{},s=()=>null!==t?t.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),r=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},i=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=s,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==s(),n.isPluginAvailable=e=>{const t=i.get(e);return!!(null==t?void 0:t.platforms.has(s()))||!!r(e)},n.registerPlugin=(e,o={})=>{const l=i.get(e);if(l)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),l.proxy;const c=s(),u=r(e);let d;const h=a=>{let s;const r=(...r)=>{const i=(async()=>(!d&&c in o?d=d="function"==typeof o[c]?await o[c]():o[c]:null!==t&&!d&&"web"in o&&(d=d="function"==typeof o.web?await o.web():o.web),d))().then(t=>{const i=((t,a)=>{var s,r;if(!u){if(t)return null===(r=t[a])||void 0===r?void 0:r.bind(t);throw new wi('"'.concat(e,'" plugin is not implemented on ').concat(c),bi.Unimplemented)}{const r=null==u?void 0:u.methods.find(e=>a===e.name);if(r)return"promise"===r.rtype?t=>n.nativePromise(e,a.toString(),t):(t,s)=>n.nativeCallback(e,a.toString(),t,s);if(t)return null===(s=t[a])||void 0===s?void 0:s.bind(t)}})(t,a);if(i){const e=i(...r);return s=null==e?void 0:e.remove,e}throw new wi('"'.concat(e,".").concat(a,'()" is not implemented on ').concat(c),bi.Unimplemented)});return"addListener"===a&&(i.remove=async()=>s()),i};return r.toString=()=>"".concat(a.toString(),"() { [capacitor code] }"),Object.defineProperty(r,"name",{value:a,writable:!1,configurable:!1}),r},p=h("addListener"),f=h("removeListener"),m=(e,t)=>{const n=p({eventName:e},t),a=async()=>{const a=await n;f({eventName:e,callbackId:a},t)},s=new Promise(e=>n.then(()=>e({remove:a})));return s.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()},s},g=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return u?m:p;case"removeListener":return f;default:return h(t)}}});return a[e]=g,i.set(e,{name:e,proxy:g,platforms:new Set([...Object.keys(o),...u?[c]:[]])}),g},n.Exception=wi,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},ki=(e=>e.Capacitor=_i(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),Ci=ki.registerPlugin;class Si{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const a=this.listeners[e];if(a)a.forEach(e=>e(t));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){var t;return!!(null===(t=this.listeners[e])||void 0===t?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new ki.Exception(e,bi.Unimplemented)}unavailable(e="not available"){return new ki.Exception(e,bi.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const a=n.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}const Ei=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Pi=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ai extends Si{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,a]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=Pi(n).trim(),a=Pi(a).trim(),t[n]=a}),t}async setCookie(e){try{const t=Ei(e.key),n=Ei(e.value),a="; expires=".concat((e.expires||"").replace("expires=","")),s=(e.path||"/").replace("path=",""),r=null!=e.url&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(n||"").concat(a,"; path=").concat(s,"; ").concat(r,";")}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Ci("CapacitorCookies",{web:()=>new Ai});const Oi=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=((e={})=>{const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,a,s)=>(n[a]=e[t[s]],n),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,a]of Object.entries(e.data||{}))t.set(n,a);n.body=t.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(a.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class Di extends Si{async request(e){const t=Oi(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce((e,n)=>{const[a,s]=n;let r,i;return Array.isArray(s)?(i="",s.forEach(e=>{r=t?encodeURIComponent(e):e,i+="".concat(a,"=").concat(r,"&")}),i.slice(0,-1)):(r=t?encodeURIComponent(s):s,i="".concat(a,"=").concat(r)),"".concat(e,"&").concat(i)},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=n?"".concat(e.url,"?").concat(n):e.url,s=await fetch(a,t),r=s.headers.get("content-type")||"";let i,o,{responseType:l="text"}=s.ok?e:{};switch(r.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":o=await s.blob(),i=await(async e=>new Promise((t,n)=>{const a=new FileReader;a.onload=()=>{const e=a.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},a.onerror=e=>n(e),a.readAsDataURL(e)}))(o);break;case"json":i=await s.json();break;default:i=await s.text()}const c={};return s.headers.forEach((e,t)=>{c[t]=e}),{data:i,headers:c,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Ci("CapacitorHttp",{web:()=>new Di});const Mi=Ci("App",{web:()=>yi(()=>import("./web-BKYVyLLw.js"),[]).then(e=>new e.AppWeb)}),Ti=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n};const Ii=Ti({name:"App",mounted(){Mi.addListener("backButton",()=>{if("/"===this.$route.path){window.confirm("Are you sure you want to exit the app?")&&Mi.exitApp()}else this.$router.go(-1)})}},[["render",function(e,t,n,a,s,r){const i=Jn("router-view");return bs(),ks("div",null,[Ds(i)])}]]);let ji;const Li=e=>ji=e,Fi=Symbol();function Ni(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var Ri,Bi;(Bi=Ri||(Ri={})).direct="direct",Bi.patchObject="patch object",Bi.patchFunction="patch function";const Vi=()=>{};function zi(e,t,n,a=Vi){e.push(t);const s=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),a())};var r;return!n&&le()&&(r=s,se&&se.cleanups.push(r)),s}function Ui(e,...t){e.slice().forEach(e=>{e(...t)})}const qi=e=>e(),Hi=Symbol(),Wi=Symbol();function $i(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const a=t[n],s=e[n];Ni(s)&&Ni(a)&&e.hasOwnProperty(n)&&!Pt(a)&&!bt(a)?e[n]=$i(s,a):e[n]=a}return e}const Ki=Symbol();function Yi(e){return!Ni(e)||!e.hasOwnProperty(Ki)}const{assign:Gi}=Object;function Xi(e){return!(!Pt(e)||!e.effect)}function Qi(e,t,n,a){const{state:s,actions:r,getters:i}=t,o=n.state.value[e];let l;return l=Ji(e,function(){o||(n.state.value[e]=s?s():{});const t=function(e){const t=g(e)?new Array(e.length):{};for(const n in e)t[n]=Ft(e,n);return t}(n.state.value[e]);return Gi(t,r,Object.keys(i||{}).reduce((t,a)=>(t[a]=Ct(nr(()=>{Li(n);const t=n._s.get(e);return i[a].call(t,t)})),t),{}))},t,n,a,!0),l}function Ji(e,t,n={},a,s,r){let i;const o=Gi({actions:{}},n),l={deep:!0};let c,u,d,h=[],p=[];const f=a.state.value[e];let m;function g(t){let n;c=u=!1,"function"==typeof t?(t(a.state.value[e]),n={type:Ri.patchFunction,storeId:e,events:d}):($i(a.state.value[e],t),n={type:Ri.patchObject,payload:t,storeId:e,events:d});const s=m=Symbol();Zt().then(()=>{m===s&&(c=!0)}),u=!0,Ui(h,n,a.state.value[e])}r||f||(a.state.value[e]={}),At({});const v=r?function(){const{state:e}=n,t=e?e():{};this.$patch(e=>{Gi(e,t)})}:Vi;const y=(t,n="")=>{if(Hi in t)return t[Wi]=n,t;const s=function(){Li(a);const n=Array.from(arguments),r=[],i=[];let o;Ui(p,{args:n,name:s[Wi],store:b,after:function(e){r.push(e)},onError:function(e){i.push(e)}});try{o=t.apply(this&&this.$id===e?this:b,n)}catch(l){throw Ui(i,l),l}return o instanceof Promise?o.then(e=>(Ui(r,e),e)).catch(e=>(Ui(i,e),Promise.reject(e))):(Ui(r,o),o)};return s[Hi]=!0,s[Wi]=n,s},b=mt({_p:a,$id:e,$onAction:zi.bind(null,p),$patch:g,$reset:v,$subscribe(t,n={}){const s=zi(h,t,n.detached,()=>r()),r=i.run(()=>Za(()=>a.state.value[e],a=>{("sync"===n.flush?u:c)&&t({storeId:e,type:Ri.direct,events:d},a)},Gi({},l,n)));return s},$dispose:function(){i.stop(),h=[],p=[],a._s.delete(e)}});a._s.set(e,b);const x=(a._a&&a._a.runWithContext||qi)(()=>a._e.run(()=>(i=oe()).run(()=>t({action:y}))));for(const w in x){const t=x[w];if(Pt(t)&&!Xi(t)||bt(t))r||(f&&Yi(t)&&(Pt(t)?t.value=f[w]:$i(t,f[w])),a.state.value[e][w]=t);else if("function"==typeof t){const e=y(t,w);x[w]=e,o.actions[w]=t}}return Gi(b,x),Gi(kt(b),x),Object.defineProperty(b,"$state",{get:()=>a.state.value[e],set:e=>{g(t=>{Gi(t,e)})}}),a._p.forEach(e=>{Gi(b,i.run(()=>e({store:b,app:a._a,pinia:a,options:o})))}),f&&r&&n.hydrate&&n.hydrate(b.$state,f),c=!0,u=!0,b}function Zi(e,t,n){let a,s;const r="function"==typeof t;function i(e,n){const i=!(!Hs()&&!Pa);(e=e||(i?Oa(Fi,null):null))&&Li(e),(e=ji)._s.has(a)||(r?Ji(a,t,s,e):Qi(a,s,e));return e._s.get(a)}return"string"==typeof e?(a=e,s=r?n:t):(s=e,a=e.id),i.$id=a,i}const eo="undefined"!=typeof document;function to(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const no=Object.assign;function ao(e,t){const n={};for(const a in t){const s=t[a];n[a]=ro(s)?s.map(e):e(s)}return n}const so=()=>{},ro=Array.isArray;function io(e,t){const n={};for(const a in e)n[a]=a in t?t[a]:e[a];return n}const oo=/#/g,lo=/&/g,co=/\//g,uo=/=/g,ho=/\?/g,po=/\+/g,fo=/%5B/g,mo=/%5D/g,go=/%5E/g,vo=/%60/g,yo=/%7B/g,bo=/%7C/g,xo=/%7D/g,wo=/%20/g;function _o(e){return null==e?"":encodeURI(""+e).replace(bo,"|").replace(fo,"[").replace(mo,"]")}function ko(e){return _o(e).replace(po,"%2B").replace(wo,"+").replace(oo,"%23").replace(lo,"%26").replace(vo,"`").replace(yo,"{").replace(xo,"}").replace(go,"^")}function Co(e){return ko(e).replace(uo,"%3D")}function So(e){return function(e){return _o(e).replace(oo,"%23").replace(ho,"%3F")}(e).replace(co,"%2F")}function Eo(e){if(null==e)return null;try{return decodeURIComponent(""+e)}catch(t){}return""+e}const Po=/\/$/;function Ao(e,t,n="/"){let a,s={},r="",i="";const o=t.indexOf("#");let l=t.indexOf("?");return l=o>=0&&l>o?-1:l,l>=0&&(a=t.slice(0,l),r=t.slice(l,o>0?o:t.length),s=e(r.slice(1))),o>=0&&(a=a||t.slice(0,o),i=t.slice(o,t.length)),a=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),a=e.split("/"),s=a[a.length-1];".."!==s&&"."!==s||a.push("");let r,i,o=n.length-1;for(r=0;r<a.length;r++)if(i=a[r],"."!==i){if(".."!==i)break;o>1&&o--}return n.slice(0,o).join("/")+"/"+a.slice(r).join("/")}(null!=a?a:t,n),{fullPath:a+r+i,path:a,query:s,hash:Eo(i)}}function Oo(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function Do(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Mo(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!To(e[n],t[n]))return!1;return!0}function To(e,t){return ro(e)?Io(e,t):ro(t)?Io(t,e):e===t}function Io(e,t){return ro(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}const jo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Lo=function(e){return e.pop="pop",e.push="push",e}({}),Fo=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function No(e){if(!e)if(eo){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Po,"")}const Ro=/^[^#]+#/;function Bo(e,t){return e.replace(Ro,"#")+t}const Vo=()=>({left:window.scrollX,top:window.scrollY});function zo(e){let t;if("el"in e){const n=e.el,a="string"==typeof n&&n.startsWith("#"),s="string"==typeof n?a?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-n.left-(t.left||0),top:a.top-n.top-(t.top||0)}}(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function Uo(e,t){return(history.state?history.state.position-t:-1)+e}const qo=new Map;function Ho(e){return"string"==typeof e||"symbol"==typeof e}let Wo=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const $o=Symbol("");function Ko(e,t){return no(new Error,{type:e,[$o]:!0},t)}function Yo(e,t){return e instanceof Error&&$o in e&&(null==t||!!(e.type&t))}Wo.MATCHER_NOT_FOUND,Wo.NAVIGATION_GUARD_REDIRECT,Wo.NAVIGATION_ABORTED,Wo.NAVIGATION_CANCELLED,Wo.NAVIGATION_DUPLICATED;function Go(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let a=0;a<n.length;++a){const e=n[a].replace(po," "),s=e.indexOf("="),r=Eo(s<0?e:e.slice(0,s)),i=s<0?null:Eo(e.slice(s+1));if(r in t){let e=t[r];ro(e)||(e=t[r]=[e]),e.push(i)}else t[r]=i}return t}function Xo(e){let t="";for(let n in e){const a=e[n];n=Co(n),null!=a?(ro(a)?a.map(e=>e&&ko(e)):[a&&ko(a)]).forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}):void 0!==a&&(t+=(t.length?"&":"")+n)}return t}function Qo(e){const t={};for(const n in e){const a=e[n];void 0!==a&&(t[n]=ro(a)?a.map(e=>null==e?null:""+e):null==a?a:""+a)}return t}const Jo=Symbol(""),Zo=Symbol(""),el=Symbol(""),tl=Symbol(""),nl=Symbol("");function al(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function sl(e,t,n,a,s,r=e=>e()){const i=a&&(a.enterCallbacks[s]=a.enterCallbacks[s]||[]);return()=>new Promise((o,l)=>{const c=e=>{var r;!1===e?l(Ko(Wo.NAVIGATION_ABORTED,{from:n,to:t})):e instanceof Error?l(e):"string"==typeof(r=e)||r&&"object"==typeof r?l(Ko(Wo.NAVIGATION_GUARD_REDIRECT,{from:t,to:e})):(i&&a.enterCallbacks[s]===i&&"function"==typeof e&&i.push(e),o())},u=r(()=>e.call(a&&a.instances[s],t,n,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(e=>l(e))})}function rl(e,t,n,a,s=e=>e()){const r=[];for(const i of e)for(const e in i.components){let o=i.components[e];if("beforeRouteEnter"===t||i.instances[e])if(to(o)){const l=(o.__vccOpts||o)[t];l&&r.push(sl(l,n,a,i,e,s))}else{let l=o();r.push(()=>l.then(r=>{if(!r)throw new Error("Couldn't resolve component \"".concat(e,'" at "').concat(i.path,'"'));const o=(l=r).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&to(l.default)?r.default:r;var l;i.mods[e]=r,i.components[e]=o;const c=(o.__vccOpts||o)[t];return c&&sl(c,n,a,i,e,s)()}))}}return r}function il(e,t){const{pathname:n,search:a,hash:s}=t,r=e.indexOf("#");if(r>-1){let t=s.includes(e.slice(r))?e.slice(r).length:1,n=s.slice(t);return"/"!==n[0]&&(n="/"+n),Oo(n,"")}return Oo(n,e)+a+s}function ol(e,t,n,a=!1,s=!1){return{back:e,current:t,forward:n,replaced:a,position:window.history.length,scroll:s?Vo():null}}function ll(e){const{history:t,location:n}=window,a={value:il(e,n)},s={value:t.state};function r(a,r,i){const o=e.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?e:e.slice(o))+a:location.protocol+"//"+location.host+e+a;try{t[i?"replaceState":"pushState"](r,"",l),s.value=r}catch(c){console.error(c),n[i?"replace":"assign"](l)}}return s.value||r(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:a,state:s,push:function(e,n){const i=no({},s.value,t.state,{forward:e,scroll:Vo()});r(i.current,i,!0),r(e,no({},ol(a.value,e,null),{position:i.position+1},n),!1),a.value=e},replace:function(e,n){r(e,no({},t.state,ol(s.value.back,e,s.value.forward,!0),n,{position:s.value.position}),!0),a.value=e}}}let cl=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var ul=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(ul||{});const dl={type:cl.Static,value:""},hl=/[a-zA-Z0-9_]/;const pl="[^/]+?",fl={sensitive:!1,strict:!1,start:!0,end:!0};var ml=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(ml||{});const gl=/[.+*?^${}()[\]/\\]/g;function vl(e,t){let n=0;for(;n<e.length&&n<t.length;){const a=t[n]-e[n];if(a)return a;n++}return e.length<t.length?1===e.length&&e[0]===ml.Static+ml.Segment?-1:1:e.length>t.length?1===t.length&&t[0]===ml.Static+ml.Segment?1:-1:0}function yl(e,t){let n=0;const a=e.score,s=t.score;for(;n<a.length&&n<s.length;){const e=vl(a[n],s[n]);if(e)return e;n++}if(1===Math.abs(s.length-a.length)){if(bl(a))return 1;if(bl(s))return-1}return s.length-a.length}function bl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const xl={strict:!1,end:!0,sensitive:!1};function wl(e,t,n){const a=function(e,t){const n=no({},fl,t),a=[];let s=n.start?"^":"";const r=[];for(const l of e){const e=l.length?[]:[ml.Root];n.strict&&!l.length&&(s+="/");for(let t=0;t<l.length;t++){const a=l[t];let i=ml.Segment+(n.sensitive?ml.BonusCaseSensitive:0);if(a.type===cl.Static)t||(s+="/"),s+=a.value.replace(gl,"\\$&"),i+=ml.Static;else if(a.type===cl.Param){const{value:e,repeatable:n,optional:c,regexp:u}=a;r.push({name:e,repeatable:n,optional:c});const d=u||pl;if(d!==pl){i+=ml.BonusCustomRegExp;try{"".concat(d)}catch(o){throw new Error('Invalid custom RegExp for param "'.concat(e,'" (').concat(d,"): ")+o.message)}}let h=n?"((?:".concat(d,")(?:/(?:").concat(d,"))*)"):"(".concat(d,")");t||(h=c&&l.length<2?"(?:/".concat(h,")"):"/"+h),c&&(h+="?"),s+=h,i+=ml.Dynamic,c&&(i+=ml.BonusOptional),n&&(i+=ml.BonusRepeatable),".*"===d&&(i+=ml.BonusWildcard)}e.push(i)}a.push(e)}if(n.strict&&n.end){const e=a.length-1;a[e][a[e].length-1]+=ml.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");return{re:i,score:a,keys:r,parse:function(e){const t=e.match(i),n={};if(!t)return null;for(let a=1;a<t.length;a++){const e=t[a]||"",s=r[a-1];n[s.name]=e&&s.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",a=!1;for(const s of e){a&&n.endsWith("/")||(n+="/"),a=!1;for(const e of s)if(e.type===cl.Static)n+=e.value;else if(e.type===cl.Param){const{value:r,repeatable:i,optional:o}=e,l=r in t?t[r]:"";if(ro(l)&&!i)throw new Error('Provided param "'.concat(r,'" is an array but it is not repeatable (* or + modifiers)'));const c=ro(l)?l.join("/"):l;if(!c){if(!o)throw new Error('Missing required param "'.concat(r,'"'));s.length<2&&(n.endsWith("/")?n=n.slice(0,-1):a=!0)}n+=c}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[dl]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(e){throw new Error("ERR (".concat(n,')/"').concat(c,'": ').concat(e))}let n=ul.Static,a=n;const s=[];let r;function i(){r&&s.push(r),r=[]}let o,l=0,c="",u="";function d(){c&&(n===ul.Static?r.push({type:cl.Static,value:c}):n===ul.Param||n===ul.ParamRegExp||n===ul.ParamRegExpEnd?(r.length>1&&("*"===o||"+"===o)&&t("A repeatable param (".concat(c,") must be alone in its segment. eg: '/:ids+.")),r.push({type:cl.Param,value:c,regexp:u,repeatable:"*"===o||"+"===o,optional:"*"===o||"?"===o})):t("Invalid state to consume buffer"),c="")}function h(){c+=o}for(;l<e.length;)if(o=e[l++],"\\"!==o||n===ul.ParamRegExp)switch(n){case ul.Static:"/"===o?(c&&d(),i()):":"===o?(d(),n=ul.Param):h();break;case ul.EscapeNext:h(),n=a;break;case ul.Param:"("===o?n=ul.ParamRegExp:hl.test(o)?h():(d(),n=ul.Static,"*"!==o&&"?"!==o&&"+"!==o&&l--);break;case ul.ParamRegExp:")"===o?"\\"==u[u.length-1]?u=u.slice(0,-1)+o:n=ul.ParamRegExpEnd:u+=o;break;case ul.ParamRegExpEnd:d(),n=ul.Static,"*"!==o&&"?"!==o&&"+"!==o&&l--,u="";break;default:t("Unknown state")}else a=n,n=ul.EscapeNext;return n===ul.ParamRegExp&&t('Unfinished custom RegExp for param "'.concat(c,'"')),d(),i(),s}(e.path),n),s=no(a,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function _l(e,t){const n=[],a=new Map;function s(e,n,a){const o=!a,l=Cl(e);l.aliasOf=a&&a.record;const c=io(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(Cl(no({},l,{components:a?a.record.components:l.components,path:e,aliasOf:a?a.record:l})))}let d,h;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,a="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&a+u)}if(d=wl(t,n,c),a?a.alias.push(d):(h=h||d,h!==d&&h.alias.push(d),o&&e.name&&!El(d)&&r(e.name)),Al(d)&&i(d),l.children){const e=l.children;for(let t=0;t<e.length;t++)s(e[t],d,a&&a.children[t])}a=a||d}return h?()=>{r(h)}:so}function r(e){if(Ho(e)){const t=a.get(e);t&&(a.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(r),t.alias.forEach(r))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&a.delete(e.record.name),e.children.forEach(r),e.alias.forEach(r))}}function i(e){const t=function(e,t){let n=0,a=t.length;for(;n!==a;){const s=n+a>>1;yl(e,t[s])<0?a=s:n=s+1}const s=function(e){let t=e;for(;t=t.parent;)if(Al(t)&&0===yl(e,t))return t}(e);s&&(a=t.lastIndexOf(s,a-1));return a}(e,n);n.splice(t,0,e),e.record.name&&!El(e)&&a.set(e.record.name,e)}return t=io(xl,t),e.forEach(e=>s(e)),{addRoute:s,resolve:function(e,t){let s,r,i,o={};if("name"in e&&e.name){if(s=a.get(e.name),!s)throw Ko(Wo.MATCHER_NOT_FOUND,{location:e});i=s.record.name,o=no(kl(t.params,s.keys.filter(e=>!e.optional).concat(s.parent?s.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&kl(e.params,s.keys.map(e=>e.name))),r=s.stringify(o)}else if(null!=e.path)r=e.path,s=n.find(e=>e.re.test(r)),s&&(o=s.parse(r),i=s.record.name);else{if(s=t.name?a.get(t.name):n.find(e=>e.re.test(t.path)),!s)throw Ko(Wo.MATCHER_NOT_FOUND,{location:e,currentLocation:t});i=s.record.name,o=no({},t.params,e.params),r=s.stringify(o)}const l=[];let c=s;for(;c;)l.unshift(c.record),c=c.parent;return{name:i,path:r,params:o,matched:l,meta:Pl(l)}},removeRoute:r,clearRoutes:function(){n.length=0,a.clear()},getRoutes:function(){return n},getRecordMatcher:function(e){return a.get(e)}}}function kl(e,t){const n={};for(const a of t)a in e&&(n[a]=e[a]);return n}function Cl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Sl(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Sl(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const a in e.components)t[a]="object"==typeof n?n[a]:n;return t}function El(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Pl(e){return e.reduce((e,t)=>no(e,t.meta),{})}function Al({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ol(e){const t=Oa(el),n=Oa(tl),a=nr(()=>{const n=Tt(e.to);return t.resolve(n)}),s=nr(()=>{const{matched:e}=a.value,{length:t}=e,s=e[t-1],r=n.matched;if(!s||!r.length)return-1;const i=r.findIndex(Do.bind(null,s));if(i>-1)return i;const o=Ml(e[t-2]);return t>1&&Ml(s)===o&&r[r.length-1].path!==o?r.findIndex(Do.bind(null,e[t-2])):i}),r=nr(()=>s.value>-1&&function(e,t){for(const n in t){const a=t[n],s=e[n];if("string"==typeof a){if(a!==s)return!1}else if(!ro(s)||s.length!==a.length||a.some((e,t)=>e!==s[t]))return!1}return!0}(n.params,a.value.params)),i=nr(()=>s.value>-1&&s.value===n.matched.length-1&&Mo(n.params,a.value.params));return{route:a,href:nr(()=>a.value.href),isActive:r,isExactActive:i,navigate:function(n={}){if(function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)){const n=t[Tt(e.replace)?"replace":"push"](Tt(e.to)).catch(so);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}}}const Dl=An({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ol,setup(e,{slots:t}){const n=mt(Ol(e)),{options:a}=Oa(el),s=nr(()=>({[Tl(e.activeClass,a.linkActiveClass,"router-link-active")]:n.isActive,[Tl(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&(1===(r=t.default(n)).length?r[0]:r);var r;return e.custom?a:ar("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},a)}}});function Ml(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Tl=(e,t,n)=>null!=e?e:null!=t?t:n;function Il(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const jl=An({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const a=Oa(nl),s=nr(()=>e.route||a.value),r=Oa(Zo,0),i=nr(()=>{let e=Tt(r);const{matched:t}=s.value;let n;for(;(n=t[e])&&!n.components;)e++;return e}),o=nr(()=>s.value.matched[i.value]);Aa(Zo,nr(()=>i.value+1)),Aa(Jo,o),Aa(nl,s);const l=At();return Za(()=>[l.value,o.value,e.name],([e,t,n],[a,s,r])=>{t&&(t.instances[n]=e,s&&s!==t&&e&&e===a&&(t.leaveGuards.size||(t.leaveGuards=s.leaveGuards),t.updateGuards.size||(t.updateGuards=s.updateGuards))),!e||!t||s&&Do(t,s)&&a||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const a=s.value,r=e.name,i=o.value,c=i&&i.components[r];if(!c)return Il(n.default,{Component:c,route:a});const u=i.props[r],d=u?!0===u?a.params:"function"==typeof u?u(a):u:null,h=ar(c,no({},d,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(i.instances[r]=null)},ref:l}));return Il(n.default,{Component:h,route:a})||h}}});function Ll(){return Oa(el)}function Fl(e){return Oa(tl)}function Nl(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Rl(e,t){return e.get(Nl(e,t))}function Bl(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}const Vl={},zl=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,a=window.scrollY;Vl.restoreFocusTimeout=setTimeout(()=>{Vl.previousActiveElement instanceof HTMLElement?(Vl.previousActiveElement.focus(),Vl.previousActiveElement=null):document.body&&document.body.focus(),t()},100),window.scrollTo(n,a)}),Ul="swal2-",ql=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((e,t)=>(e[t]=Ul+t,e),{}),Hl=["success","warning","info","question","error"].reduce((e,t)=>(e[t]=Ul+t,e),{}),Wl="SweetAlert2:",$l=e=>e.charAt(0).toUpperCase()+e.slice(1),Kl=e=>{console.warn("".concat(Wl," ").concat("object"==typeof e?e.join(" "):e))},Yl=e=>{console.error("".concat(Wl," ").concat(e))},Gl=[],Xl=(e,t=null)=>{var n;n='"'.concat(e,'" is deprecated and will be removed in the next major release.').concat(t?' Use "'.concat(t,'" instead.'):""),Gl.includes(n)||(Gl.push(n),Kl(n))},Ql=e=>"function"==typeof e?e():e,Jl=e=>e&&"function"==typeof e.toPromise,Zl=e=>Jl(e)?e.toPromise():Promise.resolve(e),ec=e=>e&&Promise.resolve(e)===e,tc=()=>document.body.querySelector(".".concat(ql.container)),nc=e=>{const t=tc();return t?t.querySelector(e):null},ac=e=>nc(".".concat(e)),sc=()=>ac(ql.popup),rc=()=>ac(ql.icon),ic=()=>ac(ql.title),oc=()=>ac(ql["html-container"]),lc=()=>ac(ql.image),cc=()=>ac(ql["progress-steps"]),uc=()=>ac(ql["validation-message"]),dc=()=>nc(".".concat(ql.actions," .").concat(ql.confirm)),hc=()=>nc(".".concat(ql.actions," .").concat(ql.cancel)),pc=()=>nc(".".concat(ql.actions," .").concat(ql.deny)),fc=()=>nc(".".concat(ql.loader)),mc=()=>ac(ql.actions),gc=()=>ac(ql.footer),vc=()=>ac(ql["timer-progress-bar"]),yc=()=>ac(ql.close),bc=()=>{const e=sc();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),a=parseInt(t.getAttribute("tabindex")||"0");return n>a?1:n<a?-1:0}),a=e.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),s=Array.from(a).filter(e=>"-1"!==e.getAttribute("tabindex"));return[...new Set(n.concat(s))].filter(e=>Nc(e))},xc=()=>kc(document.body,ql.shown)&&!kc(document.body,ql["toast-shown"])&&!kc(document.body,ql["no-backdrop"]),wc=()=>{const e=sc();return!!e&&kc(e,ql.toast)},_c=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),a=n.querySelector("head");a&&Array.from(a.childNodes).forEach(t=>{e.appendChild(t)});const s=n.querySelector("body");s&&Array.from(s.childNodes).forEach(t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)})}},kc=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let a=0;a<n.length;a++)if(!e.classList.contains(n[a]))return!1;return!0},Cc=(e,t,n)=>{if(((e,t)=>{Array.from(e.classList).forEach(n=>{Object.values(ql).includes(n)||Object.values(Hl).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)})})(e,t),!t.customClass)return;const a=t.customClass[n];a&&("string"==typeof a||a.forEach?Ac(e,a):Kl("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof a,'"')))},Sc=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(ql.popup," > .").concat(ql[t]));case"checkbox":return e.querySelector(".".concat(ql.popup," > .").concat(ql.checkbox," input"));case"radio":return e.querySelector(".".concat(ql.popup," > .").concat(ql.radio," input:checked"))||e.querySelector(".".concat(ql.popup," > .").concat(ql.radio," input:first-child"));case"range":return e.querySelector(".".concat(ql.popup," > .").concat(ql.range," input"));default:return e.querySelector(".".concat(ql.popup," > .").concat(ql.input))}},Ec=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},Pc=(e,t,n)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(t=>{Array.isArray(e)?e.forEach(e=>{n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},Ac=(e,t)=>{Pc(e,t,!0)},Oc=(e,t)=>{Pc(e,t,!1)},Dc=(e,t)=>{const n=Array.from(e.children);for(let a=0;a<n.length;a++){const e=n[a];if(e instanceof HTMLElement&&kc(e,t))return e}},Mc=(e,t,n)=>{n==="".concat(parseInt("".concat(n)))&&(n=parseInt(n)),n||0===parseInt("".concat(n))?e.style.setProperty(t,"number"==typeof n?"".concat(n,"px"):n):e.style.removeProperty(t)},Tc=(e,t="flex")=>{e&&(e.style.display=t)},Ic=e=>{e&&(e.style.display="none")},jc=(e,t="block")=>{e&&new MutationObserver(()=>{Fc(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},Lc=(e,t,n,a)=>{const s=e.querySelector(t);s&&s.style.setProperty(n,a)},Fc=(e,t,n="flex")=>{t?Tc(e,n):Ic(e)},Nc=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),Rc=e=>!!(e.scrollHeight>e.clientHeight),Bc=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),a=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||a>0},Vc=(e,t=!1)=>{const n=vc();n&&Nc(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"},10))},zc='\n <div aria-labelledby="'.concat(ql.title,'" aria-describedby="').concat(ql["html-container"],'" class="').concat(ql.popup,'" tabindex="-1">\n   <button type="button" class="').concat(ql.close,'"></button>\n   <ul class="').concat(ql["progress-steps"],'"></ul>\n   <div class="').concat(ql.icon,'"></div>\n   <img class="').concat(ql.image,'" />\n   <h2 class="').concat(ql.title,'" id="').concat(ql.title,'"></h2>\n   <div class="').concat(ql["html-container"],'" id="').concat(ql["html-container"],'"></div>\n   <input class="').concat(ql.input,'" id="').concat(ql.input,'" />\n   <input type="file" class="').concat(ql.file,'" />\n   <div class="').concat(ql.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(ql.select,'" id="').concat(ql.select,'"></select>\n   <div class="').concat(ql.radio,'"></div>\n   <label class="').concat(ql.checkbox,'">\n     <input type="checkbox" id="').concat(ql.checkbox,'" />\n     <span class="').concat(ql.label,'"></span>\n   </label>\n   <textarea class="').concat(ql.textarea,'" id="').concat(ql.textarea,'"></textarea>\n   <div class="').concat(ql["validation-message"],'" id="').concat(ql["validation-message"],'"></div>\n   <div class="').concat(ql.actions,'">\n     <div class="').concat(ql.loader,'"></div>\n     <button type="button" class="').concat(ql.confirm,'"></button>\n     <button type="button" class="').concat(ql.deny,'"></button>\n     <button type="button" class="').concat(ql.cancel,'"></button>\n   </div>\n   <div class="').concat(ql.footer,'"></div>\n   <div class="').concat(ql["timer-progress-bar-container"],'">\n     <div class="').concat(ql["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Uc=()=>{Vl.currentInstance.resetValidationMessage()},qc=e=>{const t=(()=>{const e=tc();return!!e&&(e.remove(),Oc([document.documentElement,document.body],[ql["no-backdrop"],ql["toast-shown"],ql["has-column"]]),!0)})();if("undefined"==typeof window||"undefined"==typeof document)return void Yl("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=ql.container,t&&Ac(n,ql["no-transition"]),_c(n,zc),n.dataset.swal2Theme=e.theme;const a="string"==typeof(s=e.target)?document.querySelector(s):s;var s;a.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),(e=>{const t=sc();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")})(e),(e=>{"rtl"===window.getComputedStyle(e).direction&&Ac(tc(),ql.rtl)})(a),(()=>{const e=sc(),t=Dc(e,ql.input),n=Dc(e,ql.file),a=e.querySelector(".".concat(ql.range," input")),s=e.querySelector(".".concat(ql.range," output")),r=Dc(e,ql.select),i=e.querySelector(".".concat(ql.checkbox," input")),o=Dc(e,ql.textarea);t.oninput=Uc,n.onchange=Uc,r.onchange=Uc,i.onchange=Uc,o.oninput=Uc,a.oninput=()=>{Uc(),s.value=a.value},a.onchange=()=>{Uc(),s.value=a.value}})()},Hc=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?Wc(e,t):e&&_c(t,e)},Wc=(e,t)=>{e.jquery?$c(t,e):_c(t,e.toString())},$c=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Kc=(e,t)=>{const n=mc(),a=fc();n&&a&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?Tc(n):Ic(n),Cc(n,t,"actions"),function(e,t,n){const a=dc(),s=pc(),r=hc();if(!a||!s||!r)return;Gc(a,"confirm",n),Gc(s,"deny",n),Gc(r,"cancel",n),function(e,t,n,a){if(!a.buttonsStyling)return void Oc([e,t,n],ql.styled);Ac([e,t,n],ql.styled),a.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",a.confirmButtonColor);a.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",a.denyButtonColor);a.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",a.cancelButtonColor);Yc(e),Yc(t),Yc(n)}(a,s,r,n),n.reverseButtons&&(n.toast?(e.insertBefore(r,a),e.insertBefore(s,a)):(e.insertBefore(r,t),e.insertBefore(s,t),e.insertBefore(a,t)))}(n,a,t),_c(a,t.loaderHtml||""),Cc(a,t,"loader"))};function Yc(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/," ".concat(n)))}function Gc(e,t,n){const a=$l(t);Fc(e,n["show".concat(a,"Button")],"inline-block"),_c(e,n["".concat(t,"ButtonText")]||""),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]||""),e.className=ql[t],Cc(e,n,"".concat(t,"Button"))}const Xc=(e,t)=>{const n=tc();n&&(!function(e,t){"string"==typeof t?e.style.background=t:t||Ac([document.documentElement,document.body],ql["no-backdrop"])}(n,t.backdrop),function(e,t){if(!t)return;t in ql?Ac(e,ql[t]):(Kl('The "position" parameter is not valid, defaulting to "center"'),Ac(e,ql.center))}(n,t.position),function(e,t){if(!t)return;Ac(e,ql["grow-".concat(t)])}(n,t.grow),Cc(n,t,"container"))};var Qc={innerParams:new WeakMap,domCache:new WeakMap};const Jc=["input","file","range","select","radio","checkbox","textarea"],Zc=e=>{if(!e.input)return;if(!iu[e.input])return void Yl("Unexpected type of input! Expected ".concat(Object.keys(iu).join(" | "),', got "').concat(e.input,'"'));const t=su(e.input);if(!t)return;const n=iu[e.input](t,e);Tc(t),e.inputAutoFocus&&setTimeout(()=>{Ec(n)})},eu=(e,t)=>{const n=sc();if(!n)return;const a=Sc(n,e);if(a){(e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}})(a);for(const e in t)a.setAttribute(e,t[e])}},tu=e=>{if(!e.input)return;const t=su(e.input);t&&Cc(t,e,"input")},nu=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},au=(e,t,n)=>{if(n.inputLabel){const a=document.createElement("label"),s=ql["input-label"];a.setAttribute("for",e.id),a.className=s,"object"==typeof n.customClass&&Ac(a,n.customClass.inputLabel),a.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",a)}},su=e=>{const t=sc();if(t)return Dc(t,ql[e]||ql.input)},ru=(e,t)=>{["string","number"].includes(typeof t)?e.value="".concat(t):ec(t)||Kl('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},iu={};iu.text=iu.email=iu.password=iu.number=iu.tel=iu.url=iu.search=iu.date=iu["datetime-local"]=iu.time=iu.week=iu.month=(e,t)=>(ru(e,t.inputValue),au(e,e,t),nu(e,t),e.type=t.input,e),iu.file=(e,t)=>(au(e,e,t),nu(e,t),e),iu.range=(e,t)=>{const n=e.querySelector("input"),a=e.querySelector("output");return ru(n,t.inputValue),n.type=t.input,ru(a,t.inputValue),au(n,e,t),e},iu.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");_c(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return au(e,e,t),e},iu.radio=e=>(e.textContent="",e),iu.checkbox=(e,t)=>{const n=Sc(sc(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);const a=e.querySelector("span");return _c(a,t.inputPlaceholder||t.inputLabel),n},iu.textarea=(e,t)=>{ru(e,t.inputValue),nu(e,t),au(e,e,t);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(sc()).width);new MutationObserver(()=>{if(!document.body.contains(e))return;const a=e.offsetWidth+(s=e,parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight));var s;a>n?sc().style.width="".concat(a,"px"):Mc(sc(),"width",t.width)}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const ou=(e,t)=>{const n=oc();n&&(jc(n),Cc(n,t,"htmlContainer"),t.html?(Hc(t.html,n),Tc(n,"block")):t.text?(n.textContent=t.text,Tc(n,"block")):Ic(n),((e,t)=>{const n=sc();if(!n)return;const a=Qc.innerParams.get(e),s=!a||t.input!==a.input;Jc.forEach(e=>{const a=Dc(n,ql[e]);a&&(eu(e,t.inputAttributes),a.className=ql[e],s&&Ic(a))}),t.input&&(s&&Zc(t),tu(t))})(e,t))},lu=(e,t)=>{for(const[n,a]of Object.entries(Hl))t.icon!==n&&Oc(e,a);Ac(e,t.icon&&Hl[t.icon]),du(e,t),cu(),Cc(e,t,"icon")},cu=()=>{const e=sc();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let a=0;a<n.length;a++)n[a].style.backgroundColor=t},uu=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,a="";if(t.iconHtml)a=hu(t.iconHtml);else if("success"===t.icon)a=(e=>"\n  ".concat(e.animation?'<div class="swal2-success-circular-line-left"></div>':"",'\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div>\n  ').concat(e.animation?'<div class="swal2-success-fix"></div>':"","\n  ").concat(e.animation?'<div class="swal2-success-circular-line-right"></div>':"","\n"))(t),n=n.replace(/ style=".*?"/g,"");else if("error"===t.icon)a='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n';else if(t.icon){a=hu({question:"?",warning:"!",info:"i"}[t.icon])}n.trim()!==a.trim()&&_c(e,a)},du=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Lc(e,n,"background-color",t.iconColor);Lc(e,".swal2-success-ring","border-color",t.iconColor)}},hu=e=>'<div class="'.concat(ql["icon-content"],'">').concat(e,"</div>");let pu=!1,fu=0,mu=0,gu=0,vu=0;const yu=e=>{const t=sc();if(e.target===t||rc().contains(e.target)){pu=!0;const n=wu(e);fu=n.clientX,mu=n.clientY,gu=parseInt(t.style.insetInlineStart)||0,vu=parseInt(t.style.insetBlockStart)||0,Ac(t,"swal2-dragging")}},bu=e=>{const t=sc();if(pu){let{clientX:n,clientY:a}=wu(e);t.style.insetInlineStart="".concat(gu+(n-fu),"px"),t.style.insetBlockStart="".concat(vu+(a-mu),"px")}},xu=()=>{const e=sc();pu=!1,Oc(e,"swal2-dragging")},wu=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},_u=(e,t)=>{const n=tc(),a=sc();if(n&&a){if(t.toast){Mc(n,"width",t.width),a.style.width="100%";const e=fc();e&&a.insertBefore(e,rc())}else Mc(a,"width",t.width);Mc(a,"padding",t.padding),t.color&&(a.style.color=t.color),t.background&&(a.style.background=t.background),Ic(uc()),ku(a,t),t.draggable&&!t.toast?(Ac(a,ql.draggable),(e=>{e.addEventListener("mousedown",yu),document.body.addEventListener("mousemove",bu),e.addEventListener("mouseup",xu),e.addEventListener("touchstart",yu),document.body.addEventListener("touchmove",bu),e.addEventListener("touchend",xu)})(a)):(Oc(a,ql.draggable),(e=>{e.removeEventListener("mousedown",yu),document.body.removeEventListener("mousemove",bu),e.removeEventListener("mouseup",xu),e.removeEventListener("touchstart",yu),document.body.removeEventListener("touchmove",bu),e.removeEventListener("touchend",xu)})(a))}},ku=(e,t)=>{const n=t.showClass||{};e.className="".concat(ql.popup," ").concat(Nc(e)?n.popup:""),t.toast?(Ac([document.documentElement,document.body],ql["toast-shown"]),Ac(e,ql.toast)):Ac(e,ql.modal),Cc(e,t,"popup"),"string"==typeof t.customClass&&Ac(e,t.customClass),t.icon&&Ac(e,ql["icon-".concat(t.icon)])},Cu=e=>{const t=document.createElement("li");return Ac(t,ql["progress-step"]),_c(t,e),t},Su=e=>{const t=document.createElement("li");return Ac(t,ql["progress-step-line"]),e.progressStepsDistance&&Mc(t,"width",e.progressStepsDistance),t},Eu=(e,t)=>{_u(0,t),Xc(0,t),((e,t)=>{const n=cc();if(!n)return;const{progressSteps:a,currentProgressStep:s}=t;a&&0!==a.length&&void 0!==s?(Tc(n),n.textContent="",s>=a.length&&Kl("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.forEach((e,r)=>{const i=Cu(e);if(n.appendChild(i),r===s&&Ac(i,ql["active-progress-step"]),r!==a.length-1){const e=Su(t);n.appendChild(e)}})):Ic(n)})(0,t),((e,t)=>{const n=Qc.innerParams.get(e),a=rc();if(!a)return;if(n&&t.icon===n.icon)return uu(a,t),void lu(a,t);if(!t.icon&&!t.iconHtml)return void Ic(a);if(t.icon&&-1===Object.keys(Hl).indexOf(t.icon))return Yl('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void Ic(a);Tc(a),uu(a,t),lu(a,t),Ac(a,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",cu)})(e,t),((e,t)=>{const n=lc();n&&(t.imageUrl?(Tc(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),Mc(n,"width",t.imageWidth),Mc(n,"height",t.imageHeight),n.className=ql.image,Cc(n,t,"image")):Ic(n))})(0,t),((e,t)=>{const n=ic();n&&(jc(n),Fc(n,Boolean(t.title||t.titleText),"block"),t.title&&Hc(t.title,n),t.titleText&&(n.innerText=t.titleText),Cc(n,t,"title"))})(0,t),((e,t)=>{const n=yc();n&&(_c(n,t.closeButtonHtml||""),Cc(n,t,"closeButton"),Fc(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))})(0,t),ou(e,t),Kc(0,t),((e,t)=>{const n=gc();n&&(jc(n),Fc(n,Boolean(t.footer),"block"),t.footer&&Hc(t.footer,n),Cc(n,t,"footer"))})(0,t);const n=sc();"function"==typeof t.didRender&&n&&t.didRender(n),Vl.eventEmitter.emit("didRender",n)},Pu=()=>{var e;return null===(e=dc())||void 0===e?void 0:e.click()},Au=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ou=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Du=(e,t)=>{var n;const a=bc();if(a.length)return-2===(e+=t)&&(e=a.length-1),e===a.length?e=0:-1===e&&(e=a.length-1),void a[e].focus();null===(n=sc())||void 0===n||n.focus()},Mu=["ArrowRight","ArrowDown"],Tu=["ArrowLeft","ArrowUp"],Iu=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?ju(t,e):"Tab"===t.key?Lu(t):[...Mu,...Tu].includes(t.key)?Fu(t.key):"Escape"===t.key&&Nu(t,e,n)))},ju=(e,t)=>{if(!Ql(t.allowEnterKey))return;const n=Sc(sc(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Pu(),e.preventDefault()}},Lu=e=>{const t=e.target,n=bc();let a=-1;for(let s=0;s<n.length;s++)if(t===n[s]){a=s;break}e.shiftKey?Du(a,-1):Du(a,1),e.stopPropagation(),e.preventDefault()},Fu=e=>{const t=mc(),n=dc(),a=pc(),s=hc();if(!(t&&n&&a&&s))return;const r=[n,a,s];if(document.activeElement instanceof HTMLElement&&!r.includes(document.activeElement))return;const i=Mu.includes(e)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let e=0;e<t.children.length;e++){if(o=o[i],!o)return;if(o instanceof HTMLButtonElement&&Nc(o))break}o instanceof HTMLButtonElement&&o.focus()}},Nu=(e,t,n)=>{e.preventDefault(),Ql(t.allowEscapeKey)&&n(Au.esc)};var Ru={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Bu=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Vu="undefined"!=typeof window&&!!window.GestureEvent,zu=()=>{const e=tc();if(!e)return;let t;e.ontouchstart=e=>{t=Uu(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Uu=e=>{const t=e.target,n=tc(),a=oc();return!(!n||!a)&&(!qu(e)&&!Hu(e)&&(t===n||!(Rc(n)||!(t instanceof HTMLElement)||((e,t)=>{let n=e;for(;n&&n!==t;){if(Rc(n))return!0;n=n.parentElement}return!1})(t,a)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||Rc(a)&&a.contains(t))))},qu=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Hu=e=>e.touches&&e.touches.length>1;let Wu=null;const $u=e=>{null===Wu&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Wu=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Wu+(()=>{const e=document.createElement("div");e.className=ql["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t})(),"px"))};function Ku(e,t,n,a){wc()?td(e,a):(zl(n).then(()=>td(e,a)),Ou(Vl)),Vu?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),xc()&&(null!==Wu&&(document.body.style.paddingRight="".concat(Wu,"px"),Wu=null),(()=>{if(kc(document.body,ql.iosfix)){const e=parseInt(document.body.style.top,10);Oc(document.body,ql.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}})(),Bu()),Oc([document.documentElement,document.body],[ql.shown,ql["height-auto"],ql["no-backdrop"],ql["toast-shown"]])}function Yu(e){e=Ju(e);const t=Ru.swalPromiseResolve.get(this),n=Gu(this);this.isAwaitingPromise?e.isDismissed||(Qu(this),t(e)):n&&t(e)}const Gu=e=>{const t=sc();if(!t)return!1;const n=Qc.innerParams.get(e);if(!n||kc(t,n.hideClass.popup))return!1;Oc(t,n.showClass.popup),Ac(t,n.hideClass.popup);const a=tc();return Oc(a,n.showClass.backdrop),Ac(a,n.hideClass.backdrop),Zu(e,t,n),!0};function Xu(e){const t=Ru.swalPromiseReject.get(this);Qu(this),t&&t(e)}const Qu=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Qc.innerParams.get(e)||e._destroy())},Ju=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Zu=(e,t,n)=>{var a;const s=tc(),r=Bc(t);"function"==typeof n.willClose&&n.willClose(t),null===(a=Vl.eventEmitter)||void 0===a||a.emit("willClose",t),r?ed(e,t,s,n.returnFocus,n.didClose):Ku(e,s,n.returnFocus,n.didClose)},ed=(e,t,n,a,s)=>{Vl.swalCloseEventFinishedCallback=Ku.bind(null,e,n,a,s);const r=function(e){var n;e.target===t&&(null===(n=Vl.swalCloseEventFinishedCallback)||void 0===n||n.call(Vl),delete Vl.swalCloseEventFinishedCallback,t.removeEventListener("animationend",r),t.removeEventListener("transitionend",r))};t.addEventListener("animationend",r),t.addEventListener("transitionend",r)},td=(e,t)=>{setTimeout(()=>{var n;"function"==typeof t&&t.bind(e.params)(),null===(n=Vl.eventEmitter)||void 0===n||n.emit("didClose"),e._destroy&&e._destroy()})},nd=e=>{let t=sc();if(t||new Lh,t=sc(),!t)return;const n=fc();wc()?Ic(rc()):ad(t,e),Tc(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},ad=(e,t)=>{const n=mc(),a=fc();n&&a&&(!t&&Nc(dc())&&(t=dc()),Tc(n),t&&(Ic(t),a.setAttribute("data-button-to-replace",t.className),n.insertBefore(a,t)),Ac([e,n],ql.loading))},sd=e=>e.checked?1:0,rd=e=>e.checked?e.value:null,id=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,od=(e,t)=>{const n=sc();if(!n)return;const a=e=>{"select"===t.input?function(e,t,n){const a=Dc(e,ql.select);if(!a)return;const s=(e,t,a)=>{const s=document.createElement("option");s.value=a,_c(s,t),s.selected=ud(a,n.inputValue),e.appendChild(s)};t.forEach(e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,a.appendChild(e),n.forEach(t=>s(e,t[1],t[0]))}else s(a,n,t)}),a.focus()}(n,cd(e),t):"radio"===t.input&&function(e,t,n){const a=Dc(e,ql.radio);if(!a)return;t.forEach(e=>{const t=e[0],s=e[1],r=document.createElement("input"),i=document.createElement("label");r.type="radio",r.name=ql.radio,r.value=t,ud(t,n.inputValue)&&(r.checked=!0);const o=document.createElement("span");_c(o,s),o.className=ql.label,i.appendChild(r),i.appendChild(o),a.appendChild(i)});const s=a.querySelectorAll("input");s.length&&s[0].focus()}(n,cd(e),t)};Jl(t.inputOptions)||ec(t.inputOptions)?(nd(dc()),Zl(t.inputOptions).then(t=>{e.hideLoading(),a(t)})):"object"==typeof t.inputOptions?a(t.inputOptions):Yl("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},ld=(e,t)=>{const n=e.getInput();n&&(Ic(n),Zl(t.inputValue).then(a=>{n.value="number"===t.input?"".concat(parseFloat(a)||0):"".concat(a),Tc(n),n.focus(),e.hideLoading()}).catch(t=>{Yl("Error in inputValue promise: ".concat(t)),n.value="",Tc(n),n.focus(),e.hideLoading()}))};const cd=e=>{const t=[];return e instanceof Map?e.forEach((e,n)=>{let a=e;"object"==typeof a&&(a=cd(a)),t.push([n,a])}):Object.keys(e).forEach(n=>{let a=e[n];"object"==typeof a&&(a=cd(a)),t.push([n,a])}),t},ud=(e,t)=>!!t&&t.toString()===e.toString(),dd=(e,t)=>{const n=Qc.innerParams.get(e);if(!n.input)return void Yl('The "input" parameter is needed to be set when using returnInputValueOn'.concat($l(t)));const a=e.getInput(),s=((e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return sd(n);case"radio":return rd(n);case"file":return id(n);default:return t.inputAutoTrim?n.value.trim():n.value}})(e,n);n.inputValidator?hd(e,s,t):a&&!a.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||a.validationMessage)):"deny"===t?pd(e,s):gd(e,s)},hd=(e,t,n)=>{const a=Qc.innerParams.get(e);e.disableInput();Promise.resolve().then(()=>Zl(a.inputValidator(t,a.validationMessage))).then(a=>{e.enableButtons(),e.enableInput(),a?e.showValidationMessage(a):"deny"===n?pd(e,t):gd(e,t)})},pd=(e,t)=>{const n=Qc.innerParams.get(e||void 0);if(n.showLoaderOnDeny&&nd(pc()),n.preDeny){e.isAwaitingPromise=!0;Promise.resolve().then(()=>Zl(n.preDeny(t,n.validationMessage))).then(n=>{!1===n?(e.hideLoading(),Qu(e)):e.close({isDenied:!0,value:void 0===n?t:n})}).catch(t=>md(e||void 0,t))}else e.close({isDenied:!0,value:t})},fd=(e,t)=>{e.close({isConfirmed:!0,value:t})},md=(e,t)=>{e.rejectPromise(t)},gd=(e,t)=>{const n=Qc.innerParams.get(e||void 0);if(n.showLoaderOnConfirm&&nd(),n.preConfirm){e.resetValidationMessage(),e.isAwaitingPromise=!0;Promise.resolve().then(()=>Zl(n.preConfirm(t,n.validationMessage))).then(n=>{Nc(uc())||!1===n?(e.hideLoading(),Qu(e)):fd(e,void 0===n?t:n)}).catch(t=>md(e||void 0,t))}else fd(e,t)};function vd(){const e=Qc.innerParams.get(this);if(!e)return;const t=Qc.domCache.get(this);Ic(t.loader),wc()?e.icon&&Tc(rc()):yd(t),Oc([t.popup,t.actions],ql.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const yd=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Tc(t[0],"inline-block"):Nc(dc())||Nc(pc())||Nc(hc())||Ic(e.actions)};function bd(){const e=Qc.innerParams.get(this),t=Qc.domCache.get(this);return t?Sc(t.popup,e.input):null}function xd(e,t,n){const a=Qc.domCache.get(e);t.forEach(e=>{a[e].disabled=n})}function wd(e,t){const n=sc();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll('[name="'.concat(ql.radio,'"]'));for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function _d(){xd(this,["confirmButton","denyButton","cancelButton"],!1)}function kd(){xd(this,["confirmButton","denyButton","cancelButton"],!0)}function Cd(){wd(this.getInput(),!1)}function Sd(){wd(this.getInput(),!0)}function Ed(e){const t=Qc.domCache.get(this),n=Qc.innerParams.get(this);_c(t.validationMessage,e),t.validationMessage.className=ql["validation-message"],n.customClass&&n.customClass.validationMessage&&Ac(t.validationMessage,n.customClass.validationMessage),Tc(t.validationMessage);const a=this.getInput();a&&(a.setAttribute("aria-invalid","true"),a.setAttribute("aria-describedby",ql["validation-message"]),Ec(a),Ac(a,ql.inputerror))}function Pd(){const e=Qc.domCache.get(this);e.validationMessage&&Ic(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Oc(t,ql.inputerror))}const Ad={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Od=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Dd={allowEnterKey:void 0},Md=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Td=e=>Object.prototype.hasOwnProperty.call(Ad,e),Id=e=>-1!==Od.indexOf(e),jd=e=>Dd[e],Ld=e=>{Td(e)||Kl('Unknown parameter "'.concat(e,'"'))},Fd=e=>{Md.includes(e)&&Kl('The parameter "'.concat(e,'" is incompatible with toasts'))},Nd=e=>{const t=jd(e);t&&Xl(e,t)},Rd=e=>{!1===e.backdrop&&e.allowOutsideClick&&Kl('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Kl('Invalid theme "'.concat(e.theme,'"'));for(const t in e)Ld(t),e.toast&&Fd(t),Nd(t)};function Bd(e){const t=tc(),n=sc(),a=Qc.innerParams.get(this);if(!n||kc(n,a.hideClass.popup))return void Kl("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const s=Vd(e),r=Object.assign({},a,s);Rd(r),t.dataset.swal2Theme=r.theme,Eu(this,r),Qc.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const Vd=e=>{const t={};return Object.keys(e).forEach(n=>{Id(n)?t[n]=e[n]:Kl("Invalid parameter to update: ".concat(n))}),t};function zd(){const e=Qc.domCache.get(this),t=Qc.innerParams.get(this);t?(e.popup&&Vl.swalCloseEventFinishedCallback&&(Vl.swalCloseEventFinishedCallback(),delete Vl.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),Vl.eventEmitter.emit("didDestroy"),Ud(this)):qd(this)}const Ud=e=>{qd(e),delete e.params,delete Vl.keydownHandler,delete Vl.keydownTarget,delete Vl.currentInstance},qd=e=>{e.isAwaitingPromise?(Hd(Qc,e),e.isAwaitingPromise=!0):(Hd(Ru,e),Hd(Qc,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Hd=(e,t)=>{for(const n in e)e[n].delete(t)};var Wd=Object.freeze({__proto__:null,_destroy:zd,close:Yu,closeModal:Yu,closePopup:Yu,closeToast:Yu,disableButtons:kd,disableInput:Sd,disableLoading:vd,enableButtons:_d,enableInput:Cd,getInput:bd,handleAwaitingPromise:Qu,hideLoading:vd,rejectPromise:Xu,resetValidationMessage:Pd,showValidationMessage:Ed,update:Bd});const $d=(e,t,n)=>{t.popup.onclick=()=>{e&&(Kd(e)||e.timer||e.input)||n(Au.close)}},Kd=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let Yd=!1;const Gd=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(Yd=!0)}}},Xd=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(Yd=!0)}}},Qd=(e,t,n)=>{t.container.onclick=a=>{Yd?Yd=!1:a.target===t.container&&Ql(e.allowOutsideClick)&&n(Au.backdrop)}},Jd=e=>e instanceof Element||(e=>"object"==typeof e&&e.jquery)(e);const Zd=()=>{if(Vl.timeout)return(()=>{const e=vc();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")})(),Vl.timeout.stop()},eh=()=>{if(Vl.timeout){const e=Vl.timeout.start();return Vc(e),e}};let th=!1;const nh={};const ah=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in nh){const n=t.getAttribute(e);if(n)return void nh[e].fire({template:n})}};Vl.eventEmitter=new class{constructor(){this.events={}}_getHandlersByEventName(e){return void 0===this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){const n=(...a)=>{this.removeListener(e,n),t.apply(this,a)};this.on(e,n)}emit(e,...t){this._getHandlersByEventName(e).forEach(e=>{try{e.apply(this,t)}catch(n){console.error(n)}})}removeListener(e,t){const n=this._getHandlersByEventName(e),a=n.indexOf(t);a>-1&&n.splice(a,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}};var sh=Object.freeze({__proto__:null,argsToParams:e=>{const t={};return"object"!=typeof e[0]||Jd(e[0])?["title","html","icon"].forEach((n,a)=>{const s=e[a];"string"==typeof s||Jd(s)?t[n]=s:void 0!==s&&Yl("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof s))}):Object.assign(t,e[0]),t},bindClickHandler:function(e="data-swal-template"){nh[e]=this,th||(document.body.addEventListener("click",ah),th=!0)},clickCancel:()=>{var e;return null===(e=hc())||void 0===e?void 0:e.click()},clickConfirm:Pu,clickDeny:()=>{var e;return null===(e=pc())||void 0===e?void 0:e.click()},enableLoading:nd,fire:function(...e){return new this(...e)},getActions:mc,getCancelButton:hc,getCloseButton:yc,getConfirmButton:dc,getContainer:tc,getDenyButton:pc,getFocusableElements:bc,getFooter:gc,getHtmlContainer:oc,getIcon:rc,getIconContent:()=>ac(ql["icon-content"]),getImage:lc,getInputLabel:()=>ac(ql["input-label"]),getLoader:fc,getPopup:sc,getProgressSteps:cc,getTimerLeft:()=>Vl.timeout&&Vl.timeout.getTimerLeft(),getTimerProgressBar:vc,getTitle:ic,getValidationMessage:uc,increaseTimer:e=>{if(Vl.timeout){const t=Vl.timeout.increase(e);return Vc(t,!0),t}},isDeprecatedParameter:jd,isLoading:()=>{const e=sc();return!!e&&e.hasAttribute("data-loading")},isTimerRunning:()=>!(!Vl.timeout||!Vl.timeout.isRunning()),isUpdatableParameter:Id,isValidParameter:Td,isVisible:()=>Nc(sc()),mixin:function(e){return class extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}},off:(e,t)=>{e?t?Vl.eventEmitter.removeListener(e,t):Vl.eventEmitter.removeAllListeners(e):Vl.eventEmitter.reset()},on:(e,t)=>{Vl.eventEmitter.on(e,t)},once:(e,t)=>{Vl.eventEmitter.once(e,t)},resumeTimer:eh,showLoading:nd,stopTimer:Zd,toggleTimer:()=>{const e=Vl.timeout;return e&&(e.running?Zd():eh())}});class rh{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ih=["swal-title","swal-html","swal-footer"],oh=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(e=>{mh(e,["name","value"]);const n=e.getAttribute("name"),a=e.getAttribute("value");n&&a&&(t[n]="boolean"==typeof Ad[n]?"false"!==a:"object"==typeof Ad[n]?JSON.parse(a):a)}),t},lh=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(e=>{const n=e.getAttribute("name"),a=e.getAttribute("value");n&&a&&(t[n]=new Function("return ".concat(a))())}),t},ch=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(e=>{mh(e,["type","color","aria-label"]);const n=e.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat($l(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label")))}),t},uh=e=>{const t={},n=e.querySelector("swal-image");return n&&(mh(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},dh=e=>{const t={},n=e.querySelector("swal-icon");return n&&(mh(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},hh=e=>{const t={},n=e.querySelector("swal-input");n&&(mh(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const a=Array.from(e.querySelectorAll("swal-input-option"));return a.length&&(t.inputOptions={},a.forEach(e=>{mh(e,["value"]);const n=e.getAttribute("value");if(!n)return;const a=e.innerHTML;t.inputOptions[n]=a})),t},ph=(e,t)=>{const n={};for(const a in t){const s=t[a],r=e.querySelector(s);r&&(mh(r,[]),n[s.replace(/^swal-/,"")]=r.innerHTML.trim())}return n},fh=e=>{const t=ih.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(e=>{const n=e.tagName.toLowerCase();t.includes(n)||Kl("Unrecognized element <".concat(n,">"))})},mh=(e,t)=>{Array.from(e.attributes).forEach(n=>{-1===t.indexOf(n.name)&&Kl(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])})},gh=e=>{const t=tc(),n=sc();"function"==typeof e.willOpen&&e.willOpen(n),Vl.eventEmitter.emit("willOpen",n);const a=window.getComputedStyle(document.body).overflowY;xh(t,n,e),setTimeout(()=>{yh(t,n)},10),xc()&&(bh(t,e.scrollbarPadding,a),(()=>{const e=tc();Array.from(document.body.children).forEach(t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})})()),wc()||Vl.previousActiveElement||(Vl.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout(()=>e.didOpen(n)),Vl.eventEmitter.emit("didOpen",n)},vh=e=>{const t=sc();if(e.target!==t)return;const n=tc();t.removeEventListener("animationend",vh),t.removeEventListener("transitionend",vh),n.style.overflowY="auto",Oc(n,ql["no-transition"])},yh=(e,t)=>{Bc(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",vh),t.addEventListener("transitionend",vh)):e.style.overflowY="auto"},bh=(e,t,n)=>{(()=>{if(Vu&&!kc(document.body,ql.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),Ac(document.body,ql.iosfix),zu()}})(),t&&"hidden"!==n&&$u(n),setTimeout(()=>{e.scrollTop=0})},xh=(e,t,n)=>{Ac(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),Tc(t,"grid"),setTimeout(()=>{Ac(t,n.showClass.popup),t.style.removeProperty("opacity")},10)):Tc(t,"grid"),Ac([document.documentElement,document.body],ql.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ac([document.documentElement,document.body],ql["height-auto"])};var wh=(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),_h=(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL");function kh(e){!function(e){e.inputValidator||("email"===e.input&&(e.inputValidator=wh),"url"===e.input&&(e.inputValidator=_h))}(e),e.showLoaderOnConfirm&&!e.preConfirm&&Kl("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(Kl('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),qc(e)}let Ch;var Sh=new WeakMap;class Eh{constructor(...e){if(Bl(this,Sh,void 0),"undefined"==typeof window)return;Ch=this;const t=Object.freeze(this.constructor.argsToParams(e));var n,a,s;this.params=t,this.isAwaitingPromise=!1,n=Sh,a=this,s=this._main(Ch.params),n.set(Nl(n,a),s)}_main(e,t={}){if(Rd(Object.assign({},t,e)),Vl.currentInstance){const e=Ru.swalPromiseResolve.get(Vl.currentInstance),{isAwaitingPromise:t}=Vl.currentInstance;Vl.currentInstance._destroy(),t||e({isDismissed:!0}),xc()&&Bu()}Vl.currentInstance=Ch;const n=Ah(e,t);kh(n),Object.freeze(n),Vl.timeout&&(Vl.timeout.stop(),delete Vl.timeout),clearTimeout(Vl.restoreFocusTimeout);const a=Oh(Ch);return Eu(Ch,n),Qc.innerParams.set(Ch,n),Ph(Ch,a,n)}then(e){return Rl(Sh,this).then(e)}finally(e){return Rl(Sh,this).finally(e)}}const Ph=(e,t,n)=>new Promise((a,s)=>{const r=t=>{e.close({isDismissed:!0,dismiss:t,isConfirmed:!1,isDenied:!1})};Ru.swalPromiseResolve.set(e,a),Ru.swalPromiseReject.set(e,s),t.confirmButton.onclick=()=>{(e=>{const t=Qc.innerParams.get(e);e.disableButtons(),t.input?dd(e,"confirm"):gd(e,!0)})(e)},t.denyButton.onclick=()=>{(e=>{const t=Qc.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?dd(e,"deny"):pd(e,!1)})(e)},t.cancelButton.onclick=()=>{((e,t)=>{e.disableButtons(),t(Au.cancel)})(e,r)},t.closeButton.onclick=()=>{r(Au.close)},((e,t,n)=>{e.toast?$d(e,t,n):(Gd(t),Xd(t),Qd(e,t,n))})(n,t,r),((e,t,n)=>{Ou(e),t.toast||(e.keydownHandler=e=>Iu(t,e,n),e.keydownTarget=t.keydownListenerCapture?window:sc(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)})(Vl,n,r),((e,t)=>{"select"===t.input||"radio"===t.input?od(e,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(Jl(t.inputValue)||ec(t.inputValue))&&(nd(dc()),ld(e,t))})(e,n),gh(n),Dh(Vl,n,r),Mh(t,n),setTimeout(()=>{t.container.scrollTop=0})}),Ah=(e,t)=>{const n=(e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return fh(n),Object.assign(oh(n),lh(n),ch(n),uh(n),dh(n),hh(n),ph(n,ih))})(e),a=Object.assign({},Ad,t,n,e);return a.showClass=Object.assign({},Ad.showClass,a.showClass),a.hideClass=Object.assign({},Ad.hideClass,a.hideClass),!1===a.animation&&(a.showClass={backdrop:"swal2-noanimation"},a.hideClass={}),a},Oh=e=>{const t={popup:sc(),container:tc(),actions:mc(),confirmButton:dc(),denyButton:pc(),cancelButton:hc(),loader:fc(),closeButton:yc(),validationMessage:uc(),progressSteps:cc()};return Qc.domCache.set(e,t),t},Dh=(e,t,n)=>{const a=vc();Ic(a),t.timer&&(e.timeout=new rh(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(Tc(a),Cc(a,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Vc(t.timer)})))},Mh=(e,t)=>{if(!t.toast)return Ql(t.allowEnterKey)?void(Th(e)||Ih(e,t)||Du(-1,1)):(Xl("allowEnterKey"),void jh())},Th=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&Nc(n))return n.focus(),!0;return!1},Ih=(e,t)=>t.focusDeny&&Nc(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Nc(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!Nc(e.confirmButton))&&(e.confirmButton.focus(),!0),jh=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Eh.prototype.disableButtons=kd,Eh.prototype.enableButtons=_d,Eh.prototype.getInput=bd,Eh.prototype.disableInput=Sd,Eh.prototype.enableInput=Cd,Eh.prototype.hideLoading=vd,Eh.prototype.disableLoading=vd,Eh.prototype.showValidationMessage=Ed,Eh.prototype.resetValidationMessage=Pd,Eh.prototype.close=Yu,Eh.prototype.closePopup=Yu,Eh.prototype.closeModal=Yu,Eh.prototype.closeToast=Yu,Eh.prototype.rejectPromise=Xu,Eh.prototype.update=Bd,Eh.prototype._destroy=zd,Object.assign(Eh,sh),Object.keys(Wd).forEach(e=>{Eh[e]=function(...t){return Ch&&Ch[e]?Ch[e](...t):null}}),Eh.DismissReason=Au,Eh.version="11.26.3";const Lh=Eh;Lh.default=Lh,"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(a){n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Fh=Zi({id:"alert",state:()=>({}),actions:{success(e){this.showToast(e,"success")},error(e){this.showToast(e,"error")},warning(e){this.showToast(e,"warning")},showToast(e,t){Lh.fire({icon:t,title:e,timer:5e3,toast:!0,position:"top-right",showConfirmButton:!1})},clear(){}}}),Nh="https://pos-dev.xash.co.zw/api";let Rh=!1,Bh=[];const Vh=(e,t=null)=>{Bh.forEach(n=>{e?n.reject(e):n.resolve(t)}),Bh=[]},zh={get:qh("GET"),post:qh("POST"),put:qh("PUT"),patch:qh("PATCH"),delete:qh("DELETE"),postForm:(Uh="POST",async(e,t)=>{const n=mp(),a=e.startsWith(Nh),s={method:Uh,headers:{}};n.token&&a&&(s.headers.Authorization="Bearer ".concat(n.token)),s.headers.Accept="application/json",s.body=t;try{const t=await fetch(e,s);return await async function(e){var t,n;const a=null==(n=null==(t=e.headers)?void 0:t.get("content-type"))?void 0:n.includes("application/json"),s=a?await e.json():null;if(!e.ok){const t=mp();if(401===e.status&&t.token)throw t.logout(),{message:"Session expired. Please login again.",errors:{}};throw 403===e.status&&t.token&&t.logout(),{message:(null==s?void 0:s.message)||e.statusText,errors:(null==s?void 0:s.errors)||{},response:s}}return s}(t)}catch(r){if(r.message&&(r.errors||r.response))throw r;throw{message:"Network error. Please check your connection.",errors:{}}}})};var Uh;function qh(e){return async(t,n)=>{const a={method:e,headers:Hh(t)};n&&(a.headers["Content-Type"]="application/json",a.body=JSON.stringify(n));try{const e=await fetch(t,a);return await Wh(e,t,a,n)}catch(s){if(s.message&&(s.errors||s.response))throw s;throw{message:"Network error. Please check your connection.",errors:{}}}}}function Hh(e){const t=mp(),n=!!t.token,a=e.startsWith(Nh);return n&&a?{Authorization:"Bearer ".concat(t.token),Accept:"application/json"}:{Accept:"application/json"}}async function Wh(e,t,n,a){var s,r;const i=(null==(r=null==(s=e.headers)?void 0:s.get("content-type"))?void 0:r.includes("application/json"))?await e.json():null;if(!e.ok){const s=mp();if(401===e.status&&s.token){if(Rh)return new Promise((e,t)=>{Bh.push({resolve:e,reject:t})});Rh=!0;try{await async function(){const e=mp();try{const t=await fetch("".concat(Nh,"/refresh"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.token),Accept:"application/json"}}),n=await t.json();if(t.ok&&n.access_token)return e.token=n.access_token,localStorage.setItem("token",n.access_token),n.access_token;throw new Error("Token refresh failed")}catch(t){throw t}}(),Vh(null,s.token),Rh=!1;const e={...n,headers:Hh(t)};a&&(e.headers["Content-Type"]="application/json",e.body=JSON.stringify(a));const r=await fetch(t,e);return await Wh(r,t,e,a)}catch(o){Vh(o,null),Rh=!1,s.logout();throw{message:"Session expired. Please login again.",errors:{},response:i}}}403===e.status&&s.token&&s.logout();throw{message:(null==i?void 0:i.message)||e.statusText,errors:(null==i?void 0:i.errors)||{},response:i}}return i}var $h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yh,Gh={exports:{}};const Xh=Kh((Yh||(Yh=1,Gh.exports=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function n(e,t,n){for(var a,s=0,r=t.length;s<r;s++)!a&&s in t||((a=a||Array.prototype.slice.call(t,0,s))[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:$h,s=Object.keys,r=Array.isArray;function i(e,t){return"object"!=typeof t||s(t).forEach(function(n){e[n]=t[n]}),e}"undefined"==typeof Promise||a.Promise||(a.Promise=Promise);var o=Object.getPrototypeOf,l={}.hasOwnProperty;function c(e,t){return l.call(e,t)}function u(e,t){"function"==typeof t&&(t=t(o(e))),("undefined"==typeof Reflect?s:Reflect.ownKeys)(t).forEach(function(n){h(e,n,t[n])})}var d=Object.defineProperty;function h(e,t,n,a){d(e,t,i(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},a))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:u.bind(null,e.prototype)}}}}var f=Object.getOwnPropertyDescriptor,m=[].slice;function g(e,t,n){return m.call(e,t,n)}function v(e,t){return t(e)}function y(e){if(!e)throw new Error("Assertion Failed")}function b(e){a.setImmediate?setImmediate(e):setTimeout(e,0)}function x(e,t){if("string"==typeof t&&c(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],a=0,s=t.length;a<s;++a){var r=x(e,t[a]);n.push(r)}return n}var i=t.indexOf(".");if(-1!==i){var o=e[t.substr(0,i)];return null==o?void 0:x(o,t.substr(i+1))}}function w(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){y("string"!=typeof n&&"length"in n);for(var a=0,s=t.length;a<s;++a)w(e,t[a],n[a])}else{var i,o,l=t.indexOf(".");-1!==l?(i=t.substr(0,l),""===(o=t.substr(l+1))?void 0===n?r(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=n:w(l=(l=e[i])&&c(e,i)?l:e[i]={},o,n)):void 0===n?r(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function _(e){var t,n={};for(t in e)c(e,t)&&(n[t]=e[t]);return n}var k=[].concat;function C(e){return k.apply([],e)}var S="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(C([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return a[e]}),E=new Set(S.map(function(e){return a[e]})),P=null;function A(e){return P=new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;var n=P.get(t);if(n)return n;if(r(t)){n=[],P.set(t,n);for(var a=0,s=t.length;a<s;++a)n.push(e(t[a]))}else if(E.has(t.constructor))n=t;else{var i,l=o(t);for(i in n=l===Object.prototype?{}:Object.create(l),P.set(t,n),t)c(t,i)&&(n[i]=e(t[i]))}return n}(e),P=null,e}var O={}.toString;function D(e){return O.call(e).slice(8,-1)}var M="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",T="symbol"==typeof M?function(e){var t;return null!=e&&(t=e[M])&&t.apply(e)}:function(){return null};function I(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var j={};function L(e){var t,n,a,s;if(1===arguments.length){if(r(e))return e.slice();if(this===j&&"string"==typeof e)return[e];if(s=T(e)){for(n=[];!(a=s.next()).done;)n.push(a.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var F="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},N=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(oe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),R={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function B(e,t){this.name=e,this.message=t}function V(e,t){return e+". Errors: "+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}function z(e,t,n,a){this.failures=t,this.failedKeys=a,this.successCount=n,this.message=V(e,t)}function U(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(e){return t[e]}),this.failuresByPos=t,this.message=V(e,this.failures)}p(B).from(Error).extend({toString:function(){return this.name+": "+this.message}}),p(z).from(B),p(U).from(B);var q=N.reduce(function(e,t){return e[t]=t+"Error",e},{}),H=B,W=N.reduce(function(e,t){var n=t+"Error";function a(e,a){this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(a?"\n "+a:""),this.inner=a||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=R[t]||n,this.inner=null)}return p(a).from(H),e[t]=a,e},{});W.Syntax=SyntaxError,W.Type=TypeError,W.Range=RangeError;var $=oe.reduce(function(e,t){return e[t+"Error"]=W[t],e},{}),K=N.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=W[t]),e},{});function Y(){}function G(e){return e}function X(e,t){return null==e||e===G?t:function(n){return t(e(n))}}function Q(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function J(e,t){return e===Y?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var a=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var r=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?Q(a,this.onsuccess):a),s&&(this.onerror=this.onerror?Q(s,this.onerror):s),void 0!==r?r:n}}function Z(e,t){return e===Y?t:function(){e.apply(this,arguments);var n=this.onsuccess,a=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Q(n,this.onsuccess):n),a&&(this.onerror=this.onerror?Q(a,this.onerror):a)}}function ee(e,t){return e===Y?t:function(n){var a=e.apply(this,arguments);i(n,a);var s=this.onsuccess,r=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),s&&(this.onsuccess=this.onsuccess?Q(s,this.onsuccess):s),r&&(this.onerror=this.onerror?Q(r,this.onerror):r),void 0===a?void 0===n?void 0:n:i(a,n)}}function te(e,t){return e===Y?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ne(e,t){return e===Y?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var a=this,s=arguments.length,r=new Array(s);s--;)r[s]=arguments[s];return n.then(function(){return t.apply(a,r)})}return t.apply(this,arguments)}}K.ModifyError=z,K.DexieError=B,K.BulkError=U;var ae="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function se(e){ae=e}var re={},ie=100,oe=(S="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,o(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,o(t),e]}())[0],le=(N=S[1],S=S[2],N=N&&N.then,oe&&oe.constructor),ce=!!S,ue=function(e,t){ye.push([e,t]),he&&(queueMicrotask(Ae),he=!1)},de=!0,he=!0,pe=[],fe=[],me=G,ge={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Y,pgp:!1,env:{},finalize:Y},ve=ge,ye=[],be=0,xe=[];function we(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=ve;if("function"!=typeof e){if(e!==re)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ce(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n(function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var a=t._lib&&Oe();n&&"function"==typeof n.then?e(t,function(e,t){n instanceof we?n._then(e,t):n.then(e,t)}):(t._state=!0,t._value=n,Se(t)),a&&De()}},Ce.bind(null,t))}catch(a){Ce(t,a)}}(this,e)}var _e={get:function(){var e=ve,t=Re;function n(n,a){var s=this,r=!e.global&&(e!==ve||t!==Re),i=r&&!Ue(),o=new we(function(t,o){Ee(s,new ke(Ye(n,e,r,i),Ye(a,e,r,i),t,o,e))});return this._consoleTask&&(o._consoleTask=this._consoleTask),o}return n.prototype=re,n},set:function(e){h(this,"then",e&&e.prototype===re?_e:{get:function(){return e},set:_e.set})}};function ke(e,t,n,a,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=a,this.psd=s}function Ce(e,t){var n,a;fe.push(t),null===e._state&&(n=e._lib&&Oe(),t=me(t),e._state=!1,e._value=t,a=e,pe.some(function(e){return e._value===a._value})||pe.push(a),Se(e),n&&De())}function Se(e){var t=e._listeners;e._listeners=[];for(var n=0,a=t.length;n<a;++n)Ee(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),0===be&&(++be,ue(function(){0==--be&&Me()},[]))}function Ee(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++be,ue(Pe,[n,e,t])}else e._listeners.push(t)}function Pe(e,t,n){try{var a,s=t._value;!t._state&&fe.length&&(fe=[]),a=ae&&t._consoleTask?t._consoleTask.run(function(){return e(s)}):e(s),t._state||-1!==fe.indexOf(s)||function(e){for(var t=pe.length;t;)if(pe[--t]._value===e._value)return pe.splice(t,1)}(t),n.resolve(a)}catch(r){n.reject(r)}finally{0==--be&&Me(),--n.psd.ref||n.psd.finalize()}}function Ae(){Ke(ge,function(){Oe()&&De()})}function Oe(){var e=de;return he=de=!1,e}function De(){var e,t,n;do{for(;0<ye.length;)for(e=ye,ye=[],n=e.length,t=0;t<n;++t){var a=e[t];a[0].apply(null,a[1])}}while(0<ye.length);he=de=!0}function Me(){var e=pe;pe=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=xe.slice(0),n=t.length;n;)t[--n]()}function Te(e){return new we(re,!1,e)}function Ie(e,t){var n=ve;return function(){var a=Oe(),s=ve;try{return We(n,!0),e.apply(this,arguments)}catch(r){t&&t(r)}finally{We(s,!1),a&&De()}}}u(we.prototype,{then:_e,_then:function(e,t){Ee(this,new ke(null,null,e,t,ve))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return"function"==typeof t?this.then(null,function(e){return(e instanceof t?n:Te)(e)}):this.then(null,function(e){return(e&&e.name===t?n:Te)(e)})},finally:function(e){return this.then(function(t){return we.resolve(e()).then(function(){return t})},function(t){return we.resolve(e()).then(function(){return Te(t)})})},timeout:function(e,t){var n=this;return e<1/0?new we(function(a,s){var r=setTimeout(function(){return s(new W.Timeout(t))},e);n.then(a,s).finally(clearTimeout.bind(null,r))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(we.prototype,Symbol.toStringTag,"Dexie.Promise"),ge.env=$e(),u(we,{all:function(){var e=L.apply(null,arguments).map(qe);return new we(function(t,n){0===e.length&&t([]);var a=e.length;e.forEach(function(s,r){return we.resolve(s).then(function(n){e[r]=n,--a||t(e)},n)})})},resolve:function(e){return e instanceof we?e:e&&"function"==typeof e.then?new we(function(t,n){e.then(t,n)}):new we(re,!0,e)},reject:Te,race:function(){var e=L.apply(null,arguments).map(qe);return new we(function(t,n){e.map(function(e){return we.resolve(e).then(t,n)})})},PSD:{get:function(){return ve},set:function(e){return ve=e}},totalEchoes:{get:function(){return Re}},newPSD:Ve,usePSD:Ke,scheduler:{get:function(){return ue},set:function(e){ue=e}},rejectionMapper:{get:function(){return me},set:function(e){me=e}},follow:function(e,t){return new we(function(n,a){return Ve(function(t,n){var a=ve;a.unhandleds=[],a.onunhandled=n,a.finalize=Q(function(){var e,a=this;e=function(){0===a.unhandleds.length?t():n(a.unhandleds[0])},xe.push(function t(){e(),xe.splice(xe.indexOf(t),1)}),++be,ue(function(){0==--be&&Me()},[])},a.finalize),e()},t,n,a)})}}),le&&(le.allSettled&&h(we,"allSettled",function(){var e=L.apply(null,arguments).map(qe);return new we(function(t){0===e.length&&t([]);var n=e.length,a=new Array(n);e.forEach(function(e,s){return we.resolve(e).then(function(e){return a[s]={status:"fulfilled",value:e}},function(e){return a[s]={status:"rejected",reason:e}}).then(function(){return--n||t(a)})})})}),le.any&&"undefined"!=typeof AggregateError&&h(we,"any",function(){var e=L.apply(null,arguments).map(qe);return new we(function(t,n){0===e.length&&n(new AggregateError([]));var a=e.length,s=new Array(a);e.forEach(function(e,r){return we.resolve(e).then(function(e){return t(e)},function(e){s[r]=e,--a||n(new AggregateError(s))})})})}),le.withResolvers&&(we.withResolvers=le.withResolvers));var je={awaits:0,echoes:0,id:0},Le=0,Fe=[],Ne=0,Re=0,Be=0;function Ve(e,t,n,a){var s=ve,r=Object.create(s);return r.parent=s,r.ref=0,r.global=!1,r.id=++Be,ge.env,r.env=ce?{Promise:we,PromiseProp:{value:we,configurable:!0,writable:!0},all:we.all,race:we.race,allSettled:we.allSettled,any:we.any,resolve:we.resolve,reject:we.reject}:{},t&&i(r,t),++s.ref,r.finalize=function(){--this.parent.ref||this.parent.finalize()},a=Ke(r,e,n,a),0===r.ref&&r.finalize(),a}function ze(){return je.id||(je.id=++Le),++je.awaits,je.echoes+=ie,je.id}function Ue(){return!!je.awaits&&(0==--je.awaits&&(je.id=0),je.echoes=je.awaits*ie,!0)}function qe(e){return je.echoes&&e&&e.constructor===le?(ze(),e.then(function(e){return Ue(),e},function(e){return Ue(),Xe(e)})):e}function He(){var e=Fe[Fe.length-1];Fe.pop(),We(e,!1)}function We(e,t){var n,s=ve;(t?!je.echoes||Ne++&&e===ve:!Ne||--Ne&&e===ve)||queueMicrotask(t?function(e){++Re,je.echoes&&0!=--je.echoes||(je.echoes=je.awaits=je.id=0),Fe.push(ve),We(e,!0)}.bind(null,e):He),e!==ve&&(ve=e,s===ge&&(ge.env=$e()),ce&&(n=ge.env.Promise,t=e.env,(s.global||e.global)&&(Object.defineProperty(a,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function $e(){var e=a.Promise;return ce?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Ke(e,t,n,a,s){var r=ve;try{return We(e,!0),t(n,a,s)}finally{We(r,!1)}}function Ye(e,t,n,a){return"function"!=typeof e?e:function(){var s=ve;n&&ze(),We(t,!0);try{return e.apply(this,arguments)}finally{We(s,!1),a&&queueMicrotask(Ue)}}}function Ge(e){Promise===le&&0===je.echoes?0===Ne?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+N).indexOf("[native code]")&&(ze=Ue=Y);var Xe=we.reject,Qe=String.fromCharCode(65535),Je="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ze="String expected.",et=[],tt="__dbnames",nt="readonly",at="readwrite";function st(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var rt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function it(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=A(t))[e],t}}function ot(){throw W.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function lt(e,t){try{var n=ct(e),a=ct(t);if(n!==a)return"Array"===n?1:"Array"===a?-1:"binary"===n?1:"binary"===a?-1:"string"===n?1:"string"===a?-1:"Date"===n?1:"Date"!==a?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,a=t.length,s=n<a?n:a,r=0;r<s;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return n===a?0:n<a?-1:1}(ut(e),ut(t));case"Array":return function(e,t){for(var n=e.length,a=t.length,s=n<a?n:a,r=0;r<s;++r){var i=lt(e[r],t[r]);if(0!==i)return i}return n===a?0:n<a?-1:1}(e,t)}}catch(s){}return NaN}function ct(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(e=D(e))?"binary":e}function ut(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function dt(e,t,n){var a=e.schema.yProps;return a?(t&&0<n.numFailures&&(t=t.filter(function(e,t){return!n.failures[t]})),Promise.all(a.map(function(n){return n=n.updatesTable,t?e.db.table(n).where("k").anyOf(t).delete():e.db.table(n).clear()})).then(function(){return n})):n}var ht=(pt.prototype.execute=function(e){var t=this["@@propmod"];if(void 0!==t.add){var a=t.add;if(r(a))return n(n([],r(e)?e:[],!0),a).sort();if("number"==typeof a)return(Number(e)||0)+a;if("bigint"==typeof a)try{return BigInt(e)+a}catch(i){return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(void 0!==t.remove){var s=t.remove;if(r(s))return r(e)?e.filter(function(e){return!s.includes(e)}).sort():[];if("number"==typeof s)return Number(e)-s;if("bigint"==typeof s)try{return BigInt(e)-s}catch(i){return BigInt(0)-s}throw new TypeError("Invalid subtrahend ".concat(s))}return(a=null===(a=t.replacePrefix)||void 0===a?void 0:a[0])&&"string"==typeof e&&e.startsWith(a)?t.replacePrefix[1]+e.substring(a.length):e},pt);function pt(e){this["@@propmod"]=e}function ft(e,t){for(var n=s(t),a=n.length,r=!1,i=0;i<a;++i){var o=n[i],l=t[o],c=x(e,o);l instanceof ht?(w(e,o,l.execute(c)),r=!0):c!==l&&(w(e,o,l),r=!0)}return r}var mt=(gt.prototype._trans=function(e,t,n){var a=this._tx||ve.trans,s=this.name,r=ae&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===e?"read":"write"," ").concat(this.name));function i(e,n,a){if(!a.schema[s])throw new W.NotFound("Table "+s+" not part of transaction");return t(a.idbtrans,a)}var o=Oe();try{var l=a&&a.db._novip===this.db._novip?a===ve.trans?a._promise(e,i,n):Ve(function(){return a._promise(e,i,n)},{trans:a,transless:ve.transless||ve}):function e(t,n,a,s){if(t.idbdb&&(t._state.openComplete||ve.letThrough||t._vip)){var r=t._createTransaction(n,a,t._dbSchema);try{r.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===q.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,a,s)})):Xe(i)}return r._promise(n,function(e,t){return Ve(function(){return ve.trans=r,s(e,t,r)})}).then(function(e){if("readwrite"===n)try{r.idbtrans.commit()}catch(t){}return"readonly"===n?e:r._completion.then(function(){return e})})}if(t._state.openComplete)return Xe(new W.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return Xe(new W.DatabaseClosed);t.open().catch(Y)}return t._state.dbReadyPromise.then(function(){return e(t,n,a,s)})}(this.db,e,[this.name],i);return r&&(l._consoleTask=r,l=l.catch(function(e){return console.trace(e),Xe(e)})),l}finally{o&&De()}},gt.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?Xe(new W.Type("Invalid argument to Table.get()")):this._trans("readonly",function(t){return n.core.get({trans:t,key:e}).then(function(e){return n.hook.reading.fire(e)})}).then(t)},gt.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(r(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=s(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(e){if(e.compound&&t.every(function(t){return 0<=e.keyPath.indexOf(t)})){for(var n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(n&&this.db._maxKey!==Qe){var a=n.keyPath.slice(0,t.length);return this.where(a).equals(a.map(function(t){return e[t]}))}!n&&ae&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var i=this.schema.idxByName;function o(e,t){return 0===lt(e,t)}a=(l=t.reduce(function(t,n){var a=t[0],s=t[1],l=(t=i[n],e[n]);return[a||t,a||!t?st(s,t&&t.multi?function(e){return e=x(e,n),r(e)&&e.some(function(e){return o(l,e)})}:function(e){return o(l,x(e,n))}):s]},[null,null]))[0];var l=l[1];return a?this.where(a.name).equals(e[a.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")},gt.prototype.filter=function(e){return this.toCollection().and(e)},gt.prototype.count=function(e){return this.toCollection().count(e)},gt.prototype.offset=function(e){return this.toCollection().offset(e)},gt.prototype.limit=function(e){return this.toCollection().limit(e)},gt.prototype.each=function(e){return this.toCollection().each(e)},gt.prototype.toArray=function(e){return this.toCollection().toArray(e)},gt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gt.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,r(e)?"[".concat(e.join("+"),"]"):e))},gt.prototype.reverse=function(){return this.toCollection().reverse()},gt.prototype.mapToClass=function(t){var n,a=this.db,s=this.name;function r(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof ot&&(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}(r,n=t),Object.defineProperty(r.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),r.prototype.table=function(){return s},t=r);for(var i=new Set,l=t.prototype;l;l=o(l))Object.getOwnPropertyNames(l).forEach(function(e){return i.add(e)});function c(e){if(!e)return e;var n,a=Object.create(t.prototype);for(n in e)if(!i.has(n))try{a[n]=e[n]}catch(s){}return a}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=c,this.hook("reading",c),t},gt.prototype.defineClass=function(){return this.mapToClass(function(e){i(this,e)})},gt.prototype.add=function(e,t){var n=this,a=this.schema.primKey,s=a.auto,r=a.keyPath,i=e;return r&&s&&(i=it(r)(e)),this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]})}).then(function(e){return e.numFailures?we.reject(e.failures[0]):e.lastResult}).then(function(t){if(r)try{w(e,r,t)}catch(n){}return t})},gt.prototype.upsert=function(e,t){var n=this,a=this.schema.primKey.keyPath;return this._trans("readwrite",function(s){return n.core.get({trans:s,key:e}).then(function(r){var i=null!=r?r:{};return ft(i,t),a&&w(i,a,e),n.core.mutate({trans:s,type:"put",values:[i],keys:[e],upsert:!0,updates:{keys:[e],changeSpecs:[t]}}).then(function(e){return e.numFailures?we.reject(e.failures[0]):!!r})})})},gt.prototype.update=function(e,t){return"object"!=typeof e||r(e)?this.where(":id").equals(e).modify(t):void 0===(e=x(e,this.schema.primKey.keyPath))?Xe(new W.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},gt.prototype.put=function(e,t){var n=this,a=this.schema.primKey,s=a.auto,r=a.keyPath,i=e;return r&&s&&(i=it(r)(e)),this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null})}).then(function(e){return e.numFailures?we.reject(e.failures[0]):e.lastResult}).then(function(t){if(r)try{w(e,r,t)}catch(n){}return t})},gt.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]}).then(function(n){return dt(t,[e],n)}).then(function(e){return e.numFailures?we.reject(e.failures[0]):void 0})})},gt.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:rt}).then(function(t){return dt(e,null,t)})}).then(function(e){return e.numFailures?we.reject(e.failures[0]):void 0})},gt.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(e){return e.map(function(e){return t.hook.reading.fire(e)})})})},gt.prototype.bulkAdd=function(e,t,n){var a=this,s=Array.isArray(t)?t:void 0,r=(n=n||(s?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(t){var n=(o=a.schema.primKey).auto;if((o=o.keyPath)&&s)throw new W.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var i=e.length,o=o&&n?e.map(it(o)):e;return a.core.mutate({trans:t,type:"add",keys:s,values:o,wantResults:r}).then(function(e){var t=e.numFailures,n=e.results,s=e.lastResult;if(e=e.failures,0===t)return r?n:s;throw new U("".concat(a.name,".bulkAdd(): ").concat(t," of ").concat(i," operations failed"),e)})})},gt.prototype.bulkPut=function(e,t,n){var a=this,s=Array.isArray(t)?t:void 0,r=(n=n||(s?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(t){var n=(o=a.schema.primKey).auto;if((o=o.keyPath)&&s)throw new W.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var i=e.length,o=o&&n?e.map(it(o)):e;return a.core.mutate({trans:t,type:"put",keys:s,values:o,wantResults:r}).then(function(e){var t=e.numFailures,n=e.results,s=e.lastResult;if(e=e.failures,0===t)return r?n:s;throw new U("".concat(a.name,".bulkPut(): ").concat(t," of ").concat(i," operations failed"),e)})})},gt.prototype.bulkUpdate=function(e){var t=this,n=this.core,a=e.map(function(e){return e.key}),s=e.map(function(e){return e.changes}),r=[];return this._trans("readwrite",function(i){return n.getMany({trans:i,keys:a,cache:"clone"}).then(function(o){var l=[],c=[];e.forEach(function(e,n){var a=e.key,s=e.changes,i=o[n];if(i){for(var u=0,d=Object.keys(s);u<d.length;u++){var h=d[u],p=s[h];if(h===t.schema.primKey.keyPath){if(0!==lt(p,a))throw new W.Constraint("Cannot update primary key in bulkUpdate()")}else w(i,h,p)}r.push(n),l.push(a),c.push(i)}});var u=l.length;return n.mutate({trans:i,type:"put",keys:l,values:c,updates:{keys:a,changeSpecs:s}}).then(function(e){var n=e.numFailures,a=e.failures;if(0===n)return u;for(var s=0,i=Object.keys(a);s<i.length;s++){var o,l=i[s],c=r[Number(l)];null!=c&&(o=a[l],delete a[l],a[c]=o)}throw new U("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(u," operations failed"),a)})})})},gt.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:e}).then(function(n){return dt(t,e,n)})}).then(function(e){var a=e.numFailures,s=e.lastResult;if(e=e.failures,0===a)return s;throw new U("".concat(t.name,".bulkDelete(): ").concat(a," of ").concat(n," operations failed"),e)})},gt);function gt(){}function vt(e){function t(t,a){if(a){for(var s=arguments.length,r=new Array(s-1);--s;)r[s-1]=arguments[s];return n[t].subscribe.apply(null,r),e}if("string"==typeof t)return n[t]}var n={};t.addEventType=o;for(var a=1,i=arguments.length;a<i;++a)o(arguments[a]);return t;function o(e,a,i){if("object"!=typeof e){var l;a=a||te;var c={subscribers:[],fire:i=i||Y,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=a(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter(function(t){return t!==e}),c.fire=c.subscribers.reduce(a,i)}};return n[e]=t[e]=c}s(l=e).forEach(function(e){var t=l[e];if(r(t))o(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new W.InvalidArgument("Invalid event config");var n=o(e,G,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){b(function(){e.apply(null,t)})})})}})}}function yt(e,t){return p(t).from({prototype:e}),t}function bt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function xt(e,t){e.filter=st(e.filter,t)}function wt(e,t,n){var a=e.replayFilter;e.replayFilter=a?function(){return st(a(),t())}:t,e.justLimit=n&&!a}function _t(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new W.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function kt(e,t,n){var a=_t(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:a,range:e.range}})}function Ct(e,t,n,a){var s=e.replayFilter?st(e.filter,e.replayFilter()):e.filter;if(e.or){var r={},i=function(e,n,a){var i,o;s&&!s(n,a,function(e){return n.stop(e)},function(e){return n.fail(e)})||("[object ArrayBuffer]"==(o=""+(i=n.primaryKey))&&(o=""+new Uint8Array(i)),c(r,o)||(r[o]=!0,t(e,n,a)))};return Promise.all([e.or._iterate(i,n),St(kt(e,a,n),e.algorithm,i,!e.keysOnly&&e.valueMapper)])}return St(kt(e,a,n),st(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function St(e,t,n,a){var s=Ie(a?function(e,t,s){return n(a(e),t,s)}:n);return e.then(function(e){if(e)return e.start(function(){var n=function(){return e.continue()};t&&!t(e,function(e){return n=e},function(t){e.stop(t),n=Y},function(t){e.fail(t),n=Y})||s(e.value,e,function(e){return n=e}),n()})})}var Et=(Pt.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Xe.bind(null,n.error)):n.table._trans("readonly",e).then(t)},Pt.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Xe.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Pt.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=st(t.algorithm,e)},Pt.prototype._iterate=function(e,t){return Ct(this._ctx,e,t,this._ctx.table.core)},Pt.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&i(n,e),t._ctx=n,t},Pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Pt.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return Ct(t,e,n,t.table.core)})},Pt.prototype.count=function(e){var t=this;return this._read(function(e){var n=t._ctx,a=n.table.core;if(bt(n,!0))return a.count({trans:e,query:{index:_t(n,a.schema),range:n.range}}).then(function(e){return Math.min(e,n.limit)});var s=0;return Ct(n,function(){return++s,!1},e,a).then(function(){return s})}).then(e)},Pt.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),a=n[0],s=n.length-1;function r(e,t){return t?r(e[n[t]],t-1):e[a]}var i="next"===this._ctx.dir?1:-1;function o(e,t){return lt(r(e,s),r(t,s))*i}return this.toArray(function(e){return e.sort(o)}).then(t)},Pt.prototype.toArray=function(e){var t=this;return this._read(function(e){var n=t._ctx;if("next"===n.dir&&bt(n,!0)&&0<n.limit){var a=n.valueMapper,s=_t(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:s,range:n.range}}).then(function(e){return e=e.result,a?e.map(a):e})}var r=[];return Ct(n,function(e){return r.push(e)},e,n.table.core).then(function(){return r})},e)},Pt.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,bt(t)?wt(t,function(){var t=e;return function(e,n){return 0===t||(1===t?--t:n(function(){e.advance(t),t=0}),!1)}}):wt(t,function(){var t=e;return function(){return--t<0}})),this},Pt.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),wt(this._ctx,function(){var t=e;return function(e,n,a){return--t<=0&&n(a),0<=t}},!0),this},Pt.prototype.until=function(e,t){return xt(this._ctx,function(n,a,s){return!e(n.value)||(a(s),t)}),this},Pt.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},Pt.prototype.last=function(e){return this.reverse().first(e)},Pt.prototype.filter=function(e){var t;return xt(this._ctx,function(t){return e(t.value)}),(t=this._ctx).isMatch=st(t.isMatch,e),this},Pt.prototype.and=function(e){return this.filter(e)},Pt.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Pt.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Pt.prototype.desc=function(){return this.reverse()},Pt.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},Pt.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Pt.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},Pt.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},Pt.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&bt(t,!0)&&0<t.limit)return this._read(function(e){var n=_t(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})}).then(function(e){return e.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)},Pt.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Pt.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},Pt.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Pt.prototype.distinct=function(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return xt(this._ctx,function(e){var n=e.primaryKey.toString();return e=c(t,n),t[n]=!0,!e}),this},Pt.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(a){var r,i="function"==typeof e?e:function(t){return ft(t,e)},o=n.table.core,l=(r=o.schema.primaryKey).outbound,c=r.extractKey,u=200;function d(e,t){var n=t.failures;t=t.numFailures,p+=e-t;for(var a=0,r=s(n);a<r.length;a++){var i=r[a];h.push(n[i])}}(r=t.db._options.modifyChunkSize)&&(u="object"==typeof r?r[o.name]||r["*"]||200:r);var h=[],p=0,f=[],m=e===At;return t.clone().primaryKeys().then(function(t){function s(h){var p=Math.min(u,t.length-h),f=t.slice(h,h+p);return(m?Promise.resolve([]):o.getMany({trans:a,keys:f,cache:"immutable"})).then(function(g){var v=[],y=[],b=l?[]:null,x=m?f:[];if(!m)for(var w=0;w<p;++w){var _=g[w],k={value:A(_),primKey:t[h+w]};!1!==i.call(k,k.value,k)&&(null==k.value?x.push(t[h+w]):l||0===lt(c(_),c(k.value))?(y.push(k.value),l&&b.push(t[h+w])):(x.push(t[h+w]),v.push(k.value)))}return Promise.resolve(0<v.length&&o.mutate({trans:a,type:"add",values:v}).then(function(e){for(var t in e.failures)x.splice(parseInt(t),1);d(v.length,e)})).then(function(){return(0<y.length||r&&"object"==typeof e)&&o.mutate({trans:a,type:"put",keys:b,values:y,criteria:r,changeSpec:"function"!=typeof e&&e,isAdditionalChunk:0<h}).then(function(e){return d(y.length,e)})}).then(function(){return(0<x.length||r&&m)&&o.mutate({trans:a,type:"delete",keys:x,criteria:r,isAdditionalChunk:0<h}).then(function(e){return dt(n.table,x,e)}).then(function(e){return d(x.length,e)})}).then(function(){return t.length>h+p&&s(h+u)})})}var r=bt(n)&&n.limit===1/0&&("function"!=typeof e||m)&&{index:n.index,range:n.range};return s(0).then(function(){if(0<h.length)throw new z("Error modifying one or more objects",h,p,f);return t.length})})})},Pt.prototype.delete=function(){var e=this._ctx,t=e.range;return!bt(e)||e.table.schema.yProps||!e.isPrimKey&&3!==t.type?this.modify(At):this._write(function(n){var a=e.table.core.schema.primaryKey,s=t;return e.table.core.count({trans:n,query:{index:a,range:s}}).then(function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:s}).then(function(e){var n=e.failures;if(e=e.numFailures)throw new z("Could not delete some values",Object.keys(n).map(function(e){return n[e]}),t-e);return t-e})})})},Pt);function Pt(){}var At=function(e,t){return t.value=null};function Ot(e,t){return e<t?-1:e===t?0:1}function Dt(e,t){return t<e?-1:e===t?0:1}function Mt(e,t,n){return(e=e instanceof Ft?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function Tt(e){return new e.Collection(e,function(){return Lt("")}).limit(0)}function It(e,t,n,a){var s,r,i,o,l,c,u,d=n.length;if(!n.every(function(e){return"string"==typeof e}))return Mt(e,Ze);function h(e){s="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},r="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},i="next"===e?Ot:Dt;var t=n.map(function(e){return{lower:r(e),upper:s(e)}}).sort(function(e,t){return i(e.lower,t.lower)});o=t.map(function(e){return e.upper}),l=t.map(function(e){return e.lower}),u="next"===(c=e)?"":a}h("next"),(e=new e.Collection(e,function(){return jt(o[0],l[d-1]+a)}))._ondirectionchange=function(e){h(e)};var p=0;return e._addAlgorithm(function(e,n,a){var s=e.key;if("string"!=typeof s)return!1;var h=r(s);if(t(h,l,p))return!0;for(var f=null,m=p;m<d;++m){var g=function(e,t,n,a,s,r){for(var i=Math.min(e.length,a.length),o=-1,l=0;l<i;++l){var c=t[l];if(c!==a[l])return s(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):s(e[l],a[l])<0?e.substr(0,l)+a[l]+n.substr(l+1):0<=o?e.substr(0,o)+t[o]+n.substr(o+1):null;s(e[l],c)<0&&(o=l)}return i<a.length&&"next"===r?e+n.substr(e.length):i<e.length&&"prev"===r?e.substr(0,n.length):o<0?null:e.substr(0,o)+a[o]+n.substr(o+1)}(s,h,o[m],l[m],i,c);null===g&&null===f?p=m+1:(null===f||0<i(f,g))&&(f=g)}return n(null!==f?function(){e.continue(f+u)}:a),!1}),e}function jt(e,t,n,a){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:a}}function Lt(e){return{type:1,lower:e,upper:e}}var Ft=(Object.defineProperty(Nt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Nt.prototype.between=function(e,t,n,a){n=!1!==n,a=!0===a;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||a)&&(!n||!a)?Tt(this):new this.Collection(this,function(){return jt(e,t,!n,!a)})}catch(s){return Mt(this,Je)}},Nt.prototype.equals=function(e){return null==e?Mt(this,Je):new this.Collection(this,function(){return Lt(e)})},Nt.prototype.above=function(e){return null==e?Mt(this,Je):new this.Collection(this,function(){return jt(e,void 0,!0)})},Nt.prototype.aboveOrEqual=function(e){return null==e?Mt(this,Je):new this.Collection(this,function(){return jt(e,void 0,!1)})},Nt.prototype.below=function(e){return null==e?Mt(this,Je):new this.Collection(this,function(){return jt(void 0,e,!1,!0)})},Nt.prototype.belowOrEqual=function(e){return null==e?Mt(this,Je):new this.Collection(this,function(){return jt(void 0,e)})},Nt.prototype.startsWith=function(e){return"string"!=typeof e?Mt(this,Ze):this.between(e,e+Qe,!0,!0)},Nt.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):It(this,function(e,t){return 0===e.indexOf(t[0])},[e],Qe)},Nt.prototype.equalsIgnoreCase=function(e){return It(this,function(e,t){return e===t[0]},[e],"")},Nt.prototype.anyOfIgnoreCase=function(){var e=L.apply(j,arguments);return 0===e.length?Tt(this):It(this,function(e,t){return-1!==t.indexOf(e)},e,"")},Nt.prototype.startsWithAnyOfIgnoreCase=function(){var e=L.apply(j,arguments);return 0===e.length?Tt(this):It(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,Qe)},Nt.prototype.anyOf=function(){var e=this,t=L.apply(j,arguments),n=this._cmp;try{t.sort(n)}catch(r){return Mt(this,Je)}if(0===t.length)return Tt(this);var a=new this.Collection(this,function(){return jt(t[0],t[t.length-1])});a._ondirectionchange=function(a){n="next"===a?e._ascending:e._descending,t.sort(n)};var s=0;return a._addAlgorithm(function(e,a,r){for(var i=e.key;0<n(i,t[s]);)if(++s===t.length)return a(r),!1;return 0===n(i,t[s])||(a(function(){e.continue(t[s])}),!1)}),a},Nt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Nt.prototype.noneOf=function(){var e=L.apply(j,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return Mt(this,Je)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Nt.prototype.inAnyRange=function(e,t){var n=this,a=this._cmp,s=this._ascending,r=this._descending,i=this._min,o=this._max;if(0===e.length)return Tt(this);if(!e.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&s(e[0],e[1])<=0}))return Mt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",W.InvalidArgument);var l,c=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers,d=s;function h(e,t){return d(e[0],t[0])}try{(l=e.reduce(function(e,t){for(var n=0,s=e.length;n<s;++n){var r=e[n];if(a(t[0],r[1])<0&&0<a(t[1],r[0])){r[0]=i(r[0],t[0]),r[1]=o(r[1],t[1]);break}}return n===s&&e.push(t),e},[])).sort(h)}catch(v){return Mt(this,Je)}var p=0,f=u?function(e){return 0<s(e,l[p][1])}:function(e){return 0<=s(e,l[p][1])},m=c?function(e){return 0<r(e,l[p][0])}:function(e){return 0<=r(e,l[p][0])},g=f;return(e=new this.Collection(this,function(){return jt(l[0][0],l[l.length-1][1],!c,!u)}))._ondirectionchange=function(e){d="next"===e?(g=f,s):(g=m,r),l.sort(h)},e._addAlgorithm(function(e,t,a){for(var r,i=e.key;g(i);)if(++p===l.length)return t(a),!1;return!f(r=i)&&!m(r)||(0===n._cmp(i,l[p][1])||0===n._cmp(i,l[p][0])||t(function(){d===s?e.continue(l[p][0]):e.continue(l[p][1])}),!1)}),e},Nt.prototype.startsWithAnyOf=function(){var e=L.apply(j,arguments);return e.every(function(e){return"string"==typeof e})?0===e.length?Tt(this):this.inAnyRange(e.map(function(e){return[e,e+Qe]})):Mt(this,"startsWithAnyOf() only works with strings")},Nt);function Nt(){}function Rt(e){return Ie(function(t){return Bt(t),e(t.target.error),!1})}function Bt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Vt="storagemutated",zt="x-storagemutated-1",Ut=vt(null,Vt),qt=(Ht.prototype._lock=function(){return y(!ve.global),++this._reculock,1!==this._reculock||ve.global||(ve.lockOwnerFor=this),this},Ht.prototype._unlock=function(){if(y(!ve.global),0==--this._reculock)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Ke(e[1],e[0])}catch(t){}}return this},Ht.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},Ht.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,a=this.db._state.dbOpenError;if(y(!this.idbtrans),!e&&!n)switch(a&&a.name){case"DatabaseClosedError":throw new W.DatabaseClosed(a);case"MissingAPIError":throw new W.MissingAPI(a.message,a);default:throw new W.OpenFailed(a)}if(!this.active)throw new W.TransactionInactive;return y(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ie(function(n){Bt(n),t._reject(e.error)}),e.onabort=Ie(function(n){Bt(n),t.active&&t._reject(new W.Abort(e.error)),t.active=!1,t.on("abort").fire(n)}),e.oncomplete=Ie(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Ut.storagemutated.fire(e.mutatedParts)}),this},Ht.prototype._promise=function(e,t,n){var a=this;if("readwrite"===e&&"readwrite"!==this.mode)return Xe(new W.ReadOnly("Transaction is readonly"));if(!this.active)return Xe(new W.TransactionInactive);if(this._locked())return new we(function(s,r){a._blockedFuncs.push([function(){a._promise(e,t,n).then(s,r)},ve])});if(n)return Ve(function(){var e=new we(function(e,n){a._lock();var s=t(e,n,a);s&&s.then&&s.then(e,n)});return e.finally(function(){return a._unlock()}),e._lib=!0,e});var s=new we(function(e,n){var s=t(e,n,a);s&&s.then&&s.then(e,n)});return s._lib=!0,s},Ht.prototype._root=function(){return this.parent?this.parent._root():this},Ht.prototype.waitFor=function(e){var t,n=this._root(),a=we.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return a}):(n._waitingFor=a,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var s=n._waitingFor;return new we(function(e,t){a.then(function(t){return n._waitingQueue.push(Ie(e.bind(null,t)))},function(e){return n._waitingQueue.push(Ie(t.bind(null,e)))}).finally(function(){n._waitingFor===s&&(n._waitingFor=null)})})},Ht.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new W.Abort))},Ht.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(c(t,e))return t[e];var n=this.schema[e];if(!n)throw new W.NotFound("Table "+e+" not part of transaction");return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n},Ht);function Ht(){}function Wt(e,t,n,a,s,r,i,o){return{name:e,keyPath:t,unique:n,multi:a,auto:s,compound:r,src:(n&&!i?"&":"")+(a?"*":"")+(s?"++":"")+$t(t),type:o}}function $t(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Kt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(a=function(e){return[e.name,e]},n.reduce(function(e,t,n){return(n=a(t,n))&&(e[n[0]]=n[1]),e},{}))};var a}var Yt=function(e){try{return e.only([[]]),Yt=function(){return[[]]},[[]]}catch(t){return Yt=function(){return Qe},Qe}};function Gt(e){return null==e?function(){}:"string"==typeof e?1===(t=e).split(".").length?function(e){return e[t]}:function(e){return x(e,t)}:function(t){return x(t,e)};var t}function Xt(e){return[].slice.call(e)}var Qt=0;function Jt(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function Zt(e,t,n){function a(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,a=e.upper,s=e.lowerOpen;return e=e.upperOpen,void 0===n?void 0===a?null:t.upperBound(a,!!e):void 0===a?t.lowerBound(n,!!s):t.bound(n,a,!!s,!!e)}function s(e){var t,n=e.name;return{name:n,schema:e,mutate:function(e){var t=e.trans,s=e.type,r=e.keys,i=e.values,o=e.range;return new Promise(function(e,l){e=Ie(e);var c=t.objectStore(n),u=null==c.keyPath,d="put"===s||"add"===s;if(!d&&"delete"!==s&&"deleteRange"!==s)throw new Error("Invalid operation type: "+s);var h,p=(r||i||{length:1}).length;if(r&&i&&r.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===p)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function f(e){++v,Bt(e)}var m=[],g=[],v=0;if("deleteRange"===s){if(4===o.type)return e({numFailures:v,failures:g,results:[],lastResult:void 0});3===o.type?m.push(h=c.clear()):m.push(h=c.delete(a(o)))}else{var y=(u=d?u?[i,r]:[i,null]:[r,null])[0],b=u[1];if(d)for(var x=0;x<p;++x)m.push(h=b&&void 0!==b[x]?c[s](y[x],b[x]):c[s](y[x])),h.onerror=f;else for(x=0;x<p;++x)m.push(h=c[s](y[x])),h.onerror=f}function w(t){t=t.target.result,m.forEach(function(e,t){return null!=e.error&&(g[t]=e.error)}),e({numFailures:v,failures:g,results:"delete"===s?r:m.map(function(e){return e.result}),lastResult:t})}h.onerror=function(e){f(e),w(e)},h.onsuccess=w})},getMany:function(e){var t=e.trans,a=e.keys;return new Promise(function(e,s){e=Ie(e);for(var r,i=t.objectStore(n),o=a.length,l=new Array(o),c=0,u=0,d=function(t){t=t.target,l[t._pos]=t.result,++u===c&&e(l)},h=Rt(s),p=0;p<o;++p)null!=a[p]&&((r=i.get(a[p]))._pos=p,r.onsuccess=d,r.onerror=h,++c);0===c&&e(l)})},get:function(e){var t=e.trans,a=e.key;return new Promise(function(e,s){e=Ie(e);var r=t.objectStore(n).get(a);r.onsuccess=function(t){return e(t.target.result)},r.onerror=Rt(s)})},query:(t=c,function(e){return new Promise(function(s,r){s=Ie(s);var i,o,l,c=e.trans,u=e.values,d=e.limit,h=e.query,p=d===1/0?void 0:d,f=h.index;if(h=h.range,c=c.objectStore(n),f=f.isPrimaryKey?c:c.index(f.name),h=a(h),0===d)return s({result:[]});t?((p=u?f.getAll(h,p):f.getAllKeys(h,p)).onsuccess=function(e){return s({result:e.target.result})},p.onerror=Rt(r)):(i=0,o=!u&&"openKeyCursor"in f?f.openKeyCursor(h):f.openCursor(h),l=[],o.onsuccess=function(e){var t=o.result;return t?(l.push(u?t.value:t.primaryKey),++i===d?s({result:l}):void t.continue()):s({result:l})},o.onerror=Rt(r))})}),openCursor:function(e){var t=e.trans,s=e.values,r=e.query,i=e.reverse,o=e.unique;return new Promise(function(e,l){e=Ie(e);var c=r.index,u=r.range,d=t.objectStore(n),h=(d=c.isPrimaryKey?d:d.index(c.name),c=i?o?"prevunique":"prev":o?"nextunique":"next",!s&&"openKeyCursor"in d?d.openKeyCursor(a(u),c):d.openCursor(a(u),c));h.onerror=Rt(l),h.onsuccess=Ie(function(n){var a,s,r,i,o=h.result;o?(o.___id=++Qt,o.done=!1,a=o.continue.bind(o),s=(s=o.continuePrimaryKey)&&s.bind(o),r=o.advance.bind(o),i=function(){throw new Error("Cursor not stopped")},o.trans=t,o.stop=o.continue=o.continuePrimaryKey=o.advance=function(){throw new Error("Cursor not started")},o.fail=Ie(l),o.next=function(){var e=this,t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})},o.start=function(e){function t(){if(h.result)try{e()}catch(t){o.fail(t)}else o.done=!0,o.start=function(){throw new Error("Cursor behind last entry")},o.stop()}var n=new Promise(function(e,t){e=Ie(e),h.onerror=Rt(t),o.fail=t,o.stop=function(t){o.stop=o.continue=o.continuePrimaryKey=o.advance=i,e(t)}});return h.onsuccess=Ie(function(e){h.onsuccess=t,t()}),o.continue=a,o.continuePrimaryKey=s,o.advance=r,t(),n},e(o)):e(null)},l)})},count:function(e){var t=e.query,s=e.trans,r=t.index,i=t.range;return new Promise(function(e,t){var o=s.objectStore(n),l=r.isPrimaryKey?o:o.index(r.name);(l=(o=a(i))?l.count(o):l.count()).onsuccess=Ie(function(t){return e(t.target.result)}),l.onerror=Rt(t)})}}}n=(o=n,l=Xt((i=e).objectStoreNames),u={schema:{name:i.name,tables:l.map(function(e){return o.objectStore(e)}).map(function(e){var t=e.keyPath,n=e.autoIncrement,a=r(t),s={};return n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:a,keyPath:t,autoIncrement:n,unique:!0,extractKey:Gt(t)},indexes:Xt(e.indexNames).map(function(t){return e.index(t)}).map(function(e){var t=e.name,n=e.unique,a=e.multiEntry;return e=e.keyPath,a={name:t,compound:r(e),keyPath:e,unique:n,multiEntry:a,extractKey:Gt(e)},s[Jt(e)]=a}),getIndexByKeyPath:function(e){return s[Jt(e)]}},s[":id"]=n.primaryKey,null!=t&&(s[Jt(t)]=n.primaryKey),n})},hasGetAll:0<l.length&&"getAll"in o.objectStore(l[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).schema;var i,o,l,c=u.hasGetAll,u=n.tables.map(s),d={};return u.forEach(function(e){return d[e.name]=e}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!d[e])throw new Error("Table '".concat(e,"' not found"));return d[e]},MIN_KEY:-1/0,MAX_KEY:Yt(t),schema:n}}function en(e,n,a,s){var r=a.IDBKeyRange;return a.indexedDB,{dbcore:(s=Zt(n,r,s),e.dbcore.reduce(function(e,n){return n=n.create,t(t({},e),n(e))},s))}}function tn(e,t){var n=t.db;t=en(e._middlewares,n,e._deps,t),e.core=t.dbcore,e.tables.forEach(function(t){var n=t.name;e.core.schema.tables.some(function(e){return e.name===n})&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))})}function nn(e,t,n,a){n.forEach(function(n){var s=a[n];t.forEach(function(t){var a=function e(t,n){return f(t,n)||(t=o(t))&&e(t,n)}(t,n);(!a||"value"in a&&void 0===a.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?h(t,n,{get:function(){return this.table(n)},set:function(e){d(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,s))})})}function an(e,t){t.forEach(function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]})}function sn(e,t){return e._cfg.version-t._cfg.version}function rn(e,t,n,a){var r=e._dbSchema;n.objectStoreNames.contains("$meta")&&!r.$meta&&(r.$meta=Kt("$meta",fn("")[0],[]),e._storeNames.push("$meta"));var i=e._createTransaction("readwrite",e._storeNames,r);i.create(n),i._completion.catch(a);var o=i._reject.bind(i),l=ve.transless||ve;Ve(function(){return ve.trans=i,ve.transless=l,0!==t?(tn(e,n),c=t,((a=i).storeNames.includes("$meta")?a.table("$meta").get("version").then(function(e){return null!=e?e:c}):we.resolve(c)).then(function(t){return r=t,o=i,l=n,c=[],t=(a=e)._versions,u=a._dbSchema=hn(0,a.idbdb,l),0!==(t=t.filter(function(e){return e._cfg.version>=r})).length?(t.forEach(function(e){c.push(function(){var t=u,n=e._cfg.dbschema;pn(a,t,l),pn(a,n,l),u=a._dbSchema=n;var i=ln(t,n);i.add.forEach(function(e){cn(l,e[0],e[1].primKey,e[1].indexes)}),i.change.forEach(function(e){if(e.recreate)throw new W.Upgrade("Not yet support for changing primary key");var t=l.objectStore(e.name);e.add.forEach(function(e){return dn(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),dn(t,e)}),e.del.forEach(function(e){return t.deleteIndex(e)})});var c=e._cfg.contentUpgrade;if(c&&e._cfg.version>r){tn(a,l),o._memoizedTables={};var d=_(n);i.del.forEach(function(e){d[e]=t[e]}),an(a,[a.Transaction.prototype]),nn(a,[a.Transaction.prototype],s(d),d),o.schema=d;var h,p=F(c);return p&&ze(),i=we.follow(function(){var e;(h=c(o))&&p&&(e=Ue.bind(null,null),h.then(e,e))}),h&&"function"==typeof h.then?we.resolve(h):i.then(function(){return h})}}),c.push(function(t){var n,s,r=e._cfg.dbschema;n=r,s=t,[].slice.call(s.db.objectStoreNames).forEach(function(e){return null==n[e]&&s.db.deleteObjectStore(e)}),an(a,[a.Transaction.prototype]),nn(a,[a.Transaction.prototype],a._storeNames,a._dbSchema),o.schema=a._dbSchema}),c.push(function(t){a.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(a.idbdb.version/10)===e._cfg.version?(a.idbdb.deleteObjectStore("$meta"),delete a._dbSchema.$meta,a._storeNames=a._storeNames.filter(function(e){return"$meta"!==e})):t.objectStore("$meta").put(e._cfg.version,"version"))})}),function e(){return c.length?we.resolve(c.shift()(o.idbtrans)).then(e):we.resolve()}().then(function(){un(u,l)})):we.resolve();var a,r,o,l,c,u}).catch(o)):(s(r).forEach(function(e){cn(n,e,r[e].primKey,r[e].indexes)}),tn(e,n),void we.follow(function(){return e.on.populate.fire(i)}).catch(o));var a,c})}function on(e,t){un(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=hn(0,e.idbdb,t);pn(e,e._dbSchema,t);for(var a=0,s=ln(n,e._dbSchema).change;a<s.length;a++){var r=function(e){if(e.change.length||e.recreate)return console.warn("Unable to patch indexes of table ".concat(e.name," because it has changes on the type of index or primary key.")),{value:void 0};var n=t.objectStore(e.name);e.add.forEach(function(t){ae&&console.debug("Dexie upgrade patch: Creating missing index ".concat(e.name,".").concat(t.src)),dn(n,t)})}(s[a]);if("object"==typeof r)return r.value}}function ln(e,t){var n,a={del:[],add:[],change:[]};for(n in e)t[n]||a.del.push(n);for(n in t){var s=e[n],r=t[n];if(s){var i={name:n,def:r,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(r.primKey.keyPath||"")||s.primKey.auto!==r.primKey.auto)i.recreate=!0,a.change.push(i);else{var o=s.idxByName,l=r.idxByName,c=void 0;for(c in o)l[c]||i.del.push(c);for(c in l){var u=o[c],d=l[c];u?u.src!==d.src&&i.change.push(d):i.add.push(d)}(0<i.del.length||0<i.add.length||0<i.change.length)&&a.change.push(i)}}else a.add.push([n,r])}return a}function cn(e,t,n,a){var s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return a.forEach(function(e){return dn(s,e)}),s}function un(e,t){s(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(ae&&console.debug("Dexie: Creating missing table",n),cn(t,n,e[n].primKey,e[n].indexes))})}function dn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function hn(e,t,n){var a={};return g(t.objectStoreNames,0).forEach(function(e){for(var t=n.objectStore(e),s=Wt($t(o=t.keyPath),o||"",!0,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),r=[],i=0;i<t.indexNames.length;++i){var o=(l=t.index(t.indexNames[i])).keyPath,l=Wt(l.name,o,!!l.unique,!!l.multiEntry,!1,o&&"string"!=typeof o,!1);r.push(l)}a[e]=Kt(e,s,r)}),a}function pn(e,t,n){for(var s=n.db.objectStoreNames,r=0;r<s.length;++r){var i=s[r],o=n.objectStore(i);e._hasGetAll="getAll"in o;for(var l=0;l<o.indexNames.length;++l){var c=o.indexNames[l],u=o.index(c).keyPath,d="string"==typeof u?u:"["+g(u).join("+")+"]";!t[i]||(u=t[i].idxByName[d])&&(u.name=c,delete t[i].idxByName[d],t[i].idxByName[c]=u)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function fn(e){return e.split(",").map(function(e,t){var n=null===(a=(s=e.split(":"))[1])||void 0===a?void 0:a.trim(),a=(e=s[0].trim()).replace(/([&*]|\+\+)/g,""),s=/^\[/.test(a)?a.match(/^\[(.*)\]$/)[1].split("+"):a;return Wt(a,s||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),r(s),0===t,n)})}var mn=(gn.prototype._createTableSchema=Kt,gn.prototype._parseIndexSyntax=fn,gn.prototype._parseStoresSpec=function(e,t){var n=this;s(e).forEach(function(a){if(null!==e[a]){var s=n._parseIndexSyntax(e[a]),r=s.shift();if(!r)throw new W.Schema("Invalid schema for table "+a+": "+e[a]);if(r.unique=!0,r.multi)throw new W.Schema("Primary key cannot be multiEntry*");s.forEach(function(e){if(e.auto)throw new W.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new W.Schema("Index must have a name and cannot be an empty string")}),s=n._createTableSchema(a,r,s),t[a]=s}})},gn.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,e):e,e=t._versions;var n={},a={};return e.forEach(function(e){i(n,e._cfg.storesSource),a=e._cfg.dbschema={},e._parseStoresSpec(n,a)}),t._dbSchema=a,an(t,[t._allTables,t,t.Transaction.prototype]),nn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],s(a),a),t._storeNames=s(a),this},gn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ne(this._cfg.contentUpgrade||Y,e),this},gn);function gn(){}function vn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new na(tt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function yn(e){return e&&"function"==typeof e.databases}function bn(e){return Ve(function(){return ve.letThrough=!0,e()})}function xn(e){return!("from"in e)}var wn=function(e,t){if(!this){var n=new wn;return e&&"d"in e&&i(n,e),n}i(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function _n(e,t,n){var a=lt(t,n);if(!isNaN(a)){if(0<a)throw RangeError();if(xn(e))return i(e,{from:t,to:n,d:1});var s=e.l;if(a=e.r,lt(n,e.from)<0)return s?_n(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},En(e);if(0<lt(t,e.to))return a?_n(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null},En(e);lt(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),0<lt(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,s&&!e.l&&kn(e,s),a&&n&&kn(e,a)}}function kn(e,t){xn(t)||function e(t,n){var a=n.from,s=n.to,r=n.l;n=n.r,_n(t,a,s),r&&e(t,r),n&&e(t,n)}(e,t)}function Cn(e,t){var n=Sn(t),a=n.next();if(a.done)return!1;for(var s=a.value,r=Sn(e),i=r.next(s.from),o=i.value;!a.done&&!i.done;){if(lt(o.from,s.to)<=0&&0<=lt(o.to,s.from))return!0;lt(s.from,o.from)<0?s=(a=n.next(o.from)).value:o=(i=r.next(s.from)).value}return!1}function Sn(e){var t=xn(e)?null:{s:0,n:e};return{next:function(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&lt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||lt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function En(e){var n,a,s=((null===(n=e.r)||void 0===n?void 0:n.d)||0)-((null===(a=e.l)||void 0===a?void 0:a.d)||0),r=1<s?"r":s<-1?"l":"";r&&(n="r"==r?"l":"r",a=t({},e),s=e[r],e.from=s.from,e.to=s.to,e[r]=s[r],a[r]=s[n],(e[n]=a).d=Pn(a)),e.d=Pn(e)}function Pn(e){var t=e.r;return e=e.l,(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function An(e,t){return s(t).forEach(function(n){e[n]?kn(e[n],t[n]):e[n]=function e(t){var n,a,s={};for(n in t)c(t,n)&&(a=t[n],s[n]=!a||"object"!=typeof a||E.has(a.constructor)?a:e(a));return s}(t[n])}),e}function On(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&Cn(t[n],e[n])})}u(wn.prototype,((N={add:function(e){return kn(this,e),this},addKey:function(e){return _n(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(e){return _n(t,e,e)}),this},hasKey:function(e){var t=Sn(this).next(e).value;return t&&lt(t.from,e)<=0&&0<=lt(t.to,e)}})[M]=function(){return Sn(this)},N));var Dn={},Mn={},Tn=!1;function In(e){An(Mn,e),Tn||(Tn=!0,setTimeout(function(){Tn=!1,jn(Mn,!(Mn={}))},0))}function jn(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var a=0,s=Object.values(Dn);a<s.length;a++)Ln(i=s[a],e,n,t);else for(var r in e){var i,o=/^idb\:\/\/(.*)\/(.*)\//.exec(r);o&&(r=o[1],o=o[2],(i=Dn["idb://".concat(r,"/").concat(o)])&&Ln(i,e,n,t))}n.forEach(function(e){return e()})}function Ln(e,t,n,a){for(var s=[],r=0,i=Object.entries(e.queries.query);r<i.length;r++){for(var o=i[r],l=o[0],c=[],u=0,d=o[1];u<d.length;u++){var h=d[u];On(t,h.obsSet)?h.subscribers.forEach(function(e){return n.add(e)}):a&&c.push(h)}a&&s.push([l,c])}if(a)for(var p=0,f=s;p<f.length;p++){var m=f[p];l=m[0],c=m[1],e.queries.query[l]=c}}function Fn(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Xe(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var a=t.openCanceller,r=Math.round(10*e.verno),i=!1;function o(){if(t.openCanceller!==a)throw new W.DatabaseClosed("db.open() was cancelled")}function l(){return new we(function(a,c){if(o(),!n)throw new W.MissingAPI;var u=e.name,p=t.autoSchema||!r?n.open(u):n.open(u,r);if(!p)throw new W.MissingAPI;p.onerror=Rt(c),p.onblocked=Ie(e._fireOnBlocked),p.onupgradeneeded=Ie(function(a){var s;d=p.transaction,t.autoSchema&&!e._options.allowEmptyDB?(p.onerror=Bt,d.abort(),p.result.close(),(s=n.deleteDatabase(u)).onsuccess=s.onerror=Ie(function(){c(new W.NoSuchDatabase("Database ".concat(u," doesnt exist")))})):(d.onerror=Rt(c),a=a.oldVersion>Math.pow(2,62)?0:a.oldVersion,h=a<1,e.idbdb=p.result,i&&on(e,d),rn(e,a/10,d,c))},c),p.onsuccess=Ie(function(){d=null;var n,o,c,f,m,v=e.idbdb=p.result,y=g(v.objectStoreNames);if(0<y.length)try{var b=v.transaction(1===(f=y).length?f[0]:f,"readonly");if(t.autoSchema)o=v,c=b,(n=e).verno=o.version/10,c=n._dbSchema=hn(0,o,c),n._storeNames=g(o.objectStoreNames,0),nn(n,[n._allTables],s(c),c);else if(pn(e,e._dbSchema,b),((m=ln(hn(0,(m=e).idbdb,b),m._dbSchema)).add.length||m.change.some(function(e){return e.add.length||e.change.length}))&&!i)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),v.close(),r=v.version+1,i=!0,a(l());tn(e,b)}catch(x){}et.push(e),v.onversionchange=Ie(function(n){t.vcFired=!0,e.on("versionchange").fire(n)}),v.onclose=Ie(function(){e.close({disableAutoOpen:!1})}),h&&(m=e._deps,b=u,v=m.indexedDB,m=m.IDBKeyRange,yn(v)||b===tt||vn(v,m).put({name:b}).catch(Y)),a()},c)}).catch(function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l();break;case"VersionError":if(0<r)return r=0,l()}return we.reject(e)})}var c,u=t.dbReadyResolve,d=null,h=!1;return we.race([a,("undefined"==typeof navigator?we.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){function t(){return indexedDB.databases().finally(e)}c=setInterval(t,100),t()}).finally(function(){return clearInterval(c)}):Promise.resolve()).then(l)]).then(function(){return o(),t.onReadyBeingFired=[],we.resolve(bn(function(){return e.on.ready.fire(e.vip)})).then(function n(){if(0<t.onReadyBeingFired.length){var a=t.onReadyBeingFired.reduce(ne,Y);return t.onReadyBeingFired=[],we.resolve(bn(function(){return a(e.vip)})).then(n)}})}).finally(function(){t.openCanceller===a&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(n){t.dbOpenError=n;try{d&&d.abort()}catch(s){}return a===t.openCanceller&&e._close(),Xe(n)}).finally(function(){t.openComplete=!0,u()}).then(function(){var t;return h&&(t={},e.tables.forEach(function(n){n.schema.indexes.forEach(function(a){a.name&&(t["idb://".concat(e.name,"/").concat(n.name,"/").concat(a.name)]=new wn(-1/0,[[[]]]))}),t["idb://".concat(e.name,"/").concat(n.name,"/")]=t["idb://".concat(e.name,"/").concat(n.name,"/:dels")]=new wn(-1/0,[[[]]])}),Ut(Vt).fire(t),jn(t,!0)),e})}function Nn(e){function t(t){return e.next(t)}var n=s(t),a=s(function(t){return e.throw(t)});function s(e){return function(t){var s=e(t);return t=s.value,s.done?t:t&&"function"==typeof t.then?t.then(n,a):r(t)?Promise.all(t).then(n,a):n(t)}}return s(t)()}function Rn(e,t,n){for(var a=r(e)?e.slice():[e],s=0;s<n;++s)a.push(t);return a}var Bn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return t(t({},e),{table:function(n){var a=e.table(n),s=a.schema,r={},i=[];function o(e,n,a){var s=Jt(e),l=r[s]=r[s]||[],c=null==e?0:"string"==typeof e?1:e.length,u=0<n;return u=t(t({},a),{name:u?"".concat(s,"(virtual-from:").concat(a.name,")"):a.name,lowLevelIndex:a,isVirtual:u,keyTail:n,keyLength:c,extractKey:Gt(e),unique:!u&&a.unique}),l.push(u),u.isPrimaryKey||i.push(u),1<c&&o(2===c?e[0]:e.slice(0,c-1),n+1,a),l.sort(function(e,t){return e.keyTail-t.keyTail}),u}n=o(s.primaryKey.keyPath,0,s.primaryKey),r[":id"]=[n];for(var l=0,c=s.indexes;l<c.length;l++){var u=c[l];o(u.keyPath,0,u)}function d(n){var a,s=n.query.index;return s.isVirtual?t(t({},n),{query:{index:s.lowLevelIndex,range:(a=n.query.range,s=s.keyTail,{type:1===a.type?2:a.type,lower:Rn(a.lower,a.lowerOpen?e.MAX_KEY:e.MIN_KEY,s),lowerOpen:!0,upper:Rn(a.upper,a.upperOpen?e.MIN_KEY:e.MAX_KEY,s),upperOpen:!0})}}):n}return t(t({},a),{schema:t(t({},s),{primaryKey:n,indexes:i,getIndexByKeyPath:function(e){return(e=r[Jt(e)])&&e[0]}}),count:function(e){return a.count(d(e))},query:function(e){return a.query(d(e))},openCursor:function(t){var n=t.query.index,s=n.keyTail,r=n.isVirtual,i=n.keyLength;return r?a.openCursor(d(t)).then(function(e){return e&&o(e)}):a.openCursor(t);function o(n){return Object.create(n,{continue:{value:function(a){null!=a?n.continue(Rn(a,t.reverse?e.MAX_KEY:e.MIN_KEY,s)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,s)):n.continue()}},continuePrimaryKey:{value:function(t,a){n.continuePrimaryKey(Rn(t,e.MAX_KEY,s),a)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:function(){return n.value}}})}}})}})}};function Vn(e,t,n,a){return n=n||{},a=a||"",s(e).forEach(function(s){var r,i,o;c(t,s)?(r=e[s],i=t[s],"object"==typeof r&&"object"==typeof i&&r&&i?(o=D(r))!==D(i)?n[a+s]=t[s]:"Object"===o?Vn(r,i,n,a+s+"."):r!==i&&(n[a+s]=t[s]):r!==i&&(n[a+s]=t[s])):n[a+s]=void 0}),s(t).forEach(function(s){c(e,s)||(n[a+s]=t[s])}),n}function zn(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var Un={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return t(t({},e),{table:function(a){var s=e.table(a),r=s.schema.primaryKey;return t(t({},s),{mutate:function(e){var i=ve.trans,o=i.table(a).hook,l=o.deleting,u=o.creating,d=o.updating;switch(e.type){case"add":if(u.fire===Y)break;return i._promise("readwrite",function(){return h(e)},!0);case"put":if(u.fire===Y&&d.fire===Y)break;return i._promise("readwrite",function(){return h(e)},!0);case"delete":if(l.fire===Y)break;return i._promise("readwrite",function(){return h(e)},!0);case"deleteRange":if(l.fire===Y)break;return i._promise("readwrite",function(){return function e(n,a,i){return s.query({trans:n,values:!1,query:{index:r,range:a},limit:i}).then(function(s){var r=s.result;return h({type:"delete",keys:r,trans:n}).then(function(s){return 0<s.numFailures?Promise.reject(s.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},a),{lower:r[r.length-1],lowerOpen:!0}),i)})})}(e.trans,e.range,1e4)},!0)}return s.mutate(e);function h(e){var a,i,o,h=ve.trans,p=e.keys||zn(r,e);if(!p)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?t(t({},e),{keys:p}):t({},e)).type&&(e.values=n([],e.values)),e.keys&&(e.keys=n([],e.keys)),a=s,o=p,("add"===(i=e).type?Promise.resolve([]):a.getMany({trans:i.trans,keys:o,cache:"immutable"})).then(function(t){var n=p.map(function(n,a){var s,i,o,p=t[a],f={onerror:null,onsuccess:null};return"delete"===e.type?l.fire.call(f,n,p,h):"add"===e.type||void 0===p?(s=u.fire.call(f,n,e.values[a],h),null==n&&null!=s&&(e.keys[a]=n=s,r.outbound||w(e.values[a],r.keyPath,n))):(s=Vn(p,e.values[a]),(i=d.fire.call(f,s,n,p,h))&&(o=e.values[a],Object.keys(i).forEach(function(e){c(o,e)?o[e]=i[e]:w(o,e,i[e])}))),f});return s.mutate(e).then(function(a){for(var s=a.failures,r=a.results,i=a.numFailures,o=(a=a.lastResult,0);o<p.length;++o){var l=(r||p)[o],c=n[o];null==l?c.onerror&&c.onerror(s[o]):c.onsuccess&&c.onsuccess("put"===e.type&&t[o]?e.values[o]:l)}return{failures:s,results:r,numFailures:i,lastResult:a}}).catch(function(e){return n.forEach(function(t){return t.onerror&&t.onerror(e)}),Promise.reject(e)})})}}})}})}};function qn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var a=[],s=0,r=0;s<t.keys.length&&r<e.length;++s)0===lt(t.keys[s],e[r])&&(a.push(n?A(t.values[s]):t.values[s]),++r);return a.length===e.length?a:null}catch(i){return null}}var Hn={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var a=e.table(n);return t(t({},a),{getMany:function(e){if(!e.cache)return a.getMany(e);var t=qn(e.keys,e.trans._cache,"clone"===e.cache);return t?we.resolve(t):a.getMany(e).then(function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?A(t):t},t})},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),a.mutate(e)}})}}}};function Wn(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function $n(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Kn={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,a=new wn(e.MIN_KEY,e.MAX_KEY);return t(t({},e),{transaction:function(t,n,a){if(ve.subscr&&"readonly"!==n)throw new W.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return e.transaction(t,n,a)},table:function(i){var o=e.table(i),l=o.schema,c=l.primaryKey,u=l.indexes,d=c.extractKey,h=c.outbound,p=c.autoIncrement&&u.filter(function(e){return e.compound&&e.keyPath.includes(c.keyPath)}),f=t(t({},o),{mutate:function(t){function s(e){return e="idb://".concat(n,"/").concat(i,"/").concat(e),m[e]||(m[e]=new wn)}var u,d,h,f=t.trans,m=t.mutatedParts||(t.mutatedParts={}),g=s(""),v=s(":dels"),y=t.type,b=(w="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[zn(c,t).filter(function(e){return e}),t.values]:[])[0],x=w[1],w=t.trans._cache;return r(b)?(g.addKeys(b),(w="delete"===y||b.length===x.length?qn(b,w):null)||v.addKeys(b),(w||x)&&(u=s,d=w,h=x,l.indexes.forEach(function(e){var t=u(e.name||"");function n(t){return null!=t?e.extractKey(t):null}function a(n){return e.multiEntry&&r(n)?n.forEach(function(e){return t.addKey(e)}):t.addKey(n)}(d||h).forEach(function(e,t){var s=d&&n(d[t]);0!==lt(s,t=h&&n(h[t]))&&(null!=s&&a(s),null!=t&&a(t))})}))):b?(x={from:null!==(x=b.lower)&&void 0!==x?x:e.MIN_KEY,to:null!==(x=b.upper)&&void 0!==x?x:e.MAX_KEY},v.add(x),g.add(x)):(g.add(a),v.add(a),l.indexes.forEach(function(e){return s(e.name).add(a)})),o.mutate(t).then(function(e){return!b||"add"!==t.type&&"put"!==t.type||(g.addKeys(e.results),p&&p.forEach(function(n){for(var a=t.values.map(function(e){return n.extractKey(e)}),r=n.keyPath.findIndex(function(e){return e===c.keyPath}),i=0,o=e.results.length;i<o;++i)a[i][r]=e.results[i];s(n.name).addKeys(a)})),f.mutatedParts=An(f.mutatedParts||{},m),e})}}),m={get:function(e){return[c,new wn(e.key)]},getMany:function(e){return[c,(new wn).addKeys(e.keys)]},count:u=function(t){t=(n=t.query).index;var n=n.range;return[t,new wn(null!==(t=n.lower)&&void 0!==t?t:e.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:e.MAX_KEY)]},query:u,openCursor:u};return s(m).forEach(function(e){f[e]=function(s){var r=!!(f=ve.subscr),l=Wn(ve,o)&&$n(e,s)?s.obsSet={}:f;if(r){var c=function(e){return e="idb://".concat(n,"/").concat(i,"/").concat(e),l[e]||(l[e]=new wn)},u=c(""),p=c(":dels"),f=(r=(f=m[e](s))[0],f[1]);if(("query"===e&&r.isPrimaryKey&&!s.values?p:c(r.name||"")).add(f),!r.isPrimaryKey){if("count"!==e){var g="query"===e&&h&&s.values&&o.query(t(t({},s),{values:!1}));return o[e].apply(this,arguments).then(function(t){if("query"===e){if(h&&s.values)return g.then(function(e){return e=e.result,u.addKeys(e),t});var n=s.values?t.result.map(d):t.result;(s.values?u:p).addKeys(n)}else if("openCursor"===e){var a=t,r=s.values;return a&&Object.create(a,{key:{get:function(){return p.addKey(a.primaryKey),a.key}},primaryKey:{get:function(){var e=a.primaryKey;return p.addKey(e),e}},value:{get:function(){return r&&u.addKey(a.primaryKey),a.value}}})}return t})}p.add(a)}}return o[e].apply(this,arguments)}}),f}})}};function Yn(e,n,a){if(0===a.numFailures)return n;if("deleteRange"===n.type)return null;var s=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return a.numFailures===s?null:(n=t({},n),r(n.keys)&&(n.keys=n.keys.filter(function(e,t){return!(t in a.failures)})),"values"in n&&r(n.values)&&(n.values=n.values.filter(function(e,t){return!(t in a.failures)})),n)}function Gn(e,t){return n=e,(void 0===(a=t).lower||(a.lowerOpen?0<lt(n,a.lower):0<=lt(n,a.lower)))&&(void 0===t.upper||(t.upperOpen?lt(e,t.upper)<0:lt(e,t.upper)<=0));var n,a}function Xn(e,t,n,a,s,i){if(!n||0===n.length)return e;var o=t.query.index,l=o.multiEntry,c=t.query.range,u=a.schema.primaryKey.extractKey,d=o.extractKey,h=(o.lowLevelIndex||o).extractKey;return(n=n.reduce(function(e,n){var a=e,s=[];if("add"===n.type||"put"===n.type)for(var i=new wn,o=n.values.length-1;0<=o;--o){var h,p=n.values[o],f=u(p);i.hasKey(f)||(h=d(p),(l&&r(h)?h.some(function(e){return Gn(e,c)}):Gn(h,c))&&(i.addKey(f),s.push(p)))}switch(n.type){case"add":var m=(new wn).addKeys(t.values?e.map(function(e){return u(e)}):e);a=e.concat(t.values?s.filter(function(e){return e=u(e),!m.hasKey(e)&&(m.addKey(e),!0)}):s.map(function(e){return u(e)}).filter(function(e){return!m.hasKey(e)&&(m.addKey(e),!0)}));break;case"put":var g=(new wn).addKeys(n.values.map(function(e){return u(e)}));a=e.filter(function(e){return!g.hasKey(t.values?u(e):e)}).concat(t.values?s:s.map(function(e){return u(e)}));break;case"delete":var v=(new wn).addKeys(n.keys);a=e.filter(function(e){return!v.hasKey(t.values?u(e):e)});break;case"deleteRange":var y=n.range;a=e.filter(function(e){return!Gn(u(e),y)})}return a},e))===e?e:(n.sort(function(e,t){return lt(h(e),h(t))||lt(u(e),u(t))}),t.limit&&t.limit<1/0&&(n.length>t.limit?n.length=t.limit:e.length===t.limit&&n.length<t.limit&&(s.dirty=!0)),i?Object.freeze(n):n)}function Qn(e,t){return 0===lt(e.lower,t.lower)&&0===lt(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Jn(e,t){return function(e,t,n,a){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(t=lt(e,t))){if(n&&a)return 0;if(n)return 1;if(a)return-1}return t}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(e,t,n,a){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;if(0===(t=lt(e,t))){if(n&&a)return 0;if(n)return-1;if(a)return 1}return t}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Zn(e,t,n,a){e.subscribers.add(n),a.addEventListener("abort",function(){var a,s;e.subscribers.delete(n),0===e.subscribers.size&&(a=e,s=t,setTimeout(function(){0===a.subscribers.size&&I(s,a)},3e3))})}var ea={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return t(t({},e),{transaction:function(t,a,s){var r,i,o=e.transaction(t,a,s);return"readwrite"===a&&(i=(r=new AbortController).signal,s=function(s){return function(){if(r.abort(),"readwrite"===a){for(var i=new Set,l=0,c=t;l<c.length;l++){var u=c[l],d=Dn["idb://".concat(n,"/").concat(u)];if(d){var h=e.table(u),p=d.optimisticOps.filter(function(e){return e.trans===o});if(o._explicit&&s&&o.mutatedParts)for(var f=0,m=Object.values(d.queries.query);f<m.length;f++)for(var g=0,v=(x=m[f]).slice();g<v.length;g++)On((w=v[g]).obsSet,o.mutatedParts)&&(I(x,w),w.subscribers.forEach(function(e){return i.add(e)}));else if(0<p.length){d.optimisticOps=d.optimisticOps.filter(function(e){return e.trans!==o});for(var y=0,b=Object.values(d.queries.query);y<b.length;y++)for(var x,w,_,k=0,C=(x=b[y]).slice();k<C.length;k++)null!=(w=C[k]).res&&o.mutatedParts&&(s&&!w.dirty?(_=Object.isFrozen(w.res),_=Xn(w.res,w.req,p,h,w,_),w.dirty?(I(x,w),w.subscribers.forEach(function(e){return i.add(e)})):_!==w.res&&(w.res=_,w.promise=we.resolve({result:_}))):(w.dirty&&I(x,w),w.subscribers.forEach(function(e){return i.add(e)})))}}}i.forEach(function(e){return e()})}}},o.addEventListener("abort",s(!1),{signal:i}),o.addEventListener("error",s(!1),{signal:i}),o.addEventListener("complete",s(!0),{signal:i})),o},table:function(a){var s=e.table(a),r=s.schema.primaryKey;return t(t({},s),{mutate:function(e){var i=ve.trans;if(r.outbound||"disabled"===i.db._options.cache||i.explicit||"readwrite"!==i.idbtrans.mode)return s.mutate(e);var o=Dn["idb://".concat(n,"/").concat(a)];return o?(i=s.mutate(e),"add"!==e.type&&"put"!==e.type||!(50<=e.values.length||zn(r,e).some(function(e){return null==e}))?(o.optimisticOps.push(e),e.mutatedParts&&In(e.mutatedParts),i.then(function(t){0<t.numFailures&&(I(o.optimisticOps,e),(t=Yn(0,e,t))&&o.optimisticOps.push(t),e.mutatedParts&&In(e.mutatedParts))}),i.catch(function(){I(o.optimisticOps,e),e.mutatedParts&&In(e.mutatedParts)})):i.then(function(n){var a=Yn(0,t(t({},e),{values:e.values.map(function(e,a){var s;return n.failures[a]||w(e=null!==(s=r.keyPath)&&void 0!==s&&s.includes(".")?A(e):t({},e),r.keyPath,n.results[a]),e})}),n);o.optimisticOps.push(a),queueMicrotask(function(){return e.mutatedParts&&In(e.mutatedParts)})}),i):s.mutate(e)},query:function(e){if(!Wn(ve,s)||!$n("query",e))return s.query(e);var t="immutable"===(null===(o=ve.trans)||void 0===o?void 0:o.db._options.cache),r=(c=ve).requery,i=c.signal,o=function(e,t,n,a){var s=Dn["idb://".concat(e,"/").concat(t)];if(!s)return[];if(!(t=s.queries[n]))return[null,!1,s,null];var r=t[(a.query?a.query.index.name:null)||""];if(!r)return[null,!1,s,null];switch(n){case"query":var i=r.find(function(e){return e.req.limit===a.limit&&e.req.values===a.values&&Qn(e.req.query.range,a.query.range)});return i?[i,!0,s,r]:[r.find(function(e){return("limit"in e.req?e.req.limit:1/0)>=a.limit&&(!a.values||e.req.values)&&Jn(e.req.query.range,a.query.range)}),!1,s,r];case"count":return[i=r.find(function(e){return Qn(e.req.query.range,a.query.range)}),!!i,s,r]}}(n,a,"query",e),l=o[0],c=o[1],u=o[2],d=o[3];return l&&c?l.obsSet=e.obsSet:(c=s.query(e).then(function(e){var n=e.result;if(l&&(l.res=n),t){for(var a=0,s=n.length;a<s;++a)Object.freeze(n[a]);Object.freeze(n)}else e.result=A(n);return e}).catch(function(e){return d&&l&&I(d,l),Promise.reject(e)}),l={obsSet:e.obsSet,promise:c,subscribers:new Set,type:"query",req:e,dirty:!1},d?d.push(l):(d=[l],(u=u||(Dn["idb://".concat(n,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[e.query.index.name||""]=d)),Zn(l,d,r,i),l.promise.then(function(n){return{result:Xn(n.result,e,null==u?void 0:u.optimisticOps,s,l,t)}})}})}})}};function ta(e,t){return new Proxy(e,{get:function(e,n,a){return"db"===n?t:Reflect.get(e,n,a)}})}var na=(aa.prototype.version=function(e){if(isNaN(e)||e<.1)throw new W.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new W.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(t){return t._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(sn),n.stores({}),this._state.autoSchema=!1,n)},aa.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?e():new we(function(e,n){if(t._state.openComplete)return n(new W.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void n(new W.DatabaseClosed);t.open().catch(Y)}t._state.dbReadyPromise.then(e,n)}).then(e)},aa.prototype.use=function(e){var t=e.stack,n=e.create,a=e.level,s=e.name;return s&&this.unuse({stack:t,name:s}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:n,level:null==a?10:a,name:s}),e.sort(function(e,t){return e.level-t.level}),this},aa.prototype.unuse=function(e){var t=e.stack,n=e.name,a=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(e){return a?e.create!==a:!!n&&e.name!==n})),this},aa.prototype.open=function(){var e=this;return Ke(ge,function(){return Fn(e)})},aa.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var e=this._state,t=et.indexOf(this);if(0<=t&&et.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(n){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new we(function(t){e.dbReadyResolve=t}),e.openCanceller=new we(function(t,n){e.cancelOpen=n}))},aa.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen;e=this._state,t?(e.isBeingOpened&&e.cancelOpen(new W.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new W.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},aa.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],a=this._state;return new we(function(s,r){function i(){t.close(e);var n=t._deps.indexedDB.deleteDatabase(t.name);n.onsuccess=Ie(function(){var e,n,a;e=t._deps,n=t.name,a=e.indexedDB,e=e.IDBKeyRange,yn(a)||n===tt||vn(a,e).delete(n).catch(Y),s()}),n.onerror=Rt(r),n.onblocked=t._fireOnBlocked}if(n)throw new W.InvalidArgument("Invalid closeOptions argument to db.delete()");a.isBeingOpened?a.dbReadyPromise.then(i):i()})},aa.prototype.backendDB=function(){return this.idbdb},aa.prototype.isOpen=function(){return null!==this.idbdb},aa.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},aa.prototype.hasFailed=function(){return null!==this._state.dbOpenError},aa.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(aa.prototype,"tables",{get:function(){var e=this;return s(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),aa.prototype.transaction=function(){var e=function(e,t,n){var a=arguments.length;if(a<2)throw new W.InvalidArgument("Too few arguments");for(var s=new Array(a-1);--a;)s[a-1]=arguments[a];return n=s.pop(),[e,C(s),n]}.apply(this,arguments);return this._transaction.apply(this,e)},aa.prototype._transaction=function(e,t,n){var a=this,s=ve.trans;s&&s.db===this&&-1===e.indexOf("!")||(s=null);var r,i,o=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(i=t.map(function(e){if("string"!=typeof(e=e instanceof a.Table?e.name:e))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e}),"r"==e||e===nt)r=nt;else{if("rw"!=e&&e!=at)throw new W.InvalidArgument("Invalid transaction mode: "+e);r=at}if(s){if(s.mode===nt&&r===at){if(!o)throw new W.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&i.forEach(function(e){if(s&&-1===s.storeNames.indexOf(e)){if(!o)throw new W.SubTransaction("Table "+e+" not included in parent transaction.");s=null}}),o&&s&&!s.active&&(s=null)}}catch(c){return s?s._promise(null,function(e,t){t(c)}):Xe(c)}var l=function e(t,n,a,s,r){return we.resolve().then(function(){var i=ve.transless||ve,o=t._createTransaction(n,a,t._dbSchema,s);if(o.explicit=!0,i={trans:o,transless:i},s)o.idbtrans=s.idbtrans;else try{o.create(),o.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(u){return u.name===q.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,a,null,r)})):Xe(u)}var l,c=F(r);return c&&ze(),i=we.follow(function(){var e;(l=r.call(o,o))&&(c?(e=Ue.bind(null,null),l.then(e,e)):"function"==typeof l.next&&"function"==typeof l.throw&&(l=Nn(l)))},i),(l&&"function"==typeof l.then?we.resolve(l).then(function(e){return o.active?e:Xe(new W.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):i.then(function(){return l})).then(function(e){return s&&o._resolve(),o._completion.then(function(){return e})}).catch(function(e){return o._reject(e),Xe(e)})})}.bind(null,this,r,i,s,n);return s?s._promise(r,l,"lock"):ve.trans?Ke(ve.transless,function(){return a._whenReady(l)}):this._whenReady(l)},aa.prototype.table=function(e){if(!c(this._allTables,e))throw new W.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},aa);function aa(e,n){var a=this;this._middlewares={},this.verno=0;var s=aa.dependencies;this._options=n=t({addons:aa.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},s=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var r,i,o,l,c,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Y,dbReadyPromise:null,cancelOpen:Y,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};u.dbReadyPromise=new we(function(e){u.dbReadyResolve=e}),u.openCanceller=new we(function(e,t){u.cancelOpen=t}),this._state=u,this.name=e,this.on=vt(this,"populate","blocked","versionchange","close",{ready:[ne,Y]}),this.once=function(e,t){var n=function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];a.on(e).unsubscribe(n),t.apply(a,s)};return a.on(e,n)},this.on.ready.subscribe=v(this.on.ready.subscribe,function(e){return function(t,n){aa.vip(function(){var s,r=a._state;r.openComplete?(r.dbOpenError||we.resolve().then(t),n&&e(t)):r.onReadyBeingFired?(r.onReadyBeingFired.push(t),n&&e(t)):(e(t),s=a,n||e(function e(){s.on.ready.unsubscribe(t),s.on.ready.unsubscribe(e)}))})}}),this.Collection=(r=this,yt(Et.prototype,function(e,t){this.db=r;var n=rt,a=null;if(t)try{n=t()}catch(i){a=i}var s=e._ctx;e=(t=s.table).hook.reading.fire,this._ctx={table:t,index:s.index,isPrimKey:!s.index||t.schema.primKey.keyPath&&s.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:a,or:s.or,valueMapper:e!==G?e:null}})),this.Table=(i=this,yt(mt.prototype,function(e,t,n){this.db=i,this._tx=n,this.name=e,this.schema=t,this.hook=i._allTables[e]?i._allTables[e].hook:vt(null,{creating:[J,Y],reading:[X,G],updating:[ee,Y],deleting:[Z,Y]})})),this.Transaction=(o=this,yt(qt.prototype,function(e,t,n,a,s){var r=this;"readonly"!==e&&t.forEach(function(e){(e=null===(e=n[e])||void 0===e?void 0:e.yProps)&&(t=t.concat(e.map(function(e){return e.updatesTable})))}),this.db=o,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=vt(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new we(function(e,t){r._resolve=e,r._reject=t}),this._completion.then(function(){r.active=!1,r.on.complete.fire()},function(e){var t=r.active;return r.active=!1,r.on.error.fire(e),r.parent?r.parent._reject(e):t&&r.idbtrans&&r.idbtrans.abort(),Xe(e)})})),this.Version=(l=this,yt(mn.prototype,function(e){this.db=l,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(c=this,yt(Ft.prototype,function(e,t,n){if(this.db=c,this._ctx={table:e,index:":id"===t?null:t,or:n},this._cmp=this._ascending=lt,this._descending=function(e,t){return lt(t,e)},this._max=function(e,t){return 0<lt(e,t)?e:t},this._min=function(e,t){return lt(e,t)<0?e:t},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new W.MissingAPI})),this.on("versionchange",function(e){0<e.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))}),this._maxKey=Yt(n.IDBKeyRange),this._createTransaction=function(e,t,n,s){return new a.Transaction(e,t,n,a._options.chromeTransactionDurability,s)},this._fireOnBlocked=function(e){a.on("blocked").fire(e),et.filter(function(e){return e.name===a.name&&e!==a&&!e._state.vcFired}).map(function(t){return t.on("versionchange").fire(e)})},this.use(Hn),this.use(ea),this.use(Kn),this.use(Bn),this.use(Un);var d=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return ta(a.table(e),d)};var s=Reflect.get(e,t,n);return s instanceof mt?ta(s,d):"tables"===t?s.map(function(e){return ta(e,d)}):"_createTransaction"===t?function(){return ta(s.apply(this,arguments),d)}:s}});this.vip=d,s.forEach(function(e){return e(a)})}N="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";var sa,ra=(ia.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},ia.prototype[N]=function(){return this},ia);function ia(e){this._subscribe=e}try{sa={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch(pa){sa={indexedDB:null,IDBKeyRange:null}}function oa(e){var t,n=!1,a=new ra(function(a){var s,r=F(e),i=!1,o={},l={},u={get closed(){return i},unsubscribe:function(){i||(i=!0,s&&s.abort(),d&&Ut.storagemutated.unsubscribe(p))}};a.start&&a.start(u);var d=!1,h=function(){return Ge(f)},p=function(e){An(o,e),On(l,o)&&h()},f=function(){var u,f,m;!i&&sa.indexedDB&&(o={},u={},s&&s.abort(),s=new AbortController,m=function(t){var n=Oe();try{r&&ze();var a=Ve(e,t);return a=r?a.finally(Ue):a}finally{n&&De()}}(f={subscr:u,signal:s.signal,requery:h,querier:e,trans:null}),Promise.resolve(m).then(function(e){n=!0,t=e,i||f.signal.aborted||(o={},function(e){for(var t in e)if(c(e,t))return;return 1}(l=u)||d||(Ut(Vt,p),d=!0),Ge(function(){return!i&&a.next&&a.next(e)}))},function(e){n=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||i||Ge(function(){i||a.error&&a.error(e)})}))};return setTimeout(h,0),u});return a.hasValue=function(){return n},a.getValue=function(){return t},a}var la=na;function ca(e){var t=da;try{da=!0,Ut.storagemutated.fire(e),jn(e,!0)}finally{da=t}}u(la,t(t({},K),{delete:function(e){return new la(e,{addons:[]}).delete()},exists:function(e){return new la(e,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return n=(t=la.dependencies).indexedDB,t=t.IDBKeyRange,(yn(n)?Promise.resolve(n.databases()).then(function(e){return e.map(function(e){return e.name}).filter(function(e){return e!==tt})}):vn(n,t).toCollection().primaryKeys()).then(e)}catch(a){return Xe(new W.MissingAPI)}var t,n},defineClass:function(){return function(e){i(this,e)}},ignoreTransaction:function(e){return ve.trans?Ke(ve.transless,e):e()},vip:bn,async:function(e){return function(){try{var t=Nn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:we.resolve(t)}catch(n){return Xe(n)}}},spawn:function(e,t,n){try{var a=Nn(e.apply(n,t||[]));return a&&"function"==typeof a.then?a:we.resolve(a)}catch(s){return Xe(s)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(e,t){return t=we.resolve("function"==typeof e?la.ignoreTransaction(e):e).timeout(t||6e4),ve.trans?ve.trans.waitFor(t):t},Promise:we,debug:{get:function(){return ae},set:function(e){se(e)}},derive:p,extend:i,props:u,override:v,Events:vt,on:Ut,liveQuery:oa,extendObservabilitySet:An,getByKeyPath:x,setByKeyPath:w,delByKeyPath:function(e,t){"string"==typeof t?w(e,t,void 0):"length"in t&&[].map.call(t,function(t){w(e,t,void 0)})},shallowClone:_,deepClone:A,getObjectDiff:Vn,cmp:lt,asap:b,minKey:-1/0,addons:[],connections:et,errnames:q,dependencies:sa,cache:Dn,semVer:"4.2.1",version:"4.2.1".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),la.maxKey=Yt(la.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Ut(Vt,function(e){da||(e=new CustomEvent(zt,{detail:e}),da=!0,dispatchEvent(e),da=!1)}),addEventListener(zt,function(e){e=e.detail,da||ca(e)}));var ua,da=!1,ha=function(){};return"undefined"!=typeof BroadcastChannel&&((ha=function(){(ua=new BroadcastChannel(zt)).onmessage=function(e){return e.data&&ca(e.data)}})(),"function"==typeof ua.unref&&ua.unref(),Ut(Vt,function(e){da||ua.postMessage(e)})),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",function(e){if(!na.disableBfCache&&e.persisted){ae&&console.debug("Dexie: handling persisted pagehide"),null!=ua&&ua.close();for(var t=0,n=et;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!na.disableBfCache&&e.persisted&&(ae&&console.debug("Dexie: handling persisted pageshow"),ha(),ca({all:new wn(-1/0,[[]])}))})),we.rejectionMapper=function(e,t){return!e||e instanceof B||e instanceof TypeError||e instanceof SyntaxError||!e.name||!$[e.name]?e:(t=new $[e.name](t||e.message,e),"stack"in e&&h(t,"stack",{get:function(){return this.inner.stack}}),t)},se(ae),t(na,Object.freeze({__proto__:null,Dexie:na,liveQuery:oa,Entity:ot,cmp:lt,PropModification:ht,replacePrefix:function(e,t){return new ht({replacePrefix:[e,t]})},add:function(e){return new ht({add:e})},remove:function(e){return new ht({remove:e})},default:na,RangeSet:wn,mergeRanges:kn,rangesOverlap:Cn}),{default:na}),na}()),Gh.exports)),Qh=Symbol.for("Dexie"),Jh=globalThis[Qh]||(globalThis[Qh]=Xh);if(Xh.semVer!==Jh.semVer)throw new Error("Two different versions of Dexie loaded in the same app: ".concat(Xh.semVer," and ").concat(Jh.semVer));const{liveQuery:Zh,mergeRanges:ep,rangesOverlap:tp,RangeSet:np,cmp:ap,Entity:sp,PropModification:rp,replacePrefix:ip,add:op,remove:lp,DexieYProvider:cp}=Jh,up=new Jh("xashpos_offline");async function dp(e){if(!e)return null;try{const t=await up.images.get(e);if(t)return t.base64;const n=await async function(e){try{const t=await fetch(e,{method:"GET",credentials:"include",headers:{Accept:"image/*"}});if(!t.ok)return console.warn("Failed to fetch image: ".concat(t.status)),null;const n=await t.blob(),a=await function(e){return new Promise((t,n)=>{const a=new FileReader;a.onloadend=()=>{t(a.result)},a.onerror=n,a.readAsDataURL(e)})}(n);return a}catch(t){return console.warn("Failed to fetch image ".concat(e,":"),t.message),null}}(e);return n?(await up.images.put({url:e,base64:n,cached_at:Date.now()}),n):null}catch(t){return console.warn("Failed to cache image ".concat(e,":"),t.message),null}}async function hp(e){if(!e)return null;try{up.isOpen()||await up.open();const t=await up.images.get(e);return t&&t.base64?t.base64:null}catch(t){return console.error("Failed to get cached image ".concat(e,":"),t),null}}async function pp(e){if(!e)return"";try{const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),a=Array.from(new Uint8Array(n));return a.map(e=>e.toString(16).padStart(2,"0")).join("")}catch(t){return console.error("Hashing failed:",t),btoa(e).split("").reverse().join("")}}up.version(2).stores({products:"id, sku, barcode, category_id, name, cached_at",categories:"id, name, cached_at",pending_sales:"temp_id, created_at, attempts",synced_sales:"sale_id, receipt_number, synced_at",sync_log:"++id, action, timestamp",images:"url, cached_at",users:"phone_number, name, role, cached_at"});const fp="".concat("https://pos-dev.xash.co.zw/api"),mp=Zi({id:"auth",state:()=>({user:JSON.parse(localStorage.getItem("user")),token:localStorage.getItem("token"),returnUrl:null,phoneError:null,pinError:null,registerErrors:{first_name:null,last_name:null,phone_number:null,email:null,pin:null,tcs_accepted:null},loading:!1,biometric_enabled:!1,account_locked_until:null,failed_attempts:0}),getters:{isAuthenticated:e=>!!e.token},actions:{async login(e,t){var n,a,s;this.loading=!0,this.phoneError=null,this.pinError=null;try{const a=await zh.post("".concat(fp,"/pos/login"),{phone_number:e,pin:t});this.user=a.user,this.token=a.token,this.biometric_enabled=(null==(n=a.user)?void 0:n.biometric_enabled)||!1,localStorage.setItem("user",JSON.stringify(a.user)),localStorage.setItem("token",a.token);const s=await pp(t);await up.users.put({phone_number:e,name:a.user.first_name+" "+a.user.last_name,role:a.user.role,pin_hash:s,user_data:a.user,token:a.token,cached_at:Date.now()});const r="manager"===a.user.role?"/manager/dashboard":"/pos/dashboard";sV.push(this.returnUrl||r)}catch(r){const e=Fh();(null==(a=r.errors)?void 0:a.phone_number)&&(this.phoneError=r.errors.phone_number[0]),(null==(s=r.errors)?void 0:s.pin)&&(this.pinError=r.errors.pin[0]),this.phoneError||this.pinError||(this.pinError=r.message||"Login failed"),e.error(r.message||"Login failed")}finally{this.loading=!1}},async register(e,t,n,a,s,r){this.loading=!0,this.registerErrors={first_name:null,last_name:null,phone_number:null,email:null,password:null,tcs_accepted:null};try{const i={first_name:e,last_name:t,phone_number:n,email:a,password:s,password_confirmation:r,tcs_accepted:!0},o=await zh.post("".concat(fp,"/register"),i);return{success:!0,data:o,pin:o.pin}}catch(i){const e=Fh();return i.errors&&(i.errors.first_name&&(this.registerErrors.first_name=i.errors.first_name[0]),i.errors.last_name&&(this.registerErrors.last_name=i.errors.last_name[0]),i.errors.phone_number&&(this.registerErrors.phone_number=i.errors.phone_number[0]),i.errors.email&&(this.registerErrors.email=i.errors.email[0]),i.errors.password&&(this.registerErrors.password=i.errors.password[0]),i.errors.tcs_accepted&&(this.registerErrors.tcs_accepted=i.errors.tcs_accepted[0])),e.error(i.message||"Registration failed"),{success:!1,error:i}}finally{this.loading=!1}},async requestOtp(e){this.loading=!0;try{const t=await zh.post("".concat(fp,"/otp/request"),{phone_number:e});return Fh().success(t.message||"OTP sent successfully"),{success:!0,data:t}}catch(t){return Fh().error(t.message||"Failed to send OTP"),{success:!1,error:t}}finally{this.loading=!1}},async verifyOtp(e,t){this.loading=!0;try{const n=await zh.post("".concat(fp,"/otp/verify"),{phone_number:e,code:t});return Fh().success(n.message||"OTP verified successfully"),{success:!0,data:n}}catch(n){return Fh().error(n.message||"OTP verification failed"),{success:!1,error:n}}finally{this.loading=!1}},async forgotPin(e){this.loading=!0;try{const t=await zh.post("".concat(fp,"/pin/forgot"),{phone_number:e});return Fh().success(t.message||"OTP sent to your phone"),{success:!0,data:t}}catch(t){return Fh().error(t.message||"Failed to send reset OTP"),{success:!1,error:t}}finally{this.loading=!1}},async resetPin(e,t,n,a){this.loading=!0;try{const s=await zh.post("".concat(fp,"/pin/reset"),{phone_number:e,otp:t,new_pin:n,new_pin_confirmation:a});return Fh().success(s.message||"PIN reset successful"),sV.push("/auth/login"),{success:!0,data:s}}catch(s){return Fh().error(s.message||"PIN reset failed"),{success:!1,error:s}}finally{this.loading=!1}},async changePin(e,t,n){this.loading=!0;try{const a=await zh.post("".concat(fp,"/pin/change"),{current_pin:e,new_pin:t,new_pin_confirmation:n});return Fh().success(a.message||"PIN changed successfully"),{success:!0,data:a}}catch(a){return Fh().error(a.message||"PIN change failed"),{success:!1,error:a}}finally{this.loading=!1}},async requestPhoneChange(e){this.loading=!0;try{const t=await zh.post("".concat(fp,"/phone/change/request"),{new_phone_number:e});return Fh().success("OTP sent to your new phone number"),{success:!0,data:t}}catch(t){return Fh().error(t.message||"Failed to initiate phone change"),{success:!1,error:t}}finally{this.loading=!1}},async confirmPhoneChange(e,t){this.loading=!0;try{const n=await zh.post("".concat(fp,"/phone/change/confirm"),{new_phone_number:e,otp:t});this.user&&(this.user.phone_number=e,localStorage.setItem("user",JSON.stringify(this.user)));return Fh().success("Phone number updated successfully"),{success:!0,data:n}}catch(n){return Fh().error(n.message||"Phone change confirmation failed"),{success:!1,error:n}}finally{this.loading=!1}},async logout(){if(this.token&&navigator.onLine)try{await zh.post("".concat(fp,"/pos/logout"))}catch(e){console.error("Logout error:",e)}this.user=null,this.token=null,localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("pos-cart"),sV.push("/")},checkAuth(){return!!this.token},async loginOffline(e,t){var n;this.loading=!0,this.phoneError=null,this.pinError=null;try{const a=await up.users.get(e);if(!a)throw new Error("User not found on this device. Please login online first.");const s=await pp(t);if(a.pin_hash!==s)throw new Error("Invalid PIN. Please try again.");this.user=a.user_data,this.token=a.token,this.biometric_enabled=(null==(n=a.user_data)?void 0:n.biometric_enabled)||!1,localStorage.setItem("user",JSON.stringify(a.user_data)),localStorage.setItem("token",a.token);const r="manager"===a.role?"/manager/dashboard":"/pos/dashboard";return sV.push(this.returnUrl||r),{success:!0}}catch(a){const e=Fh();return this.pinError=a.message,e.error(a.message),{success:!1,error:a.message}}finally{this.loading=!1}}}});const gp=Ci("Network",{web:()=>yi(()=>import("./web-CxfeDRf_.js"),[]).then(e=>new e.NetworkWeb)}),vp=Zi("network",()=>{const e=At(!0),t=At("wifi"),n=At(null),a=At([]),s=At(!1),r=localStorage.getItem("lastOnlineTime");r&&(n.value=new Date(r));const i=nr(()=>!e.value),o=nr(()=>e.value?"online":"offline");function l(){u({connected:!0,connectionType:"wifi"})}function c(){u({connected:!1,connectionType:"none"})}function u(a){const s=e.value;if(e.value=a.connected,t.value=a.connectionType||"unknown",e.value&&(n.value=new Date,localStorage.setItem("lastOnlineTime",n.value.toISOString())),s!==e.value){const n=new CustomEvent("network-status-changed",{detail:{isOnline:e.value,connectionType:t.value,timestamp:new Date}});window.dispatchEvent(n)}}return{isOnline:e,connectionType:t,lastOnlineTime:n,isOffline:i,connectionStatus:o,initialize:async function(){if(s.value=ki.isNativePlatform(),s.value)try{u(await gp.getStatus());const e=await gp.addListener("networkStatusChange",e=>{u(e)});a.value.push(e)}catch(n){e.value=!0,t.value="unknown"}else e.value=navigator.onLine,t.value=navigator.onLine?"wifi":"none",window.addEventListener("online",l),window.addEventListener("offline",c)},checkConnection:async function(){try{return u(await gp.getStatus()),e.value}catch(t){return e.value}},setOnline:function(a){const s=e.value;if(e.value=a,a&&!s&&(n.value=new Date,localStorage.setItem("lastOnlineTime",n.value.toISOString())),s!==e.value){const n=new CustomEvent("network-status-changed",{detail:{isOnline:e.value,connectionType:t.value,timestamp:new Date}});window.dispatchEvent(n)}},cleanup:function(){a.value.forEach(e=>{e&&e.remove&&e.remove()}),a.value=[],s.value||(window.removeEventListener("online",l),window.removeEventListener("offline",c))}}}),yp="https://pos-dev.xash.co.zw/api",bp="https://pos-dev.xash.co.zw/api".replace("/api","");let xp=null;async function wp(){if(null!==xp)return xp;try{const e=new Promise((e,t)=>setTimeout(()=>t(new Error("IndexedDB timeout")),3e3));await Promise.race([up.open(),e]),xp=!0}catch(e){console.warn("IndexedDB not available, using API fallback:",e.message),xp=!1}return xp}const _p=Zi("offline",()=>{const e=At(!1),t=At(!1),n=At(null),a=At(60),s=At({}),r=At([]),i=At([]),o=At(!1);let l=null;const c=localStorage.getItem("lastCacheUpdate");c&&(n.value=new Date(c));const u=nr(()=>{if(!n.value)return!0;return Date.now()-new Date(n.value).getTime()>60*a.value*1e3}),d=nr(()=>r.value.map(e=>{const t=s.value[e.id]||0;return{...e,stock_quantity:(e.stock_quantity||0)+t,has_pending_changes:0!==t}}));async function h(a){try{const o=await wp();if(a.products&&a.products.length>0){const t=Date.now(),n=a.products.map(e=>({...e,cached_at:t}));if(o)try{await up.products.clear(),await up.products.bulkAdd(n)}catch(s){console.warn("IndexedDB products cache failed:",s.message)}r.value=n,e.value=!0}if(a.categories&&a.categories.length>0){const e=Date.now(),n=a.categories.map(t=>({...t,cached_at:e}));if(o)try{await up.categories.clear(),await up.categories.bulkAdd(n)}catch(s){console.warn("IndexedDB categories cache failed:",s.message)}i.value=n,t.value=!0}return a.products&&a.products.length>0&&o&&async function(e){const t=e.filter(e=>e.image).map(e=>e.image);if(0===t.length)return;const n=[];for(const s of t){const e=s.startsWith("http")?s:"".concat(bp,"/storage/").concat(s);await up.images.get(e)||n.push(s)}if(0===n.length)return;try{const e=await zh.post("".concat(yp,"/pos/images"),{paths:n});let t=0,a=0;for(const[n,s]of Object.entries(e.images)){const e=n.startsWith("http")?n:"".concat(bp,"/storage/").concat(n);s?(await up.images.put({url:e,base64:s,cached_at:Date.now()}),t++):a++}}catch(a){await async function(e){for(const t of e){const e=t.startsWith("http")?t:"".concat(bp,"/storage/").concat(t);try{await dp(e)}catch(a){}}}(n)}}(a.products),n.value=new Date,localStorage.setItem("lastCacheUpdate",n.value.toISOString()),!0}catch(o){return a.products&&(r.value=a.products,e.value=!0),a.categories&&(i.value=a.categories,t.value=!0),!1}}return{productsLoaded:e,categoriesLoaded:t,lastCacheUpdate:n,cacheExpiryMinutes:a,optimisticStockChanges:s,products:r,categories:i,isCacheExpired:u,productsWithOptimisticStock:d,cacheProductsAndCategories:h,getProducts:async function(n=!1){const a=vp(),s=mp();return o.value&&l?l:!e.value||n||u.value?(l=(async()=>{o.value=!0;try{const o=await wp(),l=a.isOnline&&s.token;if(l&&(u.value||n||!e.value||!o)){const e=await zh.get("".concat(yp,"/pos/pos-data"));return await h(e),d.value}if(!e.value&&o)try{const n=await up.products.toArray();n.length>0&&(r.value=n,e.value=!0);const a=await up.categories.toArray();a.length>0&&(i.value=a,t.value=!0)}catch(c){console.warn("IndexedDB read failed:",c.message)}return d.value}catch(p){const t=await wp();if(!e.value&&t)try{const t=await up.products.toArray();t.length>0&&(r.value=t,e.value=!0)}catch(c){console.warn("IndexedDB fallback read failed:",c.message)}return d.value}finally{o.value=!1,l=null}})(),l):d.value},getCategories:async function(e=!1){if(t.value&&!e&&!u.value)return i.value;if(o.value&&l)return await l,i.value;const n=await wp();if(!t.value&&n)try{const e=await up.categories.toArray();e.length>0&&(i.value=e,t.value=!0)}catch(a){console.warn("IndexedDB categories read failed:",a.message)}return i.value},updateProductStock:function(e,t){s.value[e]||(s.value[e]=0),s.value[e]+=t},clearOptimisticStockChanges:function(){s.value={}},clearOptimisticStockForProduct:function(e){s.value[e]&&delete s.value[e]},syncCachedData:async function(){const e=vp(),t=mp();if(!e.isOnline)return!1;if(!t.token)return!1;try{const e=await zh.get("".concat(yp,"/pos/pos-data"));return await h(e),!0}catch(n){return!1}},clearCache:async function(){if(r.value=[],i.value=[],e.value=!1,t.value=!1,n.value=null,localStorage.removeItem("lastCacheUpdate"),await wp())try{await up.products.clear(),await up.categories.clear()}catch(a){console.warn("IndexedDB clear failed:",a.message)}}}}),kp=Zi("sync",()=>{const e=At([]),t=At(!1),n=At([]),a=At(null),s=At(!0),r=At(0),i=At(0),o=localStorage.getItem("lastSyncTime");o&&(a.value=new Date(o));const l=nr(()=>e.value.length>0),c=nr(()=>e.value.length),u=nr(()=>e.value.reduce((e,t)=>e+parseFloat(t.total_amount||0),0));async function d(){const s=vp(),o=Fh(),l=_p();if(!s.isOnline)return!1;if(t.value)return!1;if(0===e.value.length)return!0;t.value=!0,r.value=0,i.value=0,n.value=[];const c=[...e.value];for(const e of c){await h(e.temp_receipt_number)?r.value++:i.value++}return t.value=!1,a.value=new Date,localStorage.setItem("lastSyncTime",a.value.toISOString()),r.value>0&&o.success("".concat(r.value," sale(s) synced successfully")),i.value>0&&o.error("".concat(i.value," sale(s) failed to sync. Will retry later.")),r.value>0&&(l.clearOptimisticStockChanges(),await l.syncCachedData()),0===i.value}async function h(t){if(!vp().isOnline)return!1;try{const n=await up.pending_sales.get(t);if(!n)return!1;const a={items:n.items,payment_method:n.payment_method,amount_paid:n.amount_paid,customer_id:n.customer_id||null,discount_amount:n.discount_amount||0,notes:n.notes||null},s=await zh.post("".concat("https://pos-dev.xash.co.zw/api","/pos/sales"),a);return!(!s||!s.sale)&&(await up.synced_sales.add({sale_id:s.sale.id,receipt_number:s.sale.receipt_number,temp_receipt:t,synced_at:(new Date).toISOString(),sale_data:s.sale}),await up.pending_sales.delete(t),e.value=e.value.filter(e=>e.temp_receipt_number!==t),await up.sync_log.add({action:"sale_synced",timestamp:(new Date).toISOString(),details:{temp_receipt:t,real_receipt:s.sale.receipt_number,sale_id:s.sale.id}}),!0)}catch(a){try{const e=await up.pending_sales.get(t);e&&await up.pending_sales.update(t,{attempts:(e.attempts||0)+1,last_error:a.message||"Unknown error"}),await up.sync_log.add({action:"sale_sync_failed",timestamp:(new Date).toISOString(),error_message:a.message||"Unknown error",details:{temp_receipt:t}}),n.value.push({tempId:t,error:a.message||"Unknown error"})}catch(s){}return!1}}return{pendingSales:e,syncInProgress:t,syncErrors:n,lastSyncTime:a,autoSyncEnabled:s,syncedCount:r,failedCount:i,hasPendingSales:l,pendingSalesCount:c,totalPendingAmount:u,addPendingSale:async function(t){try{return await up.pending_sales.add({...t,attempts:0,created_at:t.created_at||(new Date).toISOString(),temp_id:t.temp_receipt_number}),e.value.push(t),await up.sync_log.add({action:"sale_queued",timestamp:(new Date).toISOString(),details:{temp_receipt:t.temp_receipt_number,amount:t.total_amount}}),!0}catch(n){return!1}},getPendingSales:async function(){try{const t=await up.pending_sales.toArray();return e.value=t,t}catch(t){return[]}},syncPendingSales:d,syncSingleSale:h,removePendingSale:async function(t){try{return await up.pending_sales.delete(t),e.value=e.value.filter(e=>e.temp_receipt_number!==t),!0}catch(n){return!1}},handleSyncError:async function(e,t){try{const n=await up.pending_sales.get(e);n&&await up.pending_sales.update(e,{attempts:(n.attempts||0)+1,last_error:t.message||"Unknown error"}),await up.sync_log.add({action:"sale_sync_failed",timestamp:(new Date).toISOString(),error_message:t.message||"Unknown error",details:{temp_receipt:e}})}catch(n){}},startAutoSync:function(){const n=vp();Za(()=>n.isOnline,async n=>{n&&e.value.length>0&&!t.value&&await d()}),window.addEventListener("network-status-changed",async n=>{n.detail.isOnline&&e.value.length>0&&!t.value&&setTimeout(()=>d(),2e3)}),s.value&&setInterval(async()=>{n.isOnline&&e.value.length>0&&!t.value&&await d()},3e5)},getSyncedSaleByTempReceipt:async function(e){try{return(await up.synced_sales.toArray()).find(t=>t.temp_receipt===e)}catch(t){return null}},clearSyncedSales:async function(){try{await up.synced_sales.clear()}catch(e){}}}}),Cp=Zi({id:"cart",state:()=>({items:[],customer:null,discountAmount:0,notes:""}),getters:{itemCount:e=>e.items.length,totalQuantity:e=>e.items.reduce((e,t)=>e+t.quantity,0),subtotal:e=>{const t=e.items.reduce((e,t)=>e+t.unit_price*t.quantity-(t.discount_amount||0),0);return Math.round(100*t)/100},taxAmount:e=>0,totalAmount(e){const t=this.subtotal-e.discountAmount;return Math.round(100*t)/100},isEmpty:e=>0===e.items.length},actions:{addItem(e,t=1){const n=this.items.findIndex(t=>t.product_id===e.id&&t.variant_id===(e.variant_id||null)&&t.unit===e.unit);-1!==n?this.items[n].quantity+=t:this.items.push({product_id:e.id,variant_id:e.variant_id||null,name:e.name,sku:e.sku,unit:e.unit,unit_name:e.unit_name||e.unit,unit_multiplier:e.unit_multiplier||1,unit_price:Math.round(100*parseFloat(e.branch_price||e.selling_price))/100,cost_price:Math.round(100*parseFloat(e.cost_price||0))/100,quantity:t,discount_amount:0,is_taxable:e.is_taxable,tax_rate:Math.round(100*parseFloat(e.tax_rate||0))/100,image:e.image,allow_decimal_qty:e.allow_decimal_qty,stock_quantity:e.stock_quantity||0})},updateQuantity(e,t){t<=0?this.removeItem(e):this.items[e].quantity=t},incrementQuantity(e){this.items[e].quantity+=1},decrementQuantity(e){this.items[e].quantity>1?this.items[e].quantity-=1:this.removeItem(e)},setItemDiscount(e,t){this.items[e].discount_amount=Math.round(100*parseFloat(t||0))/100},removeItem(e){this.items.splice(e,1)},setCustomer(e){this.customer=e},setDiscount(e){this.discountAmount=Math.round(100*parseFloat(e||0))/100},setNotes(e){this.notes=e},clearCart(){this.items=[],this.customer=null,this.discountAmount=0,this.notes=""},getItemsForSubmission(){return this.items.map(e=>({product_id:e.product_id,variant_id:e.variant_id,quantity:parseFloat(e.quantity*(e.unit_multiplier||1))||1,unit_price:parseFloat(e.unit_price)||0,unit:e.unit,discount_amount:parseFloat(e.discount_amount)||0}))},async completeSaleOffline(e,t){var n,a,s;const r=kp(),i=_p(),o=mp(),l=function(){const e=Date.now(),t=Math.random().toString(36).substring(2,6).toUpperCase();return"TEMP-".concat(e,"-").concat(t)}(),c=parseFloat(t)||0,u=parseFloat(this.totalAmount)||0,d=c-u,h={temp_receipt_number:l,items:this.getItemsForSubmission(),payment_method:e||"cash",amount_paid:c,subtotal:parseFloat(this.subtotal)||0,tax_amount:0,discount_amount:parseFloat(this.discountAmount)||0,total_amount:u,change_amount:d,customer_id:(null==(n=this.customer)?void 0:n.id)||null,notes:this.notes||null,created_at:(new Date).toISOString(),status:"pending_sync",user_id:(null==(a=o.user)?void 0:a.id)||null,branch_id:(null==(s=o.user)?void 0:s.primary_branch_id)||null};return await r.addPendingSale(h),this.items.forEach(e=>{const t=-e.quantity*(e.unit_multiplier||1);i.updateProductStock(e.product_id,t)}),console.log("Offline sale created: ".concat(l)),{receipt_number:l,change_amount:d,offline:!0}}},persist:{key:"pos-cart",storage:localStorage}});const Sp=Ti({},[["render",function(e,t){const n=Jn("router-view");return bs(),Cs(n)}]]),Ep={class:"min-h-screen bg-gray-50 flex flex-col"},Pp={class:"bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-30 pt-safe"},Ap={class:"px-4 py-3"},Op={class:"flex items-center justify-between"},Dp={class:"flex items-center gap-3"},Mp={class:"flex items-center gap-2"},Tp={class:"text-sm font-semibold text-gray-800"},Ip={class:"flex items-center gap-3"},jp={class:"text-right hidden sm:block"},Lp={class:"text-sm font-medium text-gray-800"},Fp={class:"text-xs text-gray-500"},Np={class:"py-4"},Rp={class:"space-y-1 px-3"},Bp={class:"lg:pl-64 min-h-screen transition-all duration-300",style:{"padding-top":"calc(53px + var(--sat))"}},Vp={class:"p-4"},zp={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Up={class:"relative bg-white rounded-lg shadow-xl max-w-sm w-full p-6"},qp={class:"text-center"},Hp={class:"flex gap-3"},Wp=Ti({__name:"ManagerLayout",setup(e){const t=Fl();Ll();const n=mp(),a=At(!1),s=At(!1),r=nr(()=>n.user),i=nr(()=>{var e;return null==(e=n.user)?void 0:e.branch}),o=[{name:"dashboard",label:"Dashboard",icon:"fas fa-home",path:"/manager/dashboard"},{name:"sales",label:"Sales Management",icon:"fas fa-receipt",path:"/manager/sales"},{name:"products",label:"Products",icon:"fas fa-box",path:"/manager/products"},{name:"inventory",label:"Inventory",icon:"fas fa-warehouse",path:"/manager/inventory"},{name:"reports",label:"Reports",icon:"fas fa-chart-line",path:"/manager/reports/sales-summary"},{name:"cashiers",label:"Cashiers",icon:"fas fa-users",path:"/manager/cashiers"},{name:"profile",label:"My Profile",icon:"fas fa-user-circle",path:"/manager/profile"}];function l(){a.value=!a.value}function c(){a.value=!1}function u(){window.innerWidth<1024&&c()}function d(){s.value=!0}async function h(){s.value=!1,await n.logout()}return(e,n)=>{var p,f,m;const g=Jn("router-link"),v=Jn("router-view");return bs(),ks("div",Ep,[Os("nav",Pp,[Os("div",Ap,[Os("div",Op,[Os("div",Dp,[Os("button",{onClick:l,class:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition"},[...n[2]||(n[2]=[Os("i",{class:"fas fa-bars text-gray-600"},null,-1)])]),Os("div",Mp,[n[3]||(n[3]=Os("i",{class:"fas fa-store text-primary"},null,-1)),Os("div",null,[Os("h1",Tp,te((null==(p=i.value)?void 0:p.name)||"No Branch"),1)])])]),Os("div",Ip,[Os("div",jp,[Os("p",Lp,te(null==(f=r.value)?void 0:f.name),1),Os("p",Fp,te(null==(m=r.value)?void 0:m.email),1)]),n[5]||(n[5]=Os("div",{class:"w-10 h-10 bg-primary-light rounded-full flex items-center justify-center"},[Os("i",{class:"fas fa-user text-primary"})],-1)),Os("button",{onClick:d,class:"p-2 rounded-lg hover:bg-red-50 text-red-600 transition",title:"Logout"},[...n[4]||(n[4]=[Os("i",{class:"fas fa-sign-out-alt"},null,-1)])])])])])]),Os("aside",{class:Y(["fixed left-0 bottom-0 w-64 bg-white border-r border-gray-200 z-20 transition-transform duration-300",a.value?"translate-x-0":"-translate-x-full lg:translate-x-0"]),style:{top:"calc(53px + var(--sat))"}},[Os("div",Np,[n[6]||(n[6]=Os("br",null,null,-1)),Os("nav",Rp,[(bs(),ks(ps,null,aa(o,e=>{return Ds(g,{key:e.name,to:e.path,class:Y(["flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",(n=e.path,t.path===n||t.path.startsWith(n+"/")?"bg-primary-light text-primary font-medium":"text-gray-600 hover:bg-gray-50")]),onClick:u},{default:un(()=>[Os("i",{class:Y("".concat(e.icon," text-lg w-5"))},null,2),Os("span",null,te(e.label),1)]),_:2},1032,["to","class"]);var n}),64))])]),n[7]||(n[7]=Os("div",{class:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-gray-50"},[Os("div",{class:"text-xs text-gray-500 text-center"},[Os("p",{class:"font-medium"},"XASH POS Manager"),Os("p",null,"Version 1.0.0")])],-1))],2),a.value?(bs(),ks("div",{key:0,onClick:c,class:"fixed inset-0 bg-black/50 z-10 lg:hidden"})):Ls("",!0),Os("main",Bp,[Os("div",Vp,[n[8]||(n[8]=Os("br",null,null,-1)),Ds(v)])]),Ds(gr,{name:"fade"},{default:un(()=>[s.value?(bs(),ks("div",zp,[Os("div",{class:"absolute inset-0 bg-black/50",onClick:n[0]||(n[0]=e=>s.value=!1)}),Os("div",Up,[Os("div",qp,[n[9]||(n[9]=Os("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[Os("i",{class:"fas fa-sign-out-alt text-red-600 text-xl"})],-1)),n[10]||(n[10]=Os("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Confirm Logout",-1)),n[11]||(n[11]=Os("p",{class:"text-sm text-gray-500 mb-6"}," Are you sure you want to log out? ",-1)),Os("div",Hp,[Os("button",{onClick:n[1]||(n[1]=e=>s.value=!1),class:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg font-medium hover:bg-gray-300 transition"}," Cancel "),Os("button",{onClick:h,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition"}," Yes, Logout ")])])])])):Ls("",!0)]),_:1})])}}},[["__scopeId","data-v-baa46203"]]),$p="/logo.png",Kp={class:"min-h-screen flex flex-col bg-page overflow-hidden"},Yp={class:"relative z-10 flex-1 flex items-center justify-center px-6 py-12"},Gp={class:"w-full max-w-sm mx-auto"},Xp={class:"text-center"},Qp={class:"relative z-20 py-4 border-t border-gray-200 bg-white"},Jp={class:"px-4"},Zp={class:"flex flex-col items-center gap-1"},ef={class:"text-gray-400 text-xs"};const tf=Ti({},[["render",function(e,t){const n=Jn("router-link");return bs(),ks("div",Kp,[t[4]||(t[4]=Os("div",{class:"fixed inset-0 overflow-hidden pointer-events-none"},[Os("div",{class:"absolute -top-40 -right-40 w-80 h-80 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob bg-primary-light"}),Os("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000 bg-primary-light"}),Os("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000 bg-accent-light"})],-1)),Os("div",Yp,[Os("div",Gp,[Os("div",Xp,[t[1]||(t[1]=js('<div class="flex justify-center mb-6" data-v-f16fa15f><div class="logo-container" data-v-f16fa15f><img src="'+$p+'" alt="XASH POS" class="w-32 h-32 object-contain" data-v-f16fa15f></div></div><h1 class="text-2xl font-bold text-gray-800 mb-2" data-v-f16fa15f> Point of Sale Terminal </h1><p class="text-gray-500 mb-10 text-sm leading-relaxed px-4" data-v-f16fa15f> Fast, reliable cashier terminal for retail operations. Scan products, process payments, and print receipts. </p>',3)),Ds(n,{to:{name:"login"},class:"cta-button inline-flex items-center justify-center w-full px-8 py-4 text-lg font-semibold text-white bg-primary rounded-lg transition-all shadow-lg"},{default:un(()=>[...t[0]||(t[0]=[Os("i",{class:"fas fa-sign-in-alt mr-3"},null,-1),Is(" Sign In to POS ",-1)])]),_:1}),t[2]||(t[2]=Os("p",{class:"text-gray-400 text-sm mt-8"}," Contact your manager for login credentials ",-1))])])]),Os("footer",Qp,[Os("div",Jp,[Os("div",Zp,[t[3]||(t[3]=Os("div",{class:"flex items-center gap-2"},[Os("span",{class:"text-gray-800 font-semibold"},[Is("XASH"),Os("span",{class:"text-primary"},"POS")])],-1)),Os("p",ef," "+te((new Date).getFullYear())+" XASHPOS. Cashier Terminal.",1)])])])])}],["__scopeId","data-v-f16fa15f"]]),nf={class:"min-h-screen flex flex-col bg-page overflow-hidden"},af={class:"relative z-10 flex-1 flex items-center justify-center px-4 py-8"},sf={class:"w-full max-w-sm mx-auto"},rf={class:"text-center mb-8"},of={class:"bg-white border border-gray-200 rounded-lg p-6 shadow-lg"},lf={class:"relative"},cf={key:0,class:"text-danger text-xs mt-1.5 flex items-center gap-1"},uf={class:"relative"},df=["type"],hf={key:0,class:"text-danger text-xs mt-1.5 flex items-center gap-1"},pf=["disabled"],ff={key:0,class:"fas fa-spinner fa-spin"},mf={key:1,class:"fas fa-arrow-right"},gf={class:"text-center mt-6"},vf={class:"relative z-20 py-4 border-t border-gray-200 bg-white"},yf={class:"px-4"},bf={class:"flex flex-col items-center gap-1"},xf={class:"text-gray-400 text-xs"},wf=Ti({__name:"login",setup(e){const t=mp(),n=vp(),a=At(""),s=At(""),r=At(!1),i=mt({phone_number:"",pin:""});async function o(){(function(){let e=!0;return i.phone_number="",i.pin="",a.value?/^\+?[0-9]{10,15}$/.test(a.value)||(i.phone_number="Enter a valid phone number (e.g. +263771234567)",e=!1):(i.phone_number="Phone number is required",e=!1),s.value?/^[0-9]{4,6}$/.test(s.value)||(i.pin="PIN must be 4-6 digits",e=!1):(i.pin="PIN is required",e=!1),e})()&&(n.isOnline?await t.login(a.value,s.value):await t.loginOffline(a.value,s.value),t.phoneError&&(i.phone_number=t.phoneError),t.pinError&&(i.pin=t.pinError))}return(e,n)=>{const l=Jn("router-link");return bs(),ks("div",nf,[n[17]||(n[17]=Os("div",{class:"fixed inset-0 overflow-hidden pointer-events-none"},[Os("div",{class:"absolute -top-40 -right-40 w-80 h-80 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob bg-primary-light"}),Os("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000 bg-primary-light"})],-1)),Os("div",af,[Os("div",sf,[Os("div",rf,[Ds(l,{to:"/",class:"inline-block"},{default:un(()=>[...n[5]||(n[5]=[Os("div",{class:"logo-container mx-auto mb-4"},[Os("img",{src:$p,alt:"XASH POS",class:"w-20 h-20 object-contain"})],-1)])]),_:1}),n[6]||(n[6]=Os("h1",{class:"text-xl font-bold text-gray-800 mb-1"},"Welcome Back",-1)),n[7]||(n[7]=Os("p",{class:"text-gray-500 text-sm"},"Sign in to your account",-1))]),Os("div",of,[Os("form",{onSubmit:hi(o,["prevent"]),class:"space-y-5"},[Os("div",null,[n[10]||(n[10]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phone Number",-1)),Os("div",lf,[n[8]||(n[8]=Os("div",{class:"absolute left-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-primary-light rounded-lg flex items-center justify-center"},[Os("i",{class:"fas fa-phone text-primary text-sm"})],-1)),dn(Os("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),type:"tel",onInput:n[1]||(n[1]=e=>{i.phone_number="",Tt(t).phoneError=null}),class:Y(["input-field w-full pl-14 pr-4 py-3 bg-gray-50 border rounded-lg text-gray-900 placeholder-gray-400 transition-all",[i.phone_number?"border-danger border-2 animate-shake":"border-gray-200"]]),placeholder:"0771234567",required:""},null,34),[[ei,a.value]])]),i.phone_number?(bs(),ks("p",cf,[n[9]||(n[9]=Os("i",{class:"fas fa-exclamation-circle"},null,-1)),Is(" "+te(i.phone_number),1)])):Ls("",!0)]),Os("div",null,[n[13]||(n[13]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"PIN",-1)),Os("div",uf,[n[11]||(n[11]=Os("div",{class:"absolute left-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-primary-light rounded-lg flex items-center justify-center"},[Os("i",{class:"fas fa-lock text-primary text-sm"})],-1)),dn(Os("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>s.value=e),type:r.value?"text":"password",onInput:n[3]||(n[3]=e=>{i.pin="",Tt(t).pinError=null}),inputmode:"numeric",maxlength:"6",class:Y(["input-field w-full pl-14 pr-12 py-3 bg-gray-50 border rounded-lg text-gray-900 placeholder-gray-400 transition-all",[i.pin?"border-danger border-2 animate-shake":"border-gray-200"]]),placeholder:"",required:""},null,42,df),[[li,s.value]]),Os("button",{type:"button",onClick:n[4]||(n[4]=e=>r.value=!r.value),class:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},[Os("i",{class:Y(r.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),i.pin?(bs(),ks("p",hf,[n[12]||(n[12]=Os("i",{class:"fas fa-exclamation-circle"},null,-1)),Is(" "+te(i.pin),1)])):Ls("",!0)]),n[14]||(n[14]=Os("div",{class:"text-center py-2"},[Os("p",{class:"text-sm text-gray-400"},[Os("i",{class:"fas fa-info-circle mr-1"}),Is(" Forgot PIN? Contact your manager. ")])],-1)),Os("button",{type:"submit",disabled:Tt(t).loading,class:"submit-button w-full py-3.5 bg-primary text-white font-semibold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[Tt(t).loading?(bs(),ks("i",ff)):Ls("",!0),Os("span",null,te(Tt(t).loading?"Signing in...":"Sign In"),1),Tt(t).loading?Ls("",!0):(bs(),ks("i",mf))],8,pf)],32)]),Os("div",gf,[Ds(l,{to:"/",class:"inline-flex items-center gap-2 text-gray-500 hover:text-primary transition-colors text-sm"},{default:un(()=>[...n[15]||(n[15]=[Os("i",{class:"fas fa-arrow-left"},null,-1),Os("span",null,"Back to home",-1)])]),_:1})])])]),Os("footer",vf,[Os("div",yf,[Os("div",bf,[n[16]||(n[16]=Os("div",{class:"flex items-center gap-2"},[Os("span",{class:"text-gray-800 font-semibold"},[Is("XASH"),Os("span",{class:"text-primary"},"POS")])],-1)),Os("p",xf," "+te((new Date).getFullYear())+" XASHPOS. Cashier Terminal.",1)])])])])}}},[["__scopeId","data-v-0016333f"]]),_f={class:"min-h-screen bg-page pb-20 dashboard-screen"},kf={class:"bg-header text-white px-4 py-6 pt-safe dashboard-header"},Cf={class:"flex items-center justify-between mb-4"},Sf={class:"text-primary-light"},Ef={class:"rounded-lg p-2.5 bg-overlay-light dashboard-branch-strip"},Pf={class:"flex items-center"},Af={class:"text-sm"},Of={class:"px-4 dashboard-container dashboard-stats-offset"},Df={class:"card shadow-lg p-4"},Mf={class:"flex"},Tf={class:"flex-1 stat-card mr-2"},If={class:"stat-value"},jf={class:"flex-1 stat-card ml-2"},Lf={class:"stat-value"},Ff={class:"px-4 mt-6 dashboard-container"},Nf={class:"flex flex-wrap"},Rf={class:"w-1/2 p-1"},Bf={class:"w-1/2 p-1"},Vf={class:"w-1/2 p-1"},zf={class:"w-1/2 p-1"},Uf={class:"px-4 mt-6 dashboard-container"},qf={key:0},Hf=["onClick"],Wf={class:"font-medium text-gray-800"},$f={class:"text-xs text-gray-500"},Kf={class:"text-right"},Yf={class:"font-bold text-primary-dark"},Gf={key:1,class:"card shadow p-6 text-center text-gray-500"},Xf={key:0,class:"modal-backdrop"},Qf={class:"modal-content"},Jf={class:"text-center"},Zf={class:"modal-actions"},em={key:0,class:"fixed inset-0 z-50"},tm={class:"absolute bottom-0 left-0 right-0 bg-white rounded-t-lg max-h-[80vh] overflow-y-auto"},nm={class:"sticky top-0 bg-white px-4 py-3 border-b flex items-center justify-between"},am={key:0,class:"flex items-center justify-center py-20"},sm={key:1,class:"p-4"},rm={class:"text-center mb-4"},im={class:"text-lg font-bold"},om={class:"text-xs text-gray-500"},lm={class:"border-t border-b py-3 mb-4"},cm={class:"font-medium"},um={class:"text-sm text-gray-500"},dm={class:"font-medium"},hm={class:"space-y-2 mb-4"},pm={class:"flex justify-between text-sm"},fm={key:0,class:"flex justify-between text-sm"},mm={key:1,class:"flex justify-between text-sm text-red-500"},gm={class:"flex justify-between font-bold text-lg pt-2 border-t"},vm={class:"text-success"},ym={class:"bg-gray-50 rounded-lg p-3 mb-4"},bm={class:"flex justify-between text-sm"},xm={class:"capitalize font-medium"},wm={class:"flex justify-between text-sm mt-1"},_m={class:"font-medium"},km={key:0,class:"flex justify-between text-sm mt-1"},Cm={class:"font-medium"},Sm={class:"space-y-2"},Em={key:0,class:"modal-backdrop",style:{"z-index":"60"}},Pm={class:"modal-content"},Am={class:"text-center"},Om={class:"modal-text"},Dm={key:0,class:"text-sm text-danger mb-3"},Mm={class:"modal-actions"},Tm=["disabled"],Im=["disabled"],jm={key:0,class:"loading-overlay"},Lm=Ti({__name:"dashboard",setup(e){const t=mp(),n=kp(),a=vp(),s=At(!0),r=At({}),i=At(!1),o=At(null),l=At(!1),c=At(!1),u=At(!1),d=At(""),h="https://pos-dev.xash.co.zw/api",p=nr(()=>t.user),f=nr(()=>{var e;return null==(e=t.user)?void 0:e.branch});async function m(){var e,i;s.value=!0,await n.getPendingSales();const o=n.pendingSales.map(e=>({id:e.temp_receipt_number,receipt_number:e.temp_receipt_number,created_at:e.created_at,total_amount:e.total_amount,payment_method:e.payment_method,status:"pending_sync",is_pending:!0})),l=o.reduce((e,t)=>e+parseFloat(t.total_amount||0),0);if(!t.token)return console.log("Not logged in, showing only local data"),r.value={today:{total_sales:o.length,total_revenue:l},recent_sales:o.slice(0,5)},void(s.value=!1);if(!a.isOnline)return console.log("Offline mode: showing local data only"),r.value={today:{total_sales:o.length,total_revenue:l},recent_sales:o.slice(0,5)},void(s.value=!1);try{const t=await zh.get("".concat(h,"/pos/dashboard"));r.value={today:{total_sales:((null==(e=t.today)?void 0:e.total_sales)||0)+o.length,total_revenue:((null==(i=t.today)?void 0:i.total_revenue)||0)+l},recent_sales:[...o,...t.recent_sales||[]].slice(0,5)}}catch(c){r.value={today:{total_sales:o.length,total_revenue:l},recent_sales:o.slice(0,5)}}finally{s.value=!1}}function g(e){return parseFloat(e||0).toFixed(2)}async function v(){var e;if(o.value){u.value=!0,d.value="";try{await zh.post("".concat(h,"/pos/sales/").concat(o.value.id,"/cancel"));const t=null==(e=r.value.recent_sales)?void 0:e.findIndex(e=>e.id===o.value.id);-1!==t&&r.value.recent_sales&&(r.value.recent_sales[t].status="cancelled"),c.value=!1,o.value=null,await m()}catch(t){d.value=(null==t?void 0:t.message)||"Failed to void sale. You may not have permission."}finally{u.value=!1}}}async function y(){i.value=!1,await t.logout()}return Un(()=>{m()}),(e,t)=>{var n,a,m,b,x;const w=Jn("router-link");return bs(),ks("div",_f,[Os("div",kf,[Os("div",Cf,[Os("div",null,[t[9]||(t[9]=Os("h1",{class:"text-xl font-bold mt-2"},"Welcome back,",-1)),Os("p",Sf,te((null==(n=p.value)?void 0:n.name)||"Cashier"),1)]),Os("button",{onClick:t[0]||(t[0]=e=>i.value=!0),class:"p-2 rounded-lg bg-overlay-light"},[...t[10]||(t[10]=[Os("i",{class:"fas fa-sign-out-alt"},null,-1)])])]),Os("div",Ef,[Os("div",Pf,[t[11]||(t[11]=Os("i",{class:"fas fa-store mr-2 icon-primary-light"},null,-1)),Os("span",Af,te((null==(a=f.value)?void 0:a.name)||"No branch assigned"),1)])])]),Os("div",Of,[Os("div",Df,[t[14]||(t[14]=Os("h2",{class:"section-subtitle"},"Today's Summary",-1)),Os("div",Mf,[Os("div",Tf,[Os("p",If,te((null==(m=r.value.today)?void 0:m.total_sales)||0),1),t[12]||(t[12]=Os("p",{class:"stat-label"},"Sales",-1))]),Os("div",jf,[Os("p",Lf,"$"+te(g((null==(b=r.value.today)?void 0:b.total_revenue)||0)),1),t[13]||(t[13]=Os("p",{class:"stat-label"},"Revenue",-1))])])])]),Os("div",Ff,[t[19]||(t[19]=Os("h2",{class:"section-title"},"Quick Actions",-1)),Os("div",Nf,[Os("div",Rf,[Ds(w,{to:"/pos/sell",class:"card-action-primary dashboard-action-card"},{default:un(()=>[...t[15]||(t[15]=[Os("i",{class:"fas fa-cash-register text-3xl mb-2"},null,-1),Os("span",{class:"font-medium"},"New Sale",-1)])]),_:1})]),Os("div",Bf,[Ds(w,{to:"/pos/sales",class:"card-action dashboard-action-card"},{default:un(()=>[...t[16]||(t[16]=[Os("i",{class:"fas fa-history text-3xl mb-2 icon-primary"},null,-1),Os("span",{class:"font-medium"},"Sales History",-1)])]),_:1})]),Os("div",Vf,[Ds(w,{to:"/pos/products",class:"card-action dashboard-action-card"},{default:un(()=>[...t[17]||(t[17]=[Os("i",{class:"fas fa-boxes text-3xl mb-2 icon-primary"},null,-1),Os("span",{class:"font-medium"},"Products",-1)])]),_:1})]),Os("div",zf,[Ds(w,{to:"/pos/profile",class:"card-action dashboard-action-card"},{default:un(()=>[...t[18]||(t[18]=[Os("i",{class:"fas fa-user text-3xl mb-2 icon-primary"},null,-1),Os("span",{class:"font-medium"},"Profile",-1)])]),_:1})])])]),Os("div",Uf,[t[21]||(t[21]=Os("h2",{class:"section-title"},"Recent Sales",-1)),(null==(x=r.value.recent_sales)?void 0:x.length)?(bs(),ks("div",qf,[(bs(!0),ks(ps,null,aa(r.value.recent_sales,e=>{return bs(),ks("div",{key:e.id,onClick:t=>async function(e){if(o.value=e,!e.is_pending&&"pending_sync"!==e.status){l.value=!0;try{const t=await zh.get("".concat(h,"/pos/sales/").concat(e.id));o.value=t.sale}catch(t){console.error("Failed to fetch sale details:",t)}finally{l.value=!1}}}(e),class:"sale-item cursor-pointer hover:shadow-md transition"},[Os("div",null,[Os("p",Wf,te(e.receipt_number),1),Os("p",$f,te((t=e.created_at,new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))),1)]),Os("div",Kf,[Os("p",Yf,"$"+te(g(e.total_amount)),1),Os("span",{class:Y(["text-xs px-2 py-0.5 rounded-full","pending_sync"===e.status?"status-pending":"completed"===e.status?"status-success":"cancelled"===e.status?"status-failed":"bg-gray-100 text-gray-700"])},te("pending_sync"===e.status?"Pending":e.payment_method),3)])],8,Hf);var t}),128))])):(bs(),ks("div",Gf,[...t[20]||(t[20]=[Os("i",{class:"fas fa-receipt text-4xl mb-2 icon-gray"},null,-1),Os("p",null,"No sales yet today",-1)])]))]),Ds(gr,{name:"fade"},{default:un(()=>[i.value?(bs(),ks("div",Xf,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:t[1]||(t[1]=e=>i.value=!1)}),Os("div",Qf,[Os("div",Jf,[t[22]||(t[22]=Os("div",{class:"modal-icon modal-icon-danger"},[Os("i",{class:"fas fa-sign-out-alt text-xl"})],-1)),t[23]||(t[23]=Os("h3",{class:"modal-title"},"Confirm Logout",-1)),t[24]||(t[24]=Os("p",{class:"modal-text"}," Are you sure you want to log out? Any unsaved work may be lost. ",-1)),Os("div",Zf,[Os("button",{onClick:t[2]||(t[2]=e=>i.value=!1),class:"btn btn-secondary"}," Cancel "),Os("button",{onClick:y,class:"btn btn-danger"}," Yes, Logout ")])])])])):Ls("",!0)]),_:1}),Ds(gr,{name:"fade"},{default:un(()=>{return[o.value?(bs(),ks("div",em,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:t[3]||(t[3]=e=>o.value=null)}),Os("div",tm,[Os("div",nm,[t[26]||(t[26]=Os("h2",{class:"text-lg font-bold"},"Receipt Details",-1)),Os("button",{onClick:t[4]||(t[4]=e=>o.value=null),class:"p-2"},[...t[25]||(t[25]=[Os("i",{class:"fas fa-times"},null,-1)])])]),l.value?(bs(),ks("div",am,[...t[27]||(t[27]=[Os("i",{class:"fas fa-spinner fa-spin text-3xl icon-primary"},null,-1)])])):(bs(),ks("div",sm,[Os("div",rm,[t[28]||(t[28]=Os("p",{class:"text-sm text-gray-500"},"Receipt #",-1)),Os("p",im,te(o.value.receipt_number),1),Os("p",om,te((e=o.value.created_at,new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))),1)]),Os("div",lm,[(bs(!0),ks(ps,null,aa(o.value.items,e=>(bs(),ks("div",{key:e.id,class:"flex justify-between py-2"},[Os("div",null,[Os("p",cm,te(e.product_name),1),Os("p",um,te(e.quantity)+" x $"+te(g(e.unit_price)),1)]),Os("p",dm,"$"+te(g(e.line_total)),1)]))),128))]),Os("div",hm,[Os("div",pm,[t[29]||(t[29]=Os("span",{class:"text-gray-500"},"Subtotal",-1)),Os("span",null,"$"+te(g(o.value.subtotal)),1)]),o.value.tax_amount>0?(bs(),ks("div",fm,[t[30]||(t[30]=Os("span",{class:"text-gray-500"},"Tax",-1)),Os("span",null,"$"+te(g(o.value.tax_amount)),1)])):Ls("",!0),o.value.discount_amount>0?(bs(),ks("div",mm,[t[31]||(t[31]=Os("span",null,"Discount",-1)),Os("span",null,"-$"+te(g(o.value.discount_amount)),1)])):Ls("",!0),Os("div",gm,[t[32]||(t[32]=Os("span",null,"Total",-1)),Os("span",vm,"$"+te(g(o.value.total_amount)),1)])]),Os("div",ym,[Os("div",bm,[t[33]||(t[33]=Os("span",{class:"text-gray-500"},"Payment Method",-1)),Os("span",xm,te(o.value.payment_method),1)]),Os("div",wm,[t[34]||(t[34]=Os("span",{class:"text-gray-500"},"Amount Paid",-1)),Os("span",_m,"$"+te(g(o.value.amount_paid)),1)]),o.value.change_amount>0?(bs(),ks("div",km,[t[35]||(t[35]=Os("span",{class:"text-gray-500"},"Change",-1)),Os("span",Cm,"$"+te(g(o.value.change_amount)),1)])):Ls("",!0)]),Os("div",Sm,[Os("button",{onClick:t[5]||(t[5]=e=>o.value=null),class:"w-full py-3 bg-primary text-white rounded-lg font-medium"}," Close "),"completed"!==o.value.status||o.value.is_pending?Ls("",!0):(bs(),ks("button",{key:0,onClick:t[6]||(t[6]=e=>c.value=!0),class:"w-full py-3 btn-danger rounded-lg font-medium"},[...t[36]||(t[36]=[Os("i",{class:"fas fa-ban mr-2"},null,-1),Is("Void Sale ",-1)])]))])]))])])):Ls("",!0)];var e}),_:1}),Ds(gr,{name:"fade"},{default:un(()=>{var e;return[c.value?(bs(),ks("div",Em,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:t[7]||(t[7]=e=>c.value=!1)}),Os("div",Pm,[Os("div",Am,[t[39]||(t[39]=Os("div",{class:"modal-icon modal-icon-danger"},[Os("i",{class:"fas fa-ban text-xl"})],-1)),t[40]||(t[40]=Os("h3",{class:"modal-title"},"Void Sale?",-1)),Os("p",Om,[t[37]||(t[37]=Is(" This will cancel receipt ",-1)),Os("strong",null,te(null==(e=o.value)?void 0:e.receipt_number),1),t[38]||(t[38]=Is(" and restore stock. This action cannot be undone. ",-1))]),d.value?(bs(),ks("div",Dm,te(d.value),1)):Ls("",!0),Os("div",Mm,[Os("button",{onClick:t[8]||(t[8]=e=>c.value=!1),class:"btn btn-secondary",disabled:u.value}," Cancel ",8,Tm),Os("button",{onClick:v,class:"btn btn-danger",disabled:u.value},te(u.value?"Voiding...":"Yes, Void"),9,Im)])])])])):Ls("",!0)]}),_:1}),s.value?(bs(),ks("div",jm,[...t[41]||(t[41]=[Os("div",{class:"loading-spinner"},[Os("i",{class:"fas fa-spinner fa-spin text-3xl icon-primary"})],-1)])])):Ls("",!0)])}}},[["__scopeId","data-v-a7971b0b"]]),Fm={class:"flex items-center gap-2"},Nm={key:0,class:"flex items-center gap-1.5 px-2.5 py-1 bg-yellow-500 text-white text-xs font-medium rounded-lg"},Rm={key:1,class:"flex items-center gap-1.5 px-2.5 py-1 bg-blue-500 text-white text-xs font-medium rounded-lg"},Bm={__name:"NetworkIndicator",setup(e){const t=vp();return(e,n)=>(bs(),ks("div",Fm,[Tt(t).isOnline?"cellular"===Tt(t).connectionType?(bs(),ks("div",Rm,[...n[1]||(n[1]=[Os("i",{class:"fas fa-signal"},null,-1),Os("span",null,"Cellular",-1)])])):Ls("",!0):(bs(),ks("div",Nm,[...n[0]||(n[0]=[Os("i",{class:"fas fa-wifi-slash"},null,-1),Os("span",null,"Offline",-1)])]))]))}},Vm={key:0,class:"relative"},zm={class:"absolute -top-1 -right-1 bg-yellow-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold"},Um={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},qm={class:"relative bg-white rounded-lg p-6 max-w-md w-full shadow-2xl"},Hm={class:"flex items-center justify-between mb-4"},Wm={class:"mb-4"},$m={class:"flex items-center gap-2 text-sm text-gray-600 mb-2"},Km={class:"text-sm text-gray-600"},Ym={class:"font-semibold"},Gm={key:0,class:"flex items-start gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-700 mb-4"},Xm={key:1,class:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-700 mb-4"},Qm={class:"max-h-48 overflow-y-auto mb-4"},Jm={class:"flex-1"},Zm={class:"text-sm font-medium text-gray-900"},eg={class:"text-xs text-gray-500"},tg={key:0,class:"text-xs text-red-500"},ng={class:"flex gap-2"},ag=["disabled"],sg={key:0},rg={key:1},ig=Ti({__name:"SyncStatusBadge",setup(e){const t=kp(),n=vp(),a=Fh(),s=At(!1);async function r(){try{await t.syncPendingSales(),0===t.pendingSalesCount&&(s.value=!1)}catch(e){a.error("Some sales failed to sync. Will retry automatically.")}}function i(e){const t=new Date(e),n=new Date-t,a=Math.floor(n/6e4),s=Math.floor(n/36e5);return a<1?"Just now":a<60?"".concat(a," min ago"):s<24?"".concat(s," hour").concat(s>1?"s":""," ago"):t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}return(e,a)=>Tt(t).pendingSalesCount>0?(bs(),ks("div",Vm,[Os("button",{onClick:a[0]||(a[0]=e=>s.value=!0),class:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors"},[Os("i",{class:Y(["fas fa-sync-alt text-yellow-500 text-lg",{"fa-spin":Tt(t).syncInProgress}])},null,2),Os("span",zm,te(Tt(t).pendingSalesCount),1)]),Ds(gr,{name:"fade"},{default:un(()=>[s.value?(bs(),ks("div",Um,[Os("div",{class:"absolute inset-0 bg-black/50",onClick:a[1]||(a[1]=e=>s.value=!1)}),Os("div",qm,[Os("div",Hm,[a[5]||(a[5]=Os("h3",{class:"text-lg font-bold text-gray-900"},"Pending Sales",-1)),Os("button",{onClick:a[2]||(a[2]=e=>s.value=!1),class:"text-gray-400 hover:text-gray-600"},[...a[4]||(a[4]=[Os("i",{class:"fas fa-times text-xl"},null,-1)])])]),Os("div",Wm,[Os("div",$m,[a[6]||(a[6]=Os("i",{class:"fas fa-info-circle"},null,-1)),Os("span",null,te(Tt(t).pendingSalesCount)+" sale(s) waiting to sync",1)]),Os("div",Km,[a[7]||(a[7]=Is(" Total: ",-1)),Os("span",Ym,"$"+te(Tt(t).totalPendingAmount.toFixed(2)),1)])]),Tt(n).isOnline?Ls("",!0):(bs(),ks("div",Gm,[...a[8]||(a[8]=[Os("i",{class:"fas fa-exclamation-triangle mt-0.5"},null,-1),Os("p",null,"You are offline. Sales will sync automatically when connection is restored.",-1)])])),Tt(t).syncInProgress?(bs(),ks("div",Xm,[a[9]||(a[9]=Os("i",{class:"fas fa-spinner fa-spin"},null,-1)),Os("p",null,"Syncing "+te(Tt(t).syncedCount)+"/"+te(Tt(t).pendingSalesCount)+" sales...",1)])):Ls("",!0),Os("div",Qm,[(bs(!0),ks(ps,null,aa(Tt(t).pendingSales,e=>(bs(),ks("div",{key:e.temp_receipt_number,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg mb-2"},[Os("div",Jm,[Os("div",Zm,te(e.temp_receipt_number),1),Os("div",eg,te(i(e.created_at))+"  $"+te(parseFloat(e.total_amount).toFixed(2)),1)]),e.attempts>0?(bs(),ks("div",tg,te(e.attempts)+" attempt"+te(e.attempts>1?"s":""),1)):Ls("",!0)]))),128))]),Os("div",ng,[Os("button",{onClick:a[3]||(a[3]=e=>s.value=!1),class:"flex-1 py-2.5 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors"}," Close "),Tt(n).isOnline?(bs(),ks("button",{key:0,onClick:r,disabled:Tt(t).syncInProgress,class:"flex-1 py-2.5 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[Tt(t).syncInProgress?(bs(),ks("span",sg,[...a[10]||(a[10]=[Os("i",{class:"fas fa-spinner fa-spin mr-1"},null,-1),Is("Syncing... ",-1)])])):(bs(),ks("span",rg,[...a[11]||(a[11]=[Os("i",{class:"fas fa-sync-alt mr-1"},null,-1),Is("Sync Now ",-1)])]))],8,ag)):Ls("",!0)])])])):Ls("",!0)]),_:1})])):Ls("",!0)}},[["__scopeId","data-v-97f47d13"]]),og="https://pos-dev.xash.co.zw/api".replace("/api",""),lg="https://pos-dev.xash.co.zw/api";let cg=null;async function ug(){if(null!==cg)return cg;try{const e=new Promise((e,t)=>setTimeout(()=>t(new Error("IndexedDB timeout")),3e3));await Promise.race([up.open(),e]),cg=!0}catch(e){console.warn("IndexedDB not available for images:",e.message),cg=!1}return cg}const dg=new Map;function hg(){const e=vp();async function t(e){try{const n=await zh.get("".concat(lg,"/pos/image?path=").concat(encodeURIComponent(e)));if(n&&n.base64){const a=e.startsWith("http")?e:"".concat(og,"/storage/").concat(e);if(await ug())try{up.isOpen()||await up.open(),await up.images.put({url:a,base64:n.base64,cached_at:Date.now()})}catch(t){console.warn("Failed to cache image:",t.message)}return n.base64}return null}catch(n){return null}}return{getProductImageUrl:async function(n){if(!n)return null;const a=n.startsWith("http")?n:"".concat(og,"/storage/").concat(n);if(!(await ug())){if(dg.has(a))return dg.get(a);if(!e.isOnline)return null;try{const e=await async function(e){try{const t=await zh.get("".concat(lg,"/pos/image?path=").concat(encodeURIComponent(e)));return t&&t.base64?t.base64:null}catch(t){return console.warn("Failed to fetch image:",t.message||t),null}}(n);if(e){if(dg.size>=50){const e=dg.keys().next().value;dg.delete(e)}return dg.set(a,e),e}}catch(s){console.warn("Failed to fetch image via API:",s.message)}return null}try{const e=await hp(a);if(e)return e}catch(s){}if(!e.isOnline)return null;try{return await t(n)}catch(s){return null}},fetchAndCacheImage:t,preloadImage:async function(n){if(!n||!e.isOnline)return!1;const a=n.startsWith("http")?n:"".concat(og,"/storage/").concat(n);if(await ug()){if(await hp(a))return!0}else if(dg.has(a))return!0;return!!(await t(n))}}}var pg,fg,mg,gg,vg,yg,bg,xg,wg,_g,kg,Cg,Sg,Eg,Pg,Ag,Og,Dg;(fg=pg||(pg={})).Aztec="AZTEC",fg.Codabar="CODABAR",fg.Code39="CODE_39",fg.Code93="CODE_93",fg.Code128="CODE_128",fg.DataMatrix="DATA_MATRIX",fg.Ean8="EAN_8",fg.Ean13="EAN_13",fg.Itf="ITF",fg.Pdf417="PDF_417",fg.QrCode="QR_CODE",fg.UpcA="UPC_A",fg.UpcE="UPC_E",(gg=mg||(mg={})).CalendarEvent="CALENDAR_EVENT",gg.ContactInfo="CONTACT_INFO",gg.DriversLicense="DRIVERS_LICENSE",gg.Email="EMAIL",gg.Geo="GEO",gg.Isbn="ISBN",gg.Phone="PHONE",gg.Product="PRODUCT",gg.Sms="SMS",gg.Text="TEXT",gg.Url="URL",gg.Wifi="WIFI",gg.Unknown="UNKNOWN",(yg=vg||(vg={}))[yg["640x480"]=0]="640x480",yg[yg["1280x720"]=1]="1280x720",yg[yg["1920x1080"]=2]="1920x1080",yg[yg["3840x2160"]=3]="3840x2160",(xg=bg||(bg={})).Front="FRONT",xg.Back="BACK",(_g=wg||(wg={}))[_g.UNKNOWN=0]="UNKNOWN",_g[_g.PENDING=1]="PENDING",_g[_g.DOWNLOADING=2]="DOWNLOADING",_g[_g.CANCELED=3]="CANCELED",_g[_g.COMPLETED=4]="COMPLETED",_g[_g.FAILED=5]="FAILED",_g[_g.INSTALLING=6]="INSTALLING",_g[_g.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED",(Cg=kg||(kg={}))[Cg.HOME=0]="HOME",Cg[Cg.UNKNOWN=1]="UNKNOWN",Cg[Cg.WORK=2]="WORK",(Eg=Sg||(Sg={}))[Eg.HOME=0]="HOME",Eg[Eg.UNKNOWN=1]="UNKNOWN",Eg[Eg.WORK=2]="WORK",(Ag=Pg||(Pg={}))[Ag.FAX=0]="FAX",Ag[Ag.HOME=1]="HOME",Ag[Ag.MOBILE=2]="MOBILE",Ag[Ag.UNKNOWN=3]="UNKNOWN",Ag[Ag.WORK=4]="WORK",(Dg=Og||(Og={}))[Dg.OPEN=1]="OPEN",Dg[Dg.WEP=2]="WEP",Dg[Dg.WPA=3]="WPA";const Mg=Ci("BarcodeScanner",{web:()=>yi(()=>import("./web-CaEeVwcA.js"),[]).then(e=>new e.BarcodeScannerWeb)}),Tg=Ci("SunmiScanner"),Ig="android"===ki.getPlatform(),jg=ki.isNativePlatform();let Lg=null,Fg=null,Ng=!1,Rg=null;function Bg(){const e=At(!1),t=At(!1),n=At(!1),a=At(!1),s=At(!1),r=Fh();let i=null,o=null;async function l(){if(null!==Lg)return t.value=Lg,Lg;try{const e=await Mg.isSupported();return Lg=e.supported,t.value=e.supported,e.supported}catch(e){return console.error("[BarcodeScanner] Error checking ML Kit support:",e),Lg=!1,t.value=!1,!1}}async function c(){if("granted"===Fg)return!0;try{const e=await Mg.checkPermissions();if(Fg=e.camera,"granted"===e.camera)return!0;if("denied"===e.camera)return r.error("Camera permission is required for barcode scanning. Please enable it in settings."),!1;const t=await Mg.requestPermissions();return Fg=t.camera,"granted"===t.camera}catch(e){return console.error("[BarcodeScanner] Error requesting camera permission:",e),r.error("Failed to request camera permission"),!1}}async function u(){if(!Ng)try{if((await Mg.isGoogleBarcodeScannerModuleAvailable()).available)return void(Ng=!0);console.log("[BarcodeScanner] Installing Google Barcode Scanner module..."),await Mg.installGoogleBarcodeScannerModule(),Ng=!0,console.log("[BarcodeScanner] Google Barcode Scanner module installed")}catch(e){console.error("[BarcodeScanner] Error installing Google Barcode Scanner module:",e)}}return{isScanning:e,isSupported:t,isReady:n,isSunmiDevice:a,sunmiListenerActive:s,checkSupport:l,requestPermission:c,initialize:async function(){return Rg||(Rg=(async()=>{console.log("[BarcodeScanner] Pre-initializing scanner...");const e=Date.now();try{const[t,a]=await Promise.all([l(),Mg.checkPermissions().then(e=>(Fg=e.camera,e.camera)).catch(()=>null)]);return t&&Ig&&u().catch(()=>{}),n.value=t&&"granted"===Fg,console.log("[BarcodeScanner] Pre-initialization complete in",Date.now()-e,"ms"),n.value}catch(t){return console.error("[BarcodeScanner] Pre-initialization error:",t),!1}})(),Rg)},scan:async function(){var t,a;try{if(n.value&&Lg&&"granted"===Fg)console.log("[BarcodeScanner] Using cached initialization, opening scanner immediately");else{if(!(await l()))return r.error("Camera barcode scanning is not supported on this device"),null;if(!(await c()))return null;await u()}e.value=!0,document.body.classList.add("barcode-scanning");const t=await Mg.scan({formats:[pg.Ean13,pg.Ean8,pg.UpcA,pg.UpcE,pg.Code128,pg.Code39,pg.Code93,pg.QrCode,pg.DataMatrix]});if(t.barcodes&&t.barcodes.length>0){const e=t.barcodes[0];return e.rawValue||e.displayValue}return null}catch(s){return console.error("[BarcodeScanner] Error scanning barcode:",s),(null==(t=s.message)?void 0:t.includes("canceled"))||(null==(a=s.message)?void 0:a.includes("cancelled"))?null:(r.error("Failed to scan barcode"),null)}finally{e.value=!1,document.body.classList.remove("barcode-scanning")}},stopScan:async function(){try{await Mg.stopScan()}catch(t){console.error("[BarcodeScanner] Error stopping scan:",t)}finally{e.value=!1,document.body.classList.remove("barcode-scanning")}},initSunmiScanner:async function(){if(!jg||!Ig)return console.log("[BarcodeScanner] Sunmi scanner only available on Android"),!1;try{const e=await Tg.isSunmiDevice();return a.value=e.isSunmi,console.log("[BarcodeScanner] Is Sunmi device:",e.isSunmi),e.isSunmi}catch(e){return console.log("[BarcodeScanner] Error checking Sunmi device:",e.message||e),!1}},startSunmiListener:async function(e){if(a.value&&!s.value&&jg&&Ig)try{i=e,o=await Tg.addListener("onBarcodeScanned",e=>{console.log("[BarcodeScanner] Sunmi hardware scan:",e.barcode),i&&e.barcode&&i(e.barcode)}),await Tg.startListening(),s.value=!0,console.log("[BarcodeScanner] Sunmi hardware scanner listener started")}catch(t){console.log("[BarcodeScanner] Error starting Sunmi listener:",t.message||t)}},stopSunmiListener:async function(){if(s.value&&jg&&Ig)try{await Tg.stopListening(),o&&(await o.remove(),o=null),i=null,s.value=!1,console.log("[BarcodeScanner] Sunmi hardware scanner listener stopped")}catch(e){console.log("[BarcodeScanner] Error stopping Sunmi listener:",e.message||e)}}}}var Vg,zg,Ug,qg,Hg,Wg,$g,Kg,Yg,Gg,Xg,Qg,Jg,Zg,ev,tv,nv,av,sv,rv,iv,ov,lv,cv,uv,dv;(zg=Vg||(Vg={})).NORMAL_OPERATION="NormalOperation",zg.UNDER_PREPARATION="UnderPreparation",zg.ABNORMAL_COMMUNICATION="AbnormalCommunication",zg.OUT_OF_PAPER="OutOfPaper",zg.OVERHEATED="Overheated",zg.COVER_IS_OPEN="CoverIsOpen",zg.CUTTER_ERROR="CutterError",zg.CUTTER_RECOVERED="CutterRecovered",zg.BLACK_MARK_NOT_DETECTED="BlackMarkNotDetected",zg.PRINTER_NOT_DETECTED="PrinterNotDetected",zg.FIRMWARE_UPDATE_FAILED="FirmwareUpdateFailed",zg.UNKNOWN="Unknown",(qg=Ug||(Ug={})).UNDER_PREPARATION="UnderPreparation",qg.NORMAL_OPERATION="NormalOperation",qg.PRINTING_ERROR="PrintingError",qg.OUT_OF_PAPER="OutOfPaper",qg.OVERHEATED="Overheated",qg.NORMAL_HEAT="NormalHeat",qg.COVER_IS_OPEN="CoverIsOpen",qg.COVER_ERROR="CoverError",qg.CUTTER_ERROR="CutterError",qg.CUTTER_RECOVERED="CutterRecovered",qg.FIRMWARE_UPDATING="FirmwareUpdating",qg.FIRMWARE_UPDATE_FAILED="FirmwareUpdateFailed",qg.PRINTER_NOT_DETECTED="PrinterNotDetected",qg.BLACK_MARK_NOT_DETECTED="BlackMarkNotDetected",(Wg=Hg||(Hg={})).NO_PRINTER="NoPrinter",Wg.CHECK_PRINTER="CheckPrinter",Wg.FOUND_PRINTER="FoundPrinter",Wg.LOST_PRINTER="LostPrinter",(Kg=$g||($g={})).LEFT="left",Kg.CENTER="center",Kg.RIGHT="right",(Gg=Yg||(Yg={})).GENERAL="General",Gg.BLACK_MARK="BlackMark",Gg.LABEL="Label",Gg.UNKNOWN="Unknown",(Qg=Xg||(Xg={})).ENABLE_DOUBLE_WIDTH="EnableDoubleWidth",Qg.ENABLE_DOUBLE_HEIGHT="EnableDoubleHeight",Qg.ENABLE_BOLD="EnableBold",Qg.ENABLE_UNDERLINE="EnableUnderline",Qg.ENABLE_ANTI_WHITE="EnableAntiWhite",Qg.ENABLE_STRIKETHROUGH="EnableStrikethrough",Qg.ENABLE_ITALIC="EnableItalic",Qg.ENABLE_INVERT="EnableInvert",Qg.SET_TEXT_RIGHT_SPACING="SetTextRightSpacing",Qg.SET_RELATIVE_POSITION="SetRelativePosition",Qg.SET_ABSOLUTE_POSITION="SetAbsolutePosition",Qg.SET_LINE_SPACING="SetLineSpacing",Qg.SET_LEFT_SPACING="SetLeftSpacing",Qg.SET_STRIKETHROUGH_STYLE="SetStrikethroughStyle",(Zg=Jg||(Jg={})).ENABLE="Enable",Zg.DISABLE="Disable",(tv=ev||(ev={})).INITIALIZATION="Initialization",tv.WAKE_UP="WakeUp",tv.HIBERNATE="Hibernate",tv.CLEAR="Clear",(av=nv||(nv={})).UPC_A="UPC_A",av.UPC_E="UPC_E",av.EAN_13="EAN_13",av.EAN_8="EAN_8",av.CODE_39="CODE_39",av.ITF="ITF",av.CODABAR="CODABAR",av.CODE_93="CODE_93",av.CODE_128="CODE_128",av.QR_CODE="QR_CODE",(rv=sv||(sv={})).UPC_A="UPC_A",rv.UPC_E="UPC_E",rv.EAN_13="EAN_13",rv.EAN_8="EAN_8",rv.CODE_39="CODE_39",rv.ITF="ITF",rv.CODABAR="CODABAR",rv.CODE_93="CODE_93",rv.CODE_128="CODE_128",(ov=iv||(iv={})).NO_TEXT="NoText",ov.ABOVE="Above",ov.BELOW="Below",ov.ABOVE_AND_BELOW="AboveAndBelow",(cv=lv||(lv={})).QR_CODE="QR_CODE",cv.PDF417="PDF417",cv.DataMatrix="DATA_MATRIX",(dv=uv||(uv={})).DEFAULT="Default",dv.BLACK_AND_WHITE="blackAndWhite",dv.GRAYSCALE="Grayscale";const hv=Ci("SunmiPrinter",{web:()=>yi(()=>import("./web-BsVKNR10.js"),[]).then(e=>new e.SunmiPrinterWeb)}),pv=ki.isNativePlatform(),fv="android"===ki.getPlatform();let mv=!1;const gv=384,vv=10,yv=["/xash_logo_blag.jpg","/xash_logo_blag.png","/xash_logo_black.jpg","/xash_logo_black.png"];function bv(e){const t=parseFloat(null!=e?e:0);return Number.isFinite(t)?t.toFixed(2):"0.00"}async function xv(e){try{const t=await fetch(e);if(!t.ok)return null;return function(e){const t=new Uint8Array(e);let n="";for(let a=0;a<t.length;a+=32768){const e=t.subarray(a,a+32768);n+=String.fromCharCode(...e)}return btoa(n)}(await t.arrayBuffer())}catch(uV){return null}}async function wv(e,t,n=1800){try{return await Promise.race([t(),new Promise((t,a)=>setTimeout(()=>a(new Error("".concat(e," timeout"))),n))])}catch(a){return console.log("[Print] ".concat(e," failed:"),(null==a?void 0:a.message)||a),null}}function _v(e){if("undefined"==typeof document)return null;const t=document.createElement("canvas");t.width=gv,t.height=Math.max(1,Math.ceil(e));const n=t.getContext("2d");return n?(n.fillStyle="#FFFFFF",n.fillRect(0,0,t.width,t.height),n.fillStyle="#000000",n.textBaseline="top",n.imageSmoothingEnabled=!1,{canvas:t,ctx:n}):null}function kv(e,t={}){const{align:n="left",fontSize:a=26,fontWeight:s=700,paddingX:r=vv,paddingY:i=6}=t,o=_v(64);if(!o)return null;o.ctx.font="".concat(s," ").concat(a,"px sans-serif");const l=gv-2*r,c=function(e,t,n){const a=[],s=String(null!=t?t:"").split("\n");for(const r of s){const t=r.trim().split(/\s+/).filter(Boolean);if(!t.length){a.push("");continue}let s=t[0];for(let r=1;r<t.length;r+=1){const i="".concat(s," ").concat(t[r]);e.measureText(i).width<=n?s=i:(a.push(s),s=t[r])}a.push(s)}return a.length?a:[""]}(o.ctx,e,l),u=Math.ceil(1.35*a),d=_v(c.length*u+2*i);if(!d)return null;const{canvas:h,ctx:p}=d;p.font="".concat(s," ").concat(a,"px sans-serif");for(let f=0;f<c.length;f+=1){const e=c[f],t=i+f*u;"center"===n?(p.textAlign="center",p.fillText(e,192,t)):"right"===n?(p.textAlign="right",p.fillText(e,gv-r,t)):(p.textAlign="left",p.fillText(e,r,t))}return h.toDataURL("image/png").split(",")[1]}function Cv(e,t,n={}){const{fontSize:a=24,fontWeight:s=700,paddingX:r=vv,paddingY:i=6,gap:o=10}=n,l=_v(Math.ceil(1.5*a)+2*i);if(!l)return null;const{canvas:c,ctx:u}=l;u.font="".concat(s," ").concat(a,"px sans-serif");const d=String(null!=t?t:""),h=u.measureText(d).width,p=Math.max(40,gv-2*r-h-o),f=function(e,t,n){let a=String(null!=t?t:"");if(e.measureText(a).width<=n)return a;const s="...";for(;a.length>0;)if(a=a.slice(0,-1),e.measureText(a+s).width<=n)return a+s;return s}(u,String(null!=e?e:""),p),m=i;return u.textAlign="left",u.fillText(f,r,m),u.textAlign="right",u.fillText(d,gv-r,m),c.toDataURL("image/png").split(",")[1]}function Sv(e,t={},n){const a=kv(e,t);a?n("printBitmapCustom line",()=>hv.printBitmapCustom({bitmap:a,type:uv.BLACK_AND_WHITE})):n("printText line fallback",()=>hv.printText({text:"".concat(e,"\n")}))}function Ev(e,t,n={},a){const s=Cv(e,t,n);s?a("printBitmapCustom row",()=>hv.printBitmapCustom({bitmap:s,type:uv.BLACK_AND_WHITE})):a("printText row fallback",()=>hv.printText({text:"".concat(e," ").concat(t,"\n")}))}function Pv(){return pv&&fv}async function Av(){if(console.log("[Print] initSunmiPrinter called, bound:",mv),mv)return console.log("[Print] Printer already bound, skipping"),!0;if(!Pv())return console.log("[Print] Sunmi printer not available (not Android native)"),!1;try{console.log("[Print] Binding Sunmi printer service..."),await wv("bindService",()=>hv.bindService(),2e3),mv=!0,console.log("[Print] Sunmi printer service bound successfully");try{const e=await wv("getDeviceName",()=>hv.getDeviceName(),1200);console.log("[Print] Sunmi Device:",(null==e?void 0:e.name)||"Unknown")}catch(uV){console.log("[Print] Could not get device name:",uV.message)}try{const e=await wv("updatePrinterState(init)",()=>hv.updatePrinterState(),1200);console.log("[Print] Sunmi Printer Status:",null==e?void 0:e.status,"code:",null==e?void 0:e.code)}catch(uV){console.log("[Print] Could not get printer status:",uV.message)}return!0}catch(e){return console.log("[Print] Failed to bind Sunmi printer:",e.message||e),mv=!1,!1}}let Ov=!1;async function Dv(e){if(console.log("[Print] printReceipt() called with:",e),!Ov){Ov=!0;try{await async function(){if(console.log("[Print Diagnostics] ===== Starting Print Diagnostics ====="),console.log("[Print Diagnostics] Platform:",ki.getPlatform()),console.log("[Print Diagnostics] Is Native:",pv),console.log("[Print Diagnostics] Is Android:",fv),"undefined"!=typeof window&&window.Capacitor&&window.Capacitor.Plugins){const e=Object.keys(window.Capacitor.Plugins);console.log("[Print Diagnostics] Registered Capacitor Plugins:",e.join(", ")||"none")}if(Pv()){console.log("[Print Diagnostics] Attempting to bind printer service...");try{if(await Av()){console.log("[Print Diagnostics] Printer service bound!");try{const e=await wv("updatePrinterState(diagnostics)",()=>hv.updatePrinterState(),1500);console.log("[Print Diagnostics] Printer status:",null==e?void 0:e.status,"(code:",null==e?void 0:e.code,")")}catch(uV){console.log("[Print Diagnostics] Could not get status:",uV.message)}}else console.log("[Print Diagnostics] Failed to bind printer service")}catch(uV){console.log("[Print Diagnostics] Sunmi printer error:",uV.message||uV)}}else console.log("[Print Diagnostics] Skipping Sunmi printer (not Android native)");console.log("[Print Diagnostics] ===== End Print Diagnostics =====")}()}catch(uV){console.log("[Print] Diagnostics error:",uV.message||uV)}}if(!e||!e.receipt_number)throw new Error("Invalid receipt data");return pv?async function(e){if(console.log("[Print] Starting native receipt print..."),!Pv())return void console.log("[Print] Sunmi printer not available - skipping print");console.log("[Print] Calling initSunmiPrinter...");const t=await Av();if(console.log("[Print] initSunmiPrinter returned:",t),!t)return void console.log("[Print] Failed to bind Sunmi printer - skipping print");try{const t=e.created_at?new Date(e.created_at):new Date,n=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear(),r=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),o="".concat(n,"-").concat(a,"-").concat(s," ").concat(r,":").concat(i),l="cash"===e.payment_method?"Cash":"card"===e.payment_method?"Card":"mobile_money"===e.payment_method?"Mobile Money":"split"===e.payment_method?"Split Payment":e.payment_method||"Cash",c=bv(e.subtotal||e.total_amount||0),u=bv(e.total_amount||0),d=bv(e.amount_paid||e.total_amount||0);console.log("[Print] Printing receipt in bitmap-enhanced mode...");const h={count:0},p=(e,t)=>{h.count+=1,function(e,t){try{const n=t();n&&"function"==typeof n.catch&&n.catch(t=>{console.log("[Print] ".concat(e," failed:"),(null==t?void 0:t.message)||t)})}catch(n){console.log("[Print] ".concat(e," failed:"),(null==n?void 0:n.message)||n)}}(e,t)};await wv("enterPrinterBuffer",()=>hv.enterPrinterBuffer({clean:!0}),2e3),p("printerInit",()=>hv.printerInit()),p("setBold",()=>hv.setBold({enable:!0})),p("setFontSize",()=>hv.setFontSize({size:28})),p("setAlignment left",()=>hv.setAlignment({alignment:$g.LEFT}));const f=await async function(e){let t=null;for(const n of yv)if(t=await xv(n),t)break;return!!t&&(e("setAlignment center",()=>hv.setAlignment({alignment:$g.CENTER})),e("printBitmapCustom logo",()=>hv.printBitmapCustom({bitmap:t,type:uv.BLACK_AND_WHITE})),e("lineWrap logo",()=>hv.lineWrap({lines:1})),e("setAlignment left",()=>hv.setAlignment({alignment:$g.LEFT})),!0)}(p);if(f||Sv("XASH POS",{align:"center",fontSize:34,fontWeight:800},p),e.branch_name&&Sv(e.branch_name,{align:"center",fontSize:24,fontWeight:700},p),Sv("--------------------------------",{fontSize:22,fontWeight:700},p),Ev("Receipt #",e.receipt_number,{fontSize:22,fontWeight:700},p),Ev("Date",o,{fontSize:22,fontWeight:700},p),Sv("--------------------------------",{fontSize:22,fontWeight:700},p),Sv("ITEMS",{fontSize:24,fontWeight:800},p),Sv("--------------------------------",{fontSize:22,fontWeight:700},p),e.items&&e.items.length>0)for(const g of e.items){const e=g.product_name||g.name||"Item",t=parseFloat(g.quantity||0).toFixed(0),n=bv(g.unit_price||g.price||0),a=bv(g.total||(g.quantity||0)*(g.unit_price||g.price||0));Sv(e,{fontSize:22,fontWeight:700},p),Ev("".concat(t," x $").concat(n),"$".concat(a),{fontSize:21,fontWeight:700},p)}if(Sv("--------------------------------",{fontSize:22,fontWeight:700},p),Ev("Subtotal","$".concat(c),{fontSize:22,fontWeight:700},p),e.discount_amount&&parseFloat(e.discount_amount)>0){const t=bv(e.discount_amount);Ev("Discount","-$".concat(t),{fontSize:22,fontWeight:700},p)}if(Ev("TOTAL","$".concat(u),{fontSize:28,fontWeight:800},p),Sv("--------------------------------",{fontSize:22,fontWeight:700},p),Sv("PAYMENT",{fontSize:24,fontWeight:800},p),Ev("Method",l,{fontSize:22,fontWeight:700},p),e.payments&&e.payments.length>0)for(const g of e.payments){Ev("cash"===g.method?"Cash":"ecocash"===g.method?"Ecocash":"swipe"===g.method?"Card":g.method,"$".concat(bv(g.amount||0)),{fontSize:22,fontWeight:700},p)}else Ev("Paid","$".concat(d),{fontSize:22,fontWeight:700},p);e.change_amount&&parseFloat(e.change_amount)>0&&Ev("Change","$".concat(bv(e.change_amount)),{fontSize:22,fontWeight:700},p),Sv("--------------------------------",{fontSize:22,fontWeight:700},p),e.customer_name&&Ev("Customer",e.customer_name,{fontSize:22,fontWeight:700},p),(e.cashier_name||e.user_name)&&Ev("Cashier",e.cashier_name||e.user_name,{fontSize:22,fontWeight:700},p),p("lineWrap thanks",()=>hv.lineWrap({lines:1})),Sv("Thank you for your purchase!",{align:"center",fontSize:24,fontWeight:800},p),Sv("Visit us again",{align:"center",fontSize:22,fontWeight:700},p),p("lineWrap end",()=>hv.lineWrap({lines:4}));const m=Math.min(2e3,Math.max(300,10*h.count));await new Promise(e=>setTimeout(e,m)),await wv("commitPrinterBuffer",()=>hv.commitPrinterBuffer(),2500),console.log("[Print] Buffer committed - print should start!"),console.log("[Print] Native receipt print completed!")}catch(n){console.log("[Print] Native receipt print failed:",n.message||n),console.log("[Print] Error stack:",n.stack||"no stack")}}(e):function(e){console.log("[Print] Web receipt print (development mode)"),console.log("========== RECEIPT =========="),console.log("Receipt #: ".concat(e.receipt_number)),console.log("Date: ".concat(e.created_at||(new Date).toISOString())),console.log("-----------------------------"),console.log("ITEMS:"),e.items&&e.items.length>0&&e.items.forEach(e=>{console.log("  ".concat(e.product_name||e.name)),console.log("  ".concat(e.quantity," x $").concat(e.unit_price," = $").concat(e.total))});console.log("-----------------------------"),console.log("Subtotal: $".concat(e.subtotal||e.total_amount)),e.discount_amount&&console.log("Discount: -$".concat(e.discount_amount));console.log("TOTAL: $".concat(e.total_amount)),console.log("-----------------------------"),console.log("Payment: ".concat(e.payment_method)),console.log("Paid: $".concat(e.amount_paid)),e.change_amount&&console.log("Change: $".concat(e.change_amount));return console.log("============================="),Promise.resolve()}(e)}const Mv={class:"min-h-screen bg-page flex flex-col"},Tv={class:"bg-primary-dark text-white px-4 py-3 pb-3 flex items-center justify-between sticky top-0 z-40 pt-safe"},Iv={class:"flex items-center"},jv={class:"flex items-center"},Lv={key:0,class:"absolute bg-danger text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",style:{top:"-4px",right:"-4px"}},Fv={class:"px-4 py-3 bg-white shadow-sm"},Nv={class:"flex items-center"},Rv={class:"relative flex-1 mr-2"},Bv={class:"flex items-center gap-2"},Vv={class:"flex items-center bg-gray-100 rounded-lg p-1"},zv=["disabled"],Uv={class:"px-4 py-2 bg-white border-b overflow-x-auto"},qv={class:"flex"},Hv=["onClick"],Wv={class:"flex-1 p-4 overflow-y-auto pb-24"},$v={key:0,class:"flex items-center justify-center h-64"},Kv={key:1,class:"flex flex-col items-center justify-center h-64 text-gray-500"},Yv=["disabled"],Gv={key:2,class:"flex flex-wrap",style:{margin:"-0.5rem"}},Xv=["onClick"],Qv={class:"bg-gray-100 rounded-lg mb-2 flex items-center justify-center overflow-hidden relative p-2",style:{"aspect-ratio":"1"}},Jv=["src","alt","data-product-id"],Zv={key:1,class:"fas fa-box text-4xl icon-gray"},ey={key:2,class:"absolute inset-0 flex items-center justify-center bg-overlay"},ty={class:"text-sm font-medium text-gray-800 truncate"},ny={class:"flex items-center justify-between mt-1"},ay={class:"text-primary font-bold text-sm md:text-base"},sy={key:3,class:"space-y-3"},ry=["onClick"],iy={class:"flex"},oy={class:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0 p-1 mr-3 relative"},ly=["src","alt","data-product-id"],cy={key:1,class:"fas fa-box text-2xl icon-gray"},uy={key:2,class:"absolute inset-0 flex items-center justify-center bg-overlay/30"},dy={class:"flex-1 min-w-0"},hy={class:"flex justify-between items-start"},py={class:"font-semibold text-gray-800 text-sm truncate"},fy={class:"text-xs text-gray-500"},my={class:"text-right"},gy={class:"text-primary font-bold text-base"},vy={key:0,class:"text-[10px] text-gray-400 uppercase tracking-wider"},yy={class:"flex items-center justify-between mt-2"},by={key:1,class:"text-[10px] text-gray-400"},xy={key:2,class:"text-[10px] text-gray-400"},wy={key:0,class:"cart-summary-bar"},_y={class:"ml-2 px-2 py-0.5 rounded-full text-sm text-white bg-success"},ky={key:0,class:"fixed inset-0 z-50"},Cy={class:"absolute right-0 top-0 bottom-0 w-full bg-white shadow-xl flex flex-col",style:{"max-width":"28rem"}},Sy={class:"bg-primary-dark text-white px-4 py-3 flex items-center justify-between"},Ey={class:"flex-1 overflow-y-auto p-4"},Py={key:0,class:"flex flex-col items-center justify-center h-full text-gray-500"},Ay={key:1},Oy={class:"flex items-start justify-between mb-2"},Dy={class:"flex-1"},My={class:"font-medium text-gray-800"},Ty={class:"text-sm text-gray-500"},Iy=["onClick"],jy={class:"flex items-center justify-between"},Ly={class:"flex items-center"},Fy=["onClick"],Ny=["value","onChange","step"],Ry=["onClick"],By={class:"font-bold text-primary"},Vy={key:0,class:"border-t p-4"},zy={class:"flex justify-between text-sm mb-3"},Uy={class:"font-medium"},qy={class:"flex justify-between text-lg font-bold mb-3"},Hy={class:"text-primary"},Wy={class:"flex"},$y={key:0,class:"fixed inset-0 z-50"},Ky={class:"absolute right-0 top-0 bottom-0 w-full bg-white shadow-xl flex flex-col",style:{"max-width":"28rem"}},Yy={class:"bg-header text-white px-6 py-4 flex items-center justify-between"},Gy={class:"text-sm text-primary-light mt-0.5"},Xy={class:"flex-1 overflow-y-auto p-6"},Qy={class:"bg-primary-light rounded-lg p-5 border-2 mb-6 border-success"},Jy={class:"text-4xl font-bold text-primary-dark"},Zy={class:"mb-6"},eb={class:"flex items-center justify-between mb-3"},tb={key:0,class:"flex flex-wrap",style:{margin:"-0.375rem"}},nb=["onClick"],ab={class:"text-xs font-semibold"},sb={key:1,class:"space-y-3"},rb={class:"flex items-center mb-2"},ib=["onUpdate:modelValue"],ob=["onClick"],lb={class:"relative"},cb=["onUpdate:modelValue"],ub={class:"bg-blue-50 rounded-lg p-3 space-y-1 text-sm"},db={class:"flex justify-between font-medium text-blue-900"},hb={class:"flex justify-between text-blue-700"},pb={key:0},fb={class:"relative"},mb={key:1,class:"bg-yellow-50 rounded-lg p-5 border-2 border-yellow-200 mb-6"},gb={class:"text-4xl font-bold text-yellow-800"},vb={key:2,class:"bg-danger-light border-2 text-danger rounded-lg p-4 flex items-start mb-6",style:{"border-color":"#dc2626"}},yb={class:"text-sm font-medium"},bb={class:"border-t bg-gray-100 p-6"},xb={class:"flex"},wb=["disabled"],_b=["disabled"],kb={key:0,class:"flex items-center justify-center"},Cb={key:1,class:"flex items-center justify-center"},Sb={key:0,class:"modal-backdrop"},Eb={class:"modal-content"},Pb={key:0,class:"mb-4"},Ab={class:"flex items-center mb-3"},Ob={class:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden p-2 mr-3",style:{"flex-shrink":"0"}},Db=["src","alt","data-product-id"],Mb={key:1,class:"fas fa-box text-2xl icon-gray"},Tb={class:"flex-1"},Ib={class:"font-bold text-gray-800"},jb={class:"text-primary font-bold"},Lb={key:0,class:"text-xs text-gray-500"},Fb={key:1,class:"mb-4"},Nb={class:"flex flex-wrap",style:{margin:"-0.25rem"}},Rb=["onClick"],Bb={class:"flex items-baseline justify-between"},Vb={class:"mb-4"},zb={class:"flex items-center justify-center"},Ub=["step"],qb={class:"p-3 bg-primary-light rounded-lg mb-4"},Hb={class:"flex justify-between items-center"},Wb={class:"text-2xl font-bold text-primary-dark"},$b={class:"flex"},Kb=["disabled"],Yb={key:0,class:"modal-backdrop"},Gb={class:"modal-content text-center"},Xb={class:"text-gray-500 mb-4"},Qb={class:"p-4 bg-gray-100 rounded-lg mb-4"},Jb={class:"text-2xl font-bold text-primary"},Zb={class:"flex gap-3"},ex={key:1,class:"flex-1 py-3 bg-green-50 text-green-700 rounded-lg text-sm font-medium flex items-center justify-center"},tx={key:0,class:"modal-backdrop",style:{"z-index":"60"}},nx={class:"modal-content"},ax={class:"space-y-3"},sx={class:"flex gap-3"},rx={class:"flex-1"},ix={class:"flex-1"},ox={key:0,class:"mt-3 bg-red-50 border border-red-200 text-red-700 rounded-lg p-3 text-sm"},lx={class:"flex gap-3 mt-4"},cx=["disabled"],ux=["disabled"],dx={key:0,class:"flex items-center justify-center"},hx={key:1,class:"flex items-center justify-center"},px={__name:"sell",setup(e){let t=null;async function n(e=1e3,n=150,a=.5){try{t||(t=new(window.AudioContext||window.webkitAudioContext)),"suspended"===t.state&&await t.resume();const s=t.createOscillator(),r=t.createGain();s.connect(r),r.connect(t.destination),s.frequency.value=e,s.type="square",r.gain.value=a,s.start(),setTimeout(()=>{s.stop()},n),console.log("[POS] Beep played:",e,"Hz")}catch(uV){console.log("[POS] Could not play beep:",uV.message)}}const a=Cp(),s=Fh(),r=vp();kp();const i=_p(),{getProductImageUrl:o}=hg(),{scan:l,isScanning:c,initialize:u,initSunmiScanner:d,startSunmiListener:h,stopSunmiListener:p}=Bg(),f="https://pos-dev.xash.co.zw/api";function m(e){return x.value[e]||null}function g(e){const t=e.target.getAttribute("data-product-id");t&&(w.value[t]=!0)}const v=At(!0),y=At([]),b=At([]),x=At({}),w=At({}),_=At(""),k=At(null),C=At(!1),S=At(!1),E=At(!1),P=At(!1);At(!1);const A=At(localStorage.getItem("pos_view_mode")||"grid");function O(e){A.value=e,localStorage.setItem("pos_view_mode",e)}const D=At(null),M=At(null),T=At(1),I=At("cash"),j=At(0),L=At(!1),F=At(""),N=At(""),R=At(0),B=At(null),V=At(!1),z=At(!1),U=At(!1),q=At(""),H=At({phone:"",email:"",first_name:"",last_name:""}),W=At(!1),$=At([{method:"cash",amount:0}]),K=[{value:"cash",label:"Cash",icon:"fas fa-money-bill"},{value:"card",label:"Card",icon:"fas fa-credit-card"},{value:"mobile_money",label:"Mobile",icon:"fas fa-mobile-alt"}],G=nr(()=>$.value.reduce((e,t)=>e+(parseFloat(t.amount)||0),0)),X=nr(()=>a.totalAmount-G.value),Q=nr(()=>{var e,t,n,a,s,r;const i=parseFloat((null==(e=D.value)?void 0:e.branch_price)||(null==(t=D.value)?void 0:t.selling_price))||0,o=parseFloat(null==(n=D.value)?void 0:n.cost_price)||0;return(null==(a=D.value)?void 0:a.product_units)&&0!==D.value.product_units.length?D.value.product_units.sort((e,t)=>e.sort_order-t.sort_order).map(e=>({...e,selling_price:parseFloat(e.selling_price)||i,cost_price:parseFloat(e.cost_price)||o})):[{name:(null==(s=D.value)?void 0:s.unit)||"Piece",abbreviation:(null==(r=D.value)?void 0:r.unit)||"pc",quantity:1,selling_price:i,cost_price:o,is_default:!0}]}),J=nr(()=>{const e=parseFloat(j.value)||0,t=parseFloat(a.totalAmount)||0;return Math.max(0,e-t)}),Z=nr(()=>{let e=b.value;if(k.value&&(e=e.filter(e=>e.category_id===k.value)),_.value){const t=_.value.toLowerCase();e=e.filter(e=>{var n,a;return e.name.toLowerCase().includes(t)||(null==(n=e.sku)?void 0:n.toLowerCase().includes(t))||(null==(a=e.barcode)?void 0:a.toString().includes(t))})}return e});async function ee(e=!1){v.value=!0;try{const[t,n]=await Promise.all([i.getProducts(e),i.getCategories(e)]);b.value=t||[],y.value=n||[],await async function(e){for(const n of e)if(n.image&&n.id)try{const e=await o(n.image);e&&(x.value[n.id]=e)}catch(t){}}(b.value),0!==b.value.length||r.isOnline||s.warning("You are offline. No cached products available. Please connect to internet.")}catch(t){console.error("Failed to fetch POS data:",t),s.error("Failed to load data")}finally{v.value=!1}}async function ne(){if(_.value)try{const e=await zh.post("".concat(f,"/pos/scan-barcode"),{barcode:_.value});e.product?(addToCart(e.product),_.value=""):await ee(!0)}catch(e){await ee(!0)}}async function ae(){try{const t=await l();if(!t)return;const a=b.value.find(e=>e.barcode===t||e.plu_code===t||e.sku===t);if(a)return n(),void(se(a)?oe(a):s.error("".concat(a.name," is out of stock")));try{const e=await zh.post("".concat(f,"/pos/scan-barcode"),{barcode:t});e.product?(n(),se(e.product)?oe(e.product):s.error("".concat(e.product.name," is out of stock"))):(n(400,200,.3),s.error("Product not found for barcode: ".concat(t)),await ee(!0))}catch(e){n(400,200,.3),s.error("Product not found for barcode: ".concat(t)),await ee(!0)}}catch(t){console.error("Camera scan error:",t),s.error("Failed to scan barcode")}}function se(e){return!e.track_stock||e.stock_quantity>0}function re(){var e,t,n;return(null==(e=M.value)?void 0:e.selling_price)||(null==(t=D.value)?void 0:t.branch_price)||(null==(n=D.value)?void 0:n.selling_price)||0}function ie(){var e,t;if(!(null==(e=D.value)?void 0:e.track_stock))return 0;const n=D.value.stock_quantity||0,a=(null==(t=M.value)?void 0:t.quantity)||1;return Math.floor(n/a)}function oe(e){if(!se(e))return void s.error("".concat(e.name," is out of stock"));D.value=e;const t=e.product_units||[];t.length>0?M.value=t.find(e=>e.is_default)||t[0]:M.value={name:e.unit||"Piece",abbreviation:e.unit||"pc",quantity:1,selling_price:e.branch_price||e.selling_price||0,cost_price:e.cost_price||0,is_default:!0},T.value=e.allow_decimal_qty?.5:1,P.value=!0}function le(){P.value=!1,D.value=null,M.value=null,T.value=1}function ce(){var e;const t=(null==(e=D.value)?void 0:e.allow_decimal_qty)?.5:1;T.value=parseFloat((T.value+t).toFixed(3)),de()}function ue(){var e;const t=(null==(e=D.value)?void 0:e.allow_decimal_qty)?.5:1,n=T.value-t;n>=0&&(T.value=parseFloat(n.toFixed(3)))}function de(){var e,t,n;if(T.value<0&&(T.value=0),null==(e=D.value)?void 0:e.track_stock){const e=ie();T.value>e&&(T.value=e,s.warning("Only ".concat(e," ").concat((null==(t=M.value)?void 0:t.abbreviation)||"units"," available")))}(null==(n=D.value)?void 0:n.allow_decimal_qty)?T.value=parseFloat(parseFloat(T.value).toFixed(3)):T.value=Math.floor(T.value)}function he(){if(!D.value||!M.value||T.value<=0)return;T.value,M.value.quantity;const e=re(),t={...D.value,unit:M.value.abbreviation,unit_name:M.value.name,unit_multiplier:M.value.quantity,selling_price:e,branch_price:e,cost_price:parseFloat(M.value.cost_price)||parseFloat(D.value.cost_price)||0};a.addItem(t,T.value);const n=document.getElementById("cart-btn");if(n){const e=document.createElement("div");e.className="fixed z-[100] w-12 h-12 bg-primary rounded-full flex items-center justify-center pointer-events-none shadow-lg",e.innerHTML='<i class="fas fa-cart-plus text-lg text-white"></i>',e.style.transition="all 1s cubic-bezier(0.25, 0.1, 0.25, 1)",e.style.left="50%",e.style.top="50%",e.style.transform="translate(-50%, -50%) scale(1.2)",e.style.opacity="1",document.body.appendChild(e);const t=n.getBoundingClientRect();e.offsetHeight,setTimeout(()=>{e.style.left="".concat(t.left+t.width/2,"px"),e.style.top="".concat(t.top+t.height/2,"px"),e.style.transform="translate(-50%, -50%) scale(0.5)",e.style.opacity="0.2"},10),setTimeout(()=>{e.remove(),n.classList.add("animate-bounce-short"),setTimeout(()=>n.classList.remove("animate-bounce-short"),500)},650)}le()}function pe(e){return parseFloat(e||0).toFixed(2)}function fe(){if($.value.length<3){const e=$.value.map(e=>e.method),t=["cash","ecocash","swipe"].find(t=>!e.includes(t))||"cash";$.value.push({method:t,amount:Math.max(0,X.value)})}}function me(){$.value.forEach(e=>{e.amount<0&&(e.amount=0),e.amount=parseFloat(e.amount)||0})}function ge(){C.value=!1;const e=parseFloat(a.totalAmount)||0;j.value=e,F.value="",W.value=!1,$.value=[{method:"cash",amount:0}],S.value=!0}async function ve(){var e,t,n,i,o;const l=parseFloat(a.totalAmount)||0,c=parseFloat(W.value?G.value:j.value)||0;if(W.value){if(0!==X.value)return void(F.value="Payment allocation must equal total amount");if($.value.some(e=>!e.method||e.amount<=0))return void(F.value="All payment methods must have valid amounts")}else if(!c||c<l)return void(F.value="Amount received is less than total");if(I.value||W.value){L.value=!0,F.value="";try{let l;const h={items:a.getItemsForSubmission(),customer_id:(null==(e=a.customer)?void 0:e.id)||null,discount_amount:parseFloat(a.discountAmount)||0,notes:a.notes||null};if(W.value?(h.payment_method="split",h.amount_paid=parseFloat(G.value)||0,h.payments=$.value.map(e=>({method:e.method,amount:parseFloat(e.amount)||0}))):(h.payment_method=I.value,h.amount_paid=c),r.isOnline)try{l=await zh.post("".concat(f,"/pos/sales"),h),N.value=l.sale.receipt_number,R.value=l.sale.change_amount,B.value=l.sale.id,a.items.forEach(e=>{const t=-e.quantity*(e.unit_multiplier||1),n=b.value.findIndex(t=>t.id===e.product_id);-1!==n&&(b.value[n].stock_quantity+=t)})}catch(u){if(!(null==(t=u.message)?void 0:t.includes("Network error"))&&!u.isOffline)throw u;console.log("API call failed due to network error, falling back to offline mode"),l=await a.completeSaleOffline(I.value,j.value),N.value=l.receipt_number,R.value=l.change_amount,B.value=null,a.items.forEach(e=>{const t=-e.quantity*(e.unit_multiplier||1),n=b.value.findIndex(t=>t.id===e.product_id);-1!==n&&(b.value[n].stock_quantity+=t)}),s.warning("Network interrupted. Sale saved offline and will sync later.")}else l=await a.completeSaleOffline(I.value,j.value),N.value=l.receipt_number,R.value=l.change_amount,B.value=null,a.items.forEach(e=>{const t=-e.quantity*(e.unit_multiplier||1),n=b.value.findIndex(t=>t.id===e.product_id);-1!==n&&(b.value[n].stock_quantity+=t)}),s.warning("You are offline. Sale saved and will sync when connection is restored.");try{console.log("[POS] Attempting to print receipt...");const e={receipt_number:N.value,created_at:(new Date).toISOString(),branch_name:(null==(n=null==l?void 0:l.sale)?void 0:n.branch_name)||"",items:a.items.map(e=>({product_name:e.name,quantity:e.quantity,unit_price:e.unit_price,total:e.quantity*e.unit_price})),subtotal:a.subtotal,discount_amount:a.discountAmount,total_amount:a.totalAmount,payment_method:W.value?"split":I.value,payments:W.value?$.value:null,amount_paid:W.value?G.value:j.value,change_amount:R.value,customer_name:(null==(i=a.customer)?void 0:i.name)||null,cashier_name:(null==(o=null==l?void 0:l.sale)?void 0:o.user_name)||null};await Dv(e),console.log("[POS] Receipt printed successfully")}catch(d){console.error("[POS] Failed to print receipt:",d),s.warning("Sale completed but receipt printing failed")}S.value=!1,E.value=!0,a.clearCart()}catch(h){F.value=h.message||"Failed to complete sale",console.error("Sale completion error:",h)}finally{L.value=!1}}else F.value="Please select a payment method"}async function ye(){if(H.value.phone||H.value.email){z.value=!0,q.value="";try{const e=await zh.post("".concat(f,"/pos/customers"),H.value),t=e.customer;B.value&&(null==t?void 0:t.id)&&await zh.post("".concat(f,"/pos/sales/").concat(B.value,"/customer"),{customer_id:t.id}),U.value=!0,V.value=!1,e.existing?s.info("Existing customer linked to sale"):s.success("Customer saved and linked to sale")}catch(e){q.value=e.message||"Failed to save customer"}finally{z.value=!1}}else q.value="Please provide a phone number or email address"}async function be(){E.value=!1,j.value=0,I.value="cash",B.value=null,U.value=!1,V.value=!1,q.value="",H.value={phone:"",email:"",first_name:"",last_name:""},W.value=!1,$.value=[{method:"cash",amount:0}],async function(){try{const[e,t]=await Promise.all([i.getProducts(!0),i.getCategories(!0)]);(null==e?void 0:e.length)>0&&(b.value=e),(null==t?void 0:t.length)>0&&(y.value=t)}catch(e){console.log("Background refresh failed:",e)}}()}async function xe(e){if(console.log("[POS] Hardware scan received:",e),!e)return;const t=b.value.find(t=>t.barcode===e||t.plu_code===e||t.sku===e);if(t)return n(),void(se(t)?oe(t):s.error("".concat(t.name," is out of stock")));try{const t=await zh.post("".concat(f,"/pos/scan-barcode"),{barcode:e});t.product?(n(),se(t.product)?oe(t.product):s.error("".concat(t.product.name," is out of stock"))):(n(400,200,.3),s.error("Product not found for barcode: ".concat(e)),await ee(!0))}catch(a){n(400,200,.3),s.error("Product not found for barcode: ".concat(e)),await ee(!0)}}return Un(async()=>{ee(),u().catch(()=>{});await d()&&(console.log("[POS] Sunmi device detected, starting hardware scanner listener"),await h(xe))}),$n(()=>{p()}),(e,t)=>{const n=Jn("router-link");return bs(),ks("div",Mv,[Os("div",Tv,[Os("div",Iv,[Ds(n,{to:"/pos/dashboard",class:"p-1 mr-3"},{default:un(()=>[...t[24]||(t[24]=[Os("i",{class:"fas fa-arrow-left"},null,-1)])]),_:1}),t[25]||(t[25]=Os("h1",{class:"text-lg font-bold mr-3"},"New Sale",-1)),Ds(Bm)]),Os("div",jv,[Ds(ig),Os("button",{id:"cart-btn",onClick:t[0]||(t[0]=e=>C.value=!0),class:"relative p-2 ml-2 transition-transform duration-300"},[t[26]||(t[26]=Os("i",{class:"fas fa-shopping-cart text-xl"},null,-1)),Tt(a).itemCount>0?(bs(),ks("span",Lv,te(Tt(a).itemCount),1)):Ls("",!0)])])]),Os("div",Fv,[Os("div",Nv,[Os("div",Rv,[dn(Os("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>_.value=e),type:"text",placeholder:"Search products...",class:"w-full pl-10 pr-10 py-2.5 bg-gray-100 border-0 rounded-lg outline-none",onKeyup:fi(ne,["enter"])},null,544),[[ei,_.value]]),t[28]||(t[28]=Os("i",{class:"fas fa-search absolute left-3 text-gray-500",style:{top:"50%",transform:"translateY(-50%)"}},null,-1)),_.value?(bs(),ks("button",{key:0,onClick:t[2]||(t[2]=e=>_.value=""),class:"absolute right-3 text-gray-500",style:{top:"50%",transform:"translateY(-50%)"}},[...t[27]||(t[27]=[Os("i",{class:"fas fa-times-circle"},null,-1)])])):Ls("",!0)]),Os("div",Bv,[Os("div",Vv,[Os("button",{onClick:t[3]||(t[3]=e=>O("grid")),class:Y(["p-2 rounded-md transition-all flex items-center justify-center","grid"===A.value?"bg-white shadow-sm text-primary":"text-gray-500"])},[...t[29]||(t[29]=[Os("i",{class:"fas fa-th-large text-sm"},null,-1)])],2),Os("button",{onClick:t[4]||(t[4]=e=>O("list")),class:Y(["p-2 rounded-md transition-all flex items-center justify-center","list"===A.value?"bg-white shadow-sm text-primary":"text-gray-500"])},[...t[30]||(t[30]=[Os("i",{class:"fas fa-list text-sm"},null,-1)])],2)]),Os("button",{onClick:ae,disabled:Tt(c),class:"p-2.5 bg-primary-dark text-white rounded-lg flex items-center justify-center shadow-sm"},[Os("i",{class:Y([Tt(c)?"fas fa-spinner fa-spin":"fas fa-barcode","text-lg"])},null,2)],8,zv)])])]),Os("div",Uv,[Os("div",qv,[Os("button",{onClick:t[5]||(t[5]=e=>k.value=null),class:Y(["px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap mr-2",k.value?"bg-gray-100 text-gray-700":"bg-primary text-white"])}," All ",2),(bs(!0),ks(ps,null,aa(y.value,e=>(bs(),ks("button",{key:e.id,onClick:t=>k.value=e.id,class:Y(["px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap mr-2",k.value===e.id?"bg-primary text-white":"bg-gray-100 text-gray-700"])},te(e.name),11,Hv))),128))])]),Os("div",Wv,[v.value?(bs(),ks("div",$v,[...t[31]||(t[31]=[Os("i",{class:"fas fa-spinner fa-spin text-3xl icon-primary"},null,-1)])])):0===Z.value.length?(bs(),ks("div",Kv,[t[33]||(t[33]=Os("i",{class:"fas fa-box-open text-5xl mb-3 icon-gray"},null,-1)),t[34]||(t[34]=Os("p",{class:"mb-4"},"No products found",-1)),Os("button",{onClick:t[6]||(t[6]=e=>ee(!0)),disabled:v.value,class:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg font-medium shadow-sm hover:bg-primary-dark transition-all disabled:opacity-50"},[Os("i",{class:Y(["fas fa-sync-alt",{"fa-spin":v.value}])},null,2),t[32]||(t[32]=Os("span",null,"Refresh Products",-1))],8,Yv)])):Ls("",!0),"grid"===A.value?(bs(),ks("div",Gv,[(bs(!0),ks(ps,null,aa(Z.value,e=>(bs(),ks("div",{key:e.id,onClick:t=>se(e)&&oe(e),class:"w-1/2 sm:w-1/3 md:w-1/4 p-1"},[Os("div",{class:Y(["bg-white rounded-lg shadow p-3 h-full relative",se(e)?"cursor-pointer":"opacity-60 cursor-not-allowed"])},[Os("div",Qv,[m(e.id)?(bs(),ks("img",{key:0,src:m(e.id),alt:e.name,class:Y(["w-full h-full object-contain",!se(e)&&"grayscale"]),onError:g,"data-product-id":e.id},null,42,Jv)):Ls("",!0),!m(e.id)||w.value[e.id]?(bs(),ks("i",Zv)):Ls("",!0),se(e)?Ls("",!0):(bs(),ks("div",ey,[...t[35]||(t[35]=[Os("span",{class:"bg-danger text-white text-xs font-bold px-2 py-1 rounded"}," Out of Stock ",-1)])]))]),Os("h3",ty,te(e.name),1),Os("div",ny,[Os("span",ay,"$"+te(pe(e.branch_price||e.selling_price)),1),e.track_stock?(bs(),ks("span",{key:0,class:Y(["text-[10px] font-medium",e.stock_quantity>10?"text-primary":e.stock_quantity>0?"text-yellow-600":"text-danger"])}," Stock: "+te(Math.floor(e.stock_quantity)),3)):Ls("",!0)])],2)],8,Xv))),128))])):"list"===A.value?(bs(),ks("div",sy,[(bs(!0),ks(ps,null,aa(Z.value,e=>{var n;return bs(),ks("div",{key:e.id,onClick:t=>se(e)&&oe(e),class:Y(["bg-white rounded-lg shadow p-3 hover:shadow-md transition relative",se(e)?"cursor-pointer":"opacity-60 cursor-not-allowed"])},[Os("div",iy,[Os("div",oy,[m(e.id)?(bs(),ks("img",{key:0,src:m(e.id),alt:e.name,class:Y(["w-full h-full object-contain",!se(e)&&"grayscale"]),onError:g,"data-product-id":e.id},null,42,ly)):Ls("",!0),!m(e.id)||w.value[e.id]?(bs(),ks("i",cy)):Ls("",!0),se(e)?Ls("",!0):(bs(),ks("div",uy,[...t[36]||(t[36]=[Os("i",{class:"fas fa-ban text-danger text-lg"},null,-1)])]))]),Os("div",dy,[Os("div",hy,[Os("div",null,[Os("h3",py,te(e.name),1),Os("p",fy,te((null==(n=e.category)?void 0:n.name)||"Uncategorized"),1)]),Os("div",my,[Os("p",gy,"$"+te(pe(e.branch_price||e.selling_price)),1),e.sku?(bs(),ks("p",vy,te(e.sku),1)):Ls("",!0)])]),Os("div",yy,[e.track_stock?(bs(),ks("span",{key:0,class:Y(["text-[10px] px-2 py-0.5 rounded-full font-medium",e.stock_quantity>10?"status-success":e.stock_quantity>0?"status-pending":"status-failed"])},[t[37]||(t[37]=Os("i",{class:"fas fa-box mr-1 text-[8px]"},null,-1)),Is(" "+te(e.stock_quantity<=0?"Out of Stock":Math.floor(e.stock_quantity)+" in stock"),1)],2)):(bs(),ks("span",by,"Stock not tracked")),e.barcode?(bs(),ks("span",xy,[t[38]||(t[38]=Os("i",{class:"fas fa-barcode mr-1"},null,-1)),Is(te(e.barcode),1)])):Ls("",!0)])])])],10,ry)}),128))])):Ls("",!0)]),Tt(a).itemCount>0?(bs(),ks("div",wy,[Os("button",{onClick:t[7]||(t[7]=e=>C.value=!0),class:"cart-summary-btn"},[t[39]||(t[39]=Os("i",{class:"fas fa-shopping-cart mr-2"},null,-1)),t[40]||(t[40]=Os("span",null,"Cart",-1)),Os("span",_y,te(Tt(a).itemCount),1)]),Os("button",{onClick:ge,class:"cart-summary-btn"},[...t[41]||(t[41]=[Os("span",null,"Checkout",-1),Os("i",{class:"fas fa-arrow-right ml-2"},null,-1)])])])):Ls("",!0),Ds(gr,{name:"slide"},{default:un(()=>[C.value?(bs(),ks("div",ky,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:t[8]||(t[8]=e=>C.value=!1)}),Os("div",Cy,[Os("div",Sy,[t[43]||(t[43]=Os("h2",{class:"text-lg font-bold"},"Cart",-1)),Os("button",{onClick:t[9]||(t[9]=e=>C.value=!1),class:"p-1"},[...t[42]||(t[42]=[Os("i",{class:"fas fa-times text-xl"},null,-1)])])]),Os("div",Ey,[Tt(a).isEmpty?(bs(),ks("div",Py,[...t[44]||(t[44]=[Os("i",{class:"fas fa-shopping-cart text-5xl mb-3 icon-gray"},null,-1),Os("p",null,"Cart is empty",-1)])])):(bs(),ks("div",Ay,[(bs(!0),ks(ps,null,aa(Tt(a).items,(e,n)=>(bs(),ks("div",{key:n,class:"bg-gray-100 rounded-lg p-3 mb-3"},[Os("div",Oy,[Os("div",Dy,[Os("h3",My,te(e.name),1),Os("p",Ty,"$"+te(pe(e.unit_price))+" / "+te(e.unit_name||e.unit),1)]),Os("button",{onClick:e=>Tt(a).removeItem(n),class:"text-danger p-1"},[...t[45]||(t[45]=[Os("i",{class:"fas fa-trash-alt"},null,-1)])],8,Iy)]),Os("div",jy,[Os("div",Ly,[Os("button",{onClick:e=>Tt(a).decrementQuantity(n),class:"w-8 h-8 bg-primary-light text-primary-dark rounded-lg flex items-center justify-center"},[...t[46]||(t[46]=[Os("i",{class:"fas fa-minus"},null,-1)])],8,Fy),Os("input",{type:"number",value:e.quantity,onChange:e=>Tt(a).updateQuantity(n,parseFloat(e.target.value)),class:"w-16 text-center bg-white border rounded-lg py-1 mx-2 cart-quantity-input",step:e.allow_decimal_qty?"0.001":"1",min:"0"},null,40,Ny),Os("button",{onClick:e=>Tt(a).incrementQuantity(n),class:"w-8 h-8 bg-primary-light text-primary-dark rounded-lg flex items-center justify-center"},[...t[47]||(t[47]=[Os("i",{class:"fas fa-plus"},null,-1)])],8,Ry)]),Os("span",By," $"+te(pe(e.unit_price*e.quantity)),1)])]))),128))]))]),Tt(a).isEmpty?Ls("",!0):(bs(),ks("div",Vy,[Os("div",zy,[t[48]||(t[48]=Os("span",{class:"text-gray-500"},"Subtotal",-1)),Os("span",Uy,"$"+te(pe(Tt(a).subtotal)),1)]),Os("div",qy,[t[49]||(t[49]=Os("span",null,"Total",-1)),Os("span",Hy,"$"+te(pe(Tt(a).totalAmount)),1)]),Os("div",Wy,[Os("button",{onClick:t[10]||(t[10]=e=>Tt(a).clearCart()),class:"flex-1 py-3 btn btn-secondary mr-2"}," Clear "),Os("button",{onClick:ge,class:"flex-1 py-3 btn btn-primary ml-2"}," Checkout ")])]))])])):Ls("",!0)]),_:1}),Ds(gr,{name:"slide"},{default:un(()=>[S.value?(bs(),ks("div",$y,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:t[11]||(t[11]=e=>S.value=!1)}),Os("div",Ky,[Os("div",Yy,[Os("div",null,[t[50]||(t[50]=Os("h2",{class:"text-xl font-bold"},"Complete Payment",-1)),Os("p",Gy,te(Tt(a).itemCount)+" items",1)]),Os("button",{onClick:t[12]||(t[12]=e=>S.value=!1),class:"p-2 bg-overlay-light rounded-lg"},[...t[51]||(t[51]=[Os("i",{class:"fas fa-times text-xl"},null,-1)])])]),Os("div",Xy,[Os("div",Qy,[t[52]||(t[52]=Os("p",{class:"text-sm text-primary-dark font-medium mb-1"},"Total Amount",-1)),Os("p",Jy,"$"+te(pe(Tt(a).totalAmount)),1)]),Os("div",Zy,[Os("div",eb,[t[53]||(t[53]=Os("label",{class:"block text-sm font-semibold text-gray-700"},"Payment Type",-1)),Os("button",{onClick:t[13]||(t[13]=e=>W.value=!W.value),class:"text-xs font-medium text-primary flex items-center"},[Os("i",{class:Y(["fas mr-1",W.value?"fa-minus-circle":"fa-plus-circle"])},null,2),Is(" "+te(W.value?"Single Payment":"Split Payment"),1)])]),W.value?(bs(),ks("div",sb,[(bs(!0),ks(ps,null,aa($.value,(e,n)=>(bs(),ks("div",{key:n,class:"bg-gray-50 rounded-lg p-3 border-2 border-gray-200"},[Os("div",rb,[dn(Os("select",{"onUpdate:modelValue":t=>e.method=t,class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary outline-none"},[...t[54]||(t[54]=[Os("option",{value:"cash"}," Cash",-1),Os("option",{value:"ecocash"}," Ecocash",-1),Os("option",{value:"swipe"}," Card/Swipe",-1)])],8,ib),[[si,e.method]]),$.value.length>1?(bs(),ks("button",{key:0,onClick:e=>function(e){$.value.length>1&&$.value.splice(e,1)}(n),class:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition ml-2"},[...t[55]||(t[55]=[Os("i",{class:"fas fa-trash-alt"},null,-1)])],8,ob)):Ls("",!0)]),Os("div",lb,[t[56]||(t[56]=Os("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-lg font-bold text-gray-400"},"$",-1)),dn(Os("input",{"onUpdate:modelValue":t=>e.amount=t,type:"number",step:"0.01",min:"0",class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg text-lg font-bold focus:ring-2 focus:ring-primary outline-none",placeholder:"0.00",onInput:me},null,40,cb),[[ei,e.amount,void 0,{number:!0}]])])]))),128)),$.value.length<3?(bs(),ks("button",{key:0,onClick:fe,class:"w-full py-3 border-2 border-dashed border-gray-300 text-gray-600 rounded-lg font-medium hover:border-primary hover:text-primary-dark transition flex items-center justify-center"},[...t[57]||(t[57]=[Os("i",{class:"fas fa-plus-circle mr-2"},null,-1),Is(" Add Payment Method ",-1)])])):Ls("",!0),Os("div",ub,[Os("div",db,[t[58]||(t[58]=Os("span",null,"Total Amount:",-1)),Os("span",null,"$"+te(pe(Tt(a).totalAmount)),1)]),Os("div",hb,[t[59]||(t[59]=Os("span",null,"Allocated:",-1)),Os("span",null,"$"+te(pe(G.value)),1)]),Os("div",{class:Y(["flex justify-between font-bold",0===X.value?"text-success":"text-danger"])},[t[60]||(t[60]=Os("span",null,"Remaining:",-1)),Os("span",null,"$"+te(pe(X.value)),1)],2)])])):(bs(),ks("div",tb,[(bs(),ks(ps,null,aa(K,e=>Os("div",{key:e.value,class:"w-1/3 p-1"},[Os("button",{onClick:t=>I.value=e.value,class:Y(["w-full p-4 rounded-lg border-2 text-center",I.value===e.value?"border-primary bg-primary text-white shadow-lg":"border-gray-200 text-gray-700 bg-white"])},[Os("i",{class:Y([e.icon,"text-2xl mb-2 block"])},null,2),Os("p",ab,te(e.label),1)],10,nb)])),64))]))]),W.value?Ls("",!0):(bs(),ks("div",pb,[t[62]||(t[62]=Os("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"Amount Received",-1)),Os("div",fb,[t[61]||(t[61]=Os("span",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-gray-400"},"$",-1)),dn(Os("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>j.value=e),type:"number",step:"0.01",min:"0",class:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl text-2xl font-bold focus:ring-2 focus:ring-primary focus:border-primary outline-none transition amount-input",placeholder:"0.00"},null,512),[[ei,j.value,void 0,{number:!0}]])])])),J.value>0?(bs(),ks("div",mb,[t[63]||(t[63]=Os("p",{class:"text-sm text-yellow-700 font-medium mb-1"},"Change Due",-1)),Os("p",gb,"$"+te(pe(J.value)),1)])):Ls("",!0),F.value?(bs(),ks("div",vb,[t[64]||(t[64]=Os("i",{class:"fas fa-exclamation-circle text-xl mr-3",style:{"margin-top":"2px"}},null,-1)),Os("p",yb,te(F.value),1)])):Ls("",!0)]),Os("div",bb,[Os("div",xb,[Os("button",{onClick:t[15]||(t[15]=e=>S.value=!1),class:"flex-1 py-4 btn btn-secondary mr-2",disabled:L.value}," Cancel ",8,wb),Os("button",{onClick:ve,disabled:L.value||(W.value?0!==X.value:!j.value||parseFloat(j.value)<parseFloat(Tt(a).totalAmount||0)),class:"flex-1 py-4 btn btn-primary ml-2"},[L.value?(bs(),ks("span",kb,[...t[65]||(t[65]=[Os("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),Is(" Processing... ",-1)])])):(bs(),ks("span",Cb,[...t[66]||(t[66]=[Os("i",{class:"fas fa-check-circle mr-2"},null,-1),Is(" Complete Sale ",-1)])]))],8,_b)])])])])):Ls("",!0)]),_:1}),Ds(gr,{name:"fade"},{default:un(()=>{var e,n;return[P.value?(bs(),ks("div",Sb,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:le}),Os("div",Eb,[D.value?(bs(),ks("div",Pb,[Os("div",Ab,[Os("div",Ob,[m(D.value.id)?(bs(),ks("img",{key:0,src:m(D.value.id),alt:D.value.name,class:"w-full h-full object-contain",onError:g,"data-product-id":D.value.id},null,40,Db)):Ls("",!0),!m(D.value.id)||w.value[D.value.id]?(bs(),ks("i",Mb)):Ls("",!0)]),Os("div",Tb,[Os("h3",Ib,te(D.value.name),1),Os("p",jb,"$"+te(pe(re())),1),D.value.track_stock?(bs(),ks("p",Lb," Available: "+te(ie())+" "+te((null==(e=M.value)?void 0:e.abbreviation)||D.value.unit),1)):Ls("",!0)])])])):Ls("",!0),D.value&&Q.value.length>1?(bs(),ks("div",Fb,[t[67]||(t[67]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Unit",-1)),Os("div",Nb,[(bs(!0),ks(ps,null,aa(Q.value,e=>{var t,n,a;return bs(),ks("button",{key:e.abbreviation,onClick:t=>function(e){var t;M.value=e,T.value=(null==(t=D.value)?void 0:t.allow_decimal_qty)?.5:1}(e),class:Y(["p-2 m-1 rounded-lg border-2 text-left flex-1",(null==(t=M.value)?void 0:t.abbreviation)===e.abbreviation?"border-primary-dark bg-primary-dark":"border-gray-200 bg-white"]),style:{"min-width":"120px"}},[Os("div",Bb,[Os("span",{class:Y(["font-medium text-sm",(null==(n=M.value)?void 0:n.abbreviation)===e.abbreviation?"text-white":"text-gray-800"])},te(e.name)+" ("+te(e.quantity)+")",3),Os("span",{class:Y(["text-sm font-bold ml-2",(null==(a=M.value)?void 0:a.abbreviation)===e.abbreviation?"text-white":"text-primary"])},"$"+te(pe(e.selling_price)),3)])],10,Rb)}),128))])])):Ls("",!0),Os("div",Vb,[t[70]||(t[70]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Quantity",-1)),Os("div",zb,[Os("button",{onClick:ue,class:"w-12 h-12 bg-danger text-white rounded-lg flex items-center justify-center text-xl font-bold"},[...t[68]||(t[68]=[Os("i",{class:"fas fa-minus"},null,-1)])]),dn(Os("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>T.value=e),type:"number",step:(null==(n=D.value)?void 0:n.allow_decimal_qty)?"0.01":"1",min:"0",class:"w-24 text-center text-2xl font-bold bg-gray-100 border-2 border-gray-300 rounded-lg py-3 mx-3 outline-none quantity-input",onInput:de},null,40,Ub),[[ei,T.value,void 0,{number:!0}]]),Os("button",{onClick:ce,class:"w-12 h-12 bg-primary text-white rounded-lg flex items-center justify-center text-xl font-bold"},[...t[69]||(t[69]=[Os("i",{class:"fas fa-plus"},null,-1)])])])]),Os("div",qb,[Os("div",Hb,[t[71]||(t[71]=Os("span",{class:"text-gray-700"},"Total",-1)),Os("span",Wb," $"+te(pe(re()*T.value)),1)])]),Os("div",$b,[Os("button",{onClick:le,class:"flex-1 py-3 btn btn-secondary mr-2"}," Cancel "),Os("button",{onClick:he,disabled:T.value<=0,class:"flex-1 py-3 btn btn-primary ml-2"}," Add to Cart ",8,Kb)])])])):Ls("",!0)]}),_:1}),Ds(gr,{name:"fade"},{default:un(()=>[E.value?(bs(),ks("div",Yb,[t[77]||(t[77]=Os("div",{class:"absolute inset-0 bg-overlay"},null,-1)),Os("div",Gb,[t[75]||(t[75]=Os("div",{class:"modal-icon modal-icon-primary",style:{width:"80px",height:"80px"}},[Os("i",{class:"fas fa-check text-4xl"})],-1)),t[76]||(t[76]=Os("h2",{class:"text-xl font-bold text-gray-800 mb-2"},"Sale Complete!",-1)),Os("p",Xb,"Receipt #"+te(N.value),1),Os("div",Qb,[t[72]||(t[72]=Os("p",{class:"text-sm text-gray-500"},"Change Due",-1)),Os("p",Jb,"$"+te(pe(R.value)),1)]),Os("div",Zb,[B.value&&!U.value?(bs(),ks("button",{key:0,onClick:t[17]||(t[17]=e=>V.value=!0),class:"flex-1 py-3 btn btn-secondary"},[...t[73]||(t[73]=[Os("i",{class:"fas fa-user-plus mr-2"},null,-1),Is(" Save Customer ",-1)])])):Ls("",!0),U.value?(bs(),ks("div",ex,[...t[74]||(t[74]=[Os("i",{class:"fas fa-check-circle mr-2"},null,-1),Is(" Customer Saved ",-1)])])):Ls("",!0),Os("button",{onClick:be,class:"flex-1 py-3 btn btn-primary"}," Start New Sale ")])])])):Ls("",!0)]),_:1}),Ds(gr,{name:"fade"},{default:un(()=>[V.value?(bs(),ks("div",tx,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:t[18]||(t[18]=e=>V.value=!1)}),Os("div",nx,[t[84]||(t[84]=Os("h2",{class:"text-lg font-bold text-gray-800 mb-1"},"Save Customer Details",-1)),t[85]||(t[85]=Os("p",{class:"text-sm text-gray-500 mb-4"},"Phone or email is required",-1)),Os("div",ax,[Os("div",null,[t[78]||(t[78]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number",-1)),dn(Os("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>H.value.phone=e),type:"tel",placeholder:"e.g. 0771234567",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-primary focus:border-primary"},null,512),[[ei,H.value.phone]])]),Os("div",null,[t[79]||(t[79]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),dn(Os("input",{"onUpdate:modelValue":t[20]||(t[20]=e=>H.value.email=e),type:"email",placeholder:"e.g. customer@email.com",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-primary focus:border-primary"},null,512),[[ei,H.value.email]])]),Os("div",sx,[Os("div",rx,[t[80]||(t[80]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"First Name",-1)),dn(Os("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>H.value.first_name=e),type:"text",placeholder:"Optional",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-primary focus:border-primary"},null,512),[[ei,H.value.first_name]])]),Os("div",ix,[t[81]||(t[81]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Last Name",-1)),dn(Os("input",{"onUpdate:modelValue":t[22]||(t[22]=e=>H.value.last_name=e),type:"text",placeholder:"Optional",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-primary focus:border-primary"},null,512),[[ei,H.value.last_name]])])])]),q.value?(bs(),ks("div",ox,te(q.value),1)):Ls("",!0),Os("div",lx,[Os("button",{onClick:t[23]||(t[23]=e=>V.value=!1),class:"flex-1 py-3 btn btn-secondary",disabled:z.value}," Cancel ",8,cx),Os("button",{onClick:ye,disabled:z.value||!H.value.phone&&!H.value.email,class:"flex-1 py-3 btn btn-primary"},[z.value?(bs(),ks("span",dx,[...t[82]||(t[82]=[Os("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),Is(" Saving... ",-1)])])):(bs(),ks("span",hx,[...t[83]||(t[83]=[Os("i",{class:"fas fa-save mr-2"},null,-1),Is(" Save ",-1)])]))],8,ux)])])])):Ls("",!0)]),_:1})])}}},fx=Ti(px,[["__scopeId","data-v-de03915b"]]),mx={class:"min-h-screen bg-gray-50"},gx={class:"bg-header text-white px-4 py-3 flex items-center sticky top-0 z-40 pt-safe"},vx={class:"px-4 py-3 bg-white shadow-sm"},yx={class:"relative mt-2"},bx={class:"px-4 py-3"},xx={class:"bg-white rounded-lg shadow p-4"},wx={class:"flex"},_x={class:"flex-1 text-center mr-2"},kx={class:"text-2xl font-bold text-primary"},Cx={class:"flex-1 text-center ml-2"},Sx={class:"text-2xl font-bold text-success"},Ex={class:"px-4"},Px={key:0,class:"flex items-center justify-center py-20"},Ax={key:1,class:"text-center py-20 text-gray-500"},Ox={key:2,class:"space-y-3 pb-6"},Dx=["onClick"],Mx={class:"flex items-center justify-between mb-2"},Tx={class:"font-medium text-gray-800"},Ix={class:"text-xs text-gray-500"},jx={class:"text-right"},Lx={class:"font-bold text-success"},Fx={class:"flex items-center justify-between text-sm text-gray-500"},Nx={class:"capitalize"},Rx={key:0,class:"fixed inset-0 z-50"},Bx={class:"absolute bottom-0 left-0 right-0 bg-white rounded-t-lg max-h-[80vh] overflow-y-auto"},Vx={class:"sticky top-0 bg-white px-4 py-3 border-b flex items-center justify-between"},zx={class:"p-4"},Ux={class:"text-center mb-4"},qx={class:"text-lg font-bold"},Hx={class:"text-xs text-gray-500"},Wx={class:"border-t border-b py-3 mb-4"},$x={class:"font-medium"},Kx={class:"text-sm text-gray-500"},Yx={class:"font-medium"},Gx={class:"space-y-2 mb-4"},Xx={class:"flex justify-between text-sm"},Qx={key:0,class:"flex justify-between text-sm"},Jx={key:1,class:"flex justify-between text-sm text-red-500"},Zx={class:"flex justify-between font-bold text-lg pt-2 border-t"},ew={class:"text-success"},tw={class:"bg-gray-50 rounded-lg p-3 mb-4"},nw={class:"flex justify-between text-sm"},aw={class:"capitalize font-medium"},sw={class:"flex justify-between text-sm mt-1"},rw={class:"font-medium"},iw={key:0,class:"flex justify-between text-sm mt-1"},ow={class:"font-medium"},lw={class:"space-y-2"},cw={key:0,class:"modal-backdrop",style:{"z-index":"60"}},uw={class:"modal-content"},dw={class:"text-center"},hw={class:"modal-text"},pw={key:0,class:"text-sm text-danger mb-3"},fw={class:"modal-actions"},mw=["disabled"],gw=["disabled"],vw={__name:"sales",setup(e){const t="https://pos-dev.xash.co.zw/api",n=kp(),a=At(!0),s=At([]),r=At({total_sales:0,total_revenue:0}),i=At((new Date).toISOString().split("T")[0]),o=At(null),l=At(""),c=At(!1),u=At(!1),d=At(""),h=nr(()=>{if(!l.value.trim())return s.value;const e=l.value.toLowerCase().trim();return s.value.filter(t=>{var n;return null==(n=t.receipt_number)?void 0:n.toLowerCase().includes(e)})});async function p(){var e,o;a.value=!0;try{const[a,l]=await Promise.all([zh.get("".concat(t,"/pos/sales?date=").concat(i.value)),zh.get("".concat(t,"/pos/sales/summary?date=").concat(i.value))]),c=a.data||[],u=(new Date).toISOString().split("T")[0];let d=[];i.value===u&&(await n.getPendingSales(),d=n.pendingSales.map(e=>({id:e.temp_receipt_number,receipt_number:e.temp_receipt_number,created_at:e.created_at,total_amount:e.total_amount,payment_method:e.payment_method,status:"pending_sync",items:e.items||[],subtotal:e.subtotal,tax_amount:e.tax_amount,discount_amount:e.discount_amount,amount_paid:e.amount_paid,change_amount:e.change_amount,is_pending:!0}))),s.value=[...d,...c];const h=d.reduce((e,t)=>e+parseFloat(t.total_amount||0),0);r.value={total_sales:((null==(e=l.stats)?void 0:e.total_sales)||0)+d.length,total_revenue:((null==(o=l.stats)?void 0:o.total_revenue)||0)+h}}catch(l){console.error("Failed to fetch sales:",l);const e=(new Date).toISOString().split("T")[0];if(i.value===e){await n.getPendingSales();const e=n.pendingSales.map(e=>({id:e.temp_receipt_number,receipt_number:e.temp_receipt_number,created_at:e.created_at,total_amount:e.total_amount,payment_method:e.payment_method,status:"pending_sync",items:e.items||[],is_pending:!0}));s.value=e;const t=e.reduce((e,t)=>e+parseFloat(t.total_amount||0),0);r.value={total_sales:e.length,total_revenue:t}}}finally{a.value=!1}}async function f(){var e,n;if(o.value){u.value=!0,d.value="";try{await zh.post("".concat(t,"/pos/sales/").concat(o.value.id,"/cancel"));const a=s.value.findIndex(e=>e.id===o.value.id);-1!==a&&(s.value[a].status="cancelled"),o.value.status="cancelled",c.value=!1,o.value=null;try{const a=await zh.get("".concat(t,"/pos/sales/summary?date=").concat(i.value));r.value={total_sales:(null==(e=a.stats)?void 0:e.total_sales)||0,total_revenue:(null==(n=a.stats)?void 0:n.total_revenue)||0}}catch(uV){}}catch(a){d.value=(null==a?void 0:a.message)||"Failed to void sale. You may not have permission."}finally{u.value=!1}}}function m(e){return parseFloat(e||0).toFixed(2)}return Un(()=>{p()}),(e,n)=>{const s=Jn("router-link");return bs(),ks("div",mx,[Os("div",gx,[Ds(s,{to:"/pos/dashboard",class:"p-1 mr-3"},{default:un(()=>[...n[8]||(n[8]=[Os("i",{class:"fas fa-arrow-left"},null,-1)])]),_:1}),n[9]||(n[9]=Os("h1",{class:"text-lg font-bold"},"Sales History",-1))]),Os("div",vx,[dn(Os("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>i.value=e),type:"date",class:"w-full px-4 py-2 bg-gray-100 border-0 rounded-lg focus:ring-2 focus:ring-primary outline-none",onChange:p},null,544),[[ei,i.value]]),Os("div",yx,[n[10]||(n[10]=Os("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-300"},null,-1)),dn(Os("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>l.value=e),type:"text",placeholder:"Search by receipt number...",class:"w-full pl-10 pr-4 py-2 bg-gray-100 border-0 rounded-lg focus:ring-2 focus:ring-primary outline-none"},null,512),[[ei,l.value]])])]),Os("div",bx,[Os("div",xx,[Os("div",wx,[Os("div",_x,[Os("p",kx,te(r.value.total_sales),1),n[11]||(n[11]=Os("p",{class:"text-xs text-gray-500"},"Total Sales",-1))]),Os("div",Cx,[Os("p",Sx,"$"+te(m(r.value.total_revenue)),1),n[12]||(n[12]=Os("p",{class:"text-xs text-gray-500"},"Revenue",-1))])])])]),Os("div",Ex,[a.value?(bs(),ks("div",Px,[...n[13]||(n[13]=[Os("i",{class:"fas fa-spinner fa-spin text-3xl text-primary"},null,-1)])])):0===h.value.length?(bs(),ks("div",Ax,[n[14]||(n[14]=Os("i",{class:"fas fa-receipt text-5xl mb-3 text-gray-300"},null,-1)),Os("p",null,te(l.value?"No matching receipts found":"No sales found for this date"),1)])):(bs(),ks("div",Ox,[(bs(!0),ks(ps,null,aa(h.value,e=>{var n,a;return bs(),ks("div",{key:e.id,onClick:n=>async function(e){try{if(e.is_pending||"pending_sync"===e.status)o.value=e;else{const n=await zh.get("".concat(t,"/pos/sales/").concat(e.id));o.value=n.sale}}catch(n){console.error("Failed to fetch sale details:",n)}}(e),class:"bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-lg transition"},[Os("div",Mx,[Os("div",null,[Os("p",Tx,te(e.receipt_number),1),Os("p",Ix,te((a=e.created_at,new Date(a).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))),1)]),Os("div",jx,[Os("p",Lx,"$"+te(m(e.total_amount)),1),Os("span",{class:Y(["text-xs px-2 py-0.5 rounded-full","pending_sync"===e.status?"status-pending":"completed"===e.status?"status-success":"cancelled"===e.status?"status-failed":"bg-gray-100 text-gray-700"])},te("pending_sync"===e.status?"Pending Sync":e.status),3)])]),Os("div",Fx,[Os("span",null,te((null==(n=e.items)?void 0:n.length)||0)+" items",1),Os("span",Nx,te(e.payment_method),1)])],8,Dx)}),128))]))]),Ds(gr,{name:"fade"},{default:un(()=>{return[o.value?(bs(),ks("div",Rx,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:n[2]||(n[2]=e=>o.value=null)}),Os("div",Bx,[Os("div",Vx,[n[16]||(n[16]=Os("h2",{class:"text-lg font-bold"},"Receipt Details",-1)),Os("button",{onClick:n[3]||(n[3]=e=>o.value=null),class:"p-2"},[...n[15]||(n[15]=[Os("i",{class:"fas fa-times"},null,-1)])])]),Os("div",zx,[Os("div",Ux,[n[17]||(n[17]=Os("p",{class:"text-sm text-gray-500"},"Receipt #",-1)),Os("p",qx,te(o.value.receipt_number),1),Os("p",Hx,te((e=o.value.created_at,new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))),1)]),Os("div",Wx,[(bs(!0),ks(ps,null,aa(o.value.items,e=>(bs(),ks("div",{key:e.id,class:"flex justify-between py-2"},[Os("div",null,[Os("p",$x,te(e.product_name),1),Os("p",Kx,te(e.quantity)+" x $"+te(m(e.unit_price)),1)]),Os("p",Yx,"$"+te(m(e.line_total)),1)]))),128))]),Os("div",Gx,[Os("div",Xx,[n[18]||(n[18]=Os("span",{class:"text-gray-500"},"Subtotal",-1)),Os("span",null,"$"+te(m(o.value.subtotal)),1)]),o.value.tax_amount>0?(bs(),ks("div",Qx,[n[19]||(n[19]=Os("span",{class:"text-gray-500"},"Tax",-1)),Os("span",null,"$"+te(m(o.value.tax_amount)),1)])):Ls("",!0),o.value.discount_amount>0?(bs(),ks("div",Jx,[n[20]||(n[20]=Os("span",null,"Discount",-1)),Os("span",null,"-$"+te(m(o.value.discount_amount)),1)])):Ls("",!0),Os("div",Zx,[n[21]||(n[21]=Os("span",null,"Total",-1)),Os("span",ew,"$"+te(m(o.value.total_amount)),1)])]),Os("div",tw,[Os("div",nw,[n[22]||(n[22]=Os("span",{class:"text-gray-500"},"Payment Method",-1)),Os("span",aw,te(o.value.payment_method),1)]),Os("div",sw,[n[23]||(n[23]=Os("span",{class:"text-gray-500"},"Amount Paid",-1)),Os("span",rw,"$"+te(m(o.value.amount_paid)),1)]),o.value.change_amount>0?(bs(),ks("div",iw,[n[24]||(n[24]=Os("span",{class:"text-gray-500"},"Change",-1)),Os("span",ow,"$"+te(m(o.value.change_amount)),1)])):Ls("",!0)]),Os("div",lw,[Os("button",{onClick:n[4]||(n[4]=e=>o.value=null),class:"w-full py-3 bg-primary text-white rounded-lg font-medium"}," Close "),"completed"!==o.value.status||o.value.is_pending?Ls("",!0):(bs(),ks("button",{key:0,onClick:n[5]||(n[5]=e=>c.value=!0),class:"w-full py-3 btn-danger rounded-lg font-medium"},[...n[25]||(n[25]=[Os("i",{class:"fas fa-ban mr-2"},null,-1),Is("Void Sale ",-1)])]))])])])])):Ls("",!0)];var e}),_:1}),Ds(gr,{name:"fade"},{default:un(()=>{var e;return[c.value?(bs(),ks("div",cw,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:n[6]||(n[6]=e=>c.value=!1)}),Os("div",uw,[Os("div",dw,[n[28]||(n[28]=Os("div",{class:"modal-icon modal-icon-danger"},[Os("i",{class:"fas fa-ban text-xl"})],-1)),n[29]||(n[29]=Os("h3",{class:"modal-title"},"Void Sale?",-1)),Os("p",hw,[n[26]||(n[26]=Is(" This will cancel receipt ",-1)),Os("strong",null,te(null==(e=o.value)?void 0:e.receipt_number),1),n[27]||(n[27]=Is(" and restore stock. This action cannot be undone. ",-1))]),d.value?(bs(),ks("div",pw,te(d.value),1)):Ls("",!0),Os("div",fw,[Os("button",{onClick:n[7]||(n[7]=e=>c.value=!1),class:"btn btn-secondary",disabled:u.value}," Cancel ",8,mw),Os("button",{onClick:f,class:"btn btn-danger",disabled:u.value},te(u.value?"Voiding...":"Yes, Void"),9,gw)])])])])):Ls("",!0)]}),_:1})])}}},yw=Ti(vw,[["__scopeId","data-v-e7911559"]]),bw={class:"min-h-screen bg-gray-50"},xw={class:"bg-header text-white px-4 py-3 flex items-center sticky top-0 z-40 pt-safe"},ww={class:"px-4 py-3 bg-white shadow-sm"},_w={class:"relative"},kw={class:"px-4 py-2 bg-white border-b overflow-x-auto"},Cw={class:"flex"},Sw=["onClick"],Ew={class:"p-4"},Pw={key:0,class:"flex items-center justify-center py-20"},Aw={key:1,class:"text-center py-20 text-gray-500"},Ow={key:2,class:"space-y-3"},Dw={class:"flex"},Mw={class:"w-20 h-20 sm:w-24 sm:h-24 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0 p-2 mr-3"},Tw=["src","alt","data-product-id"],Iw={key:1,class:"fas fa-box text-3xl text-gray-300"},jw={class:"flex-1 min-w-0"},Lw={class:"font-semibold text-gray-800 mb-1 truncate"},Fw={class:"text-xs text-gray-500 mb-2"},Nw={class:"flex items-center justify-between"},Rw={class:"text-lg font-bold text-success"},Bw={__name:"products",setup(e){const t=_p(),n=vp(),a=Fh(),{getProductImageUrl:s}=hg();function r(e){return u.value[e]||null}function i(e){const t=e.target.getAttribute("data-product-id");t&&(d.value[t]=!0)}const o=At(!0),l=At([]),c=At([]),u=At({}),d=At({}),h=At(""),p=At(null),f=nr(()=>{let e=l.value;if(p.value&&(e=e.filter(e=>e.category_id===p.value)),h.value){const t=h.value.toLowerCase();e=e.filter(e=>{var n,a;return e.name.toLowerCase().includes(t)||(null==(n=e.sku)?void 0:n.toLowerCase().includes(t))||(null==(a=e.barcode)?void 0:a.toString().includes(t))})}return e});async function m(){o.value=!0;try{const[e,r]=await Promise.all([t.getProducts(),t.getCategories()]);l.value=e||[],c.value=r||[],await async function(e){for(const n of e)if(n.image&&n.id)try{const e=await s(n.image);e&&(u.value[n.id]=e)}catch(t){}}(l.value),0!==l.value.length||n.isOnline||a.warning("You are offline. No cached products available. Please connect to internet.")}catch(e){console.error("Failed to fetch data:",e)}finally{o.value=!1}}return Un(()=>{m()}),(e,t)=>{const n=Jn("router-link");return bs(),ks("div",bw,[Os("div",xw,[Ds(n,{to:"/pos/dashboard",class:"p-1 mr-3"},{default:un(()=>[...t[2]||(t[2]=[Os("i",{class:"fas fa-arrow-left"},null,-1)])]),_:1}),t[3]||(t[3]=Os("h1",{class:"text-lg font-bold"},"Products",-1))]),Os("div",ww,[Os("div",_w,[dn(Os("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>h.value=e),type:"text",placeholder:"Search products...",class:"w-full pl-10 pr-4 py-2.5 bg-gray-100 border-0 rounded-lg focus:ring-2 focus:ring-primary outline-none"},null,512),[[ei,h.value]]),t[4]||(t[4]=Os("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1))])]),Os("div",kw,[Os("div",Cw,[Os("button",{onClick:t[1]||(t[1]=e=>p.value=null),class:Y(["px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition mr-2",p.value?"bg-gray-100 text-gray-600":"bg-primary text-white"])}," All ",2),(bs(!0),ks(ps,null,aa(c.value,e=>(bs(),ks("button",{key:e.id,onClick:t=>p.value=e.id,class:Y(["px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition mr-2",p.value===e.id?"bg-primary text-white":"bg-gray-100 text-gray-600"])},te(e.name),11,Sw))),128))])]),Os("div",Ew,[o.value?(bs(),ks("div",Pw,[...t[5]||(t[5]=[Os("i",{class:"fas fa-spinner fa-spin text-3xl text-primary"},null,-1)])])):0===f.value.length?(bs(),ks("div",Aw,[...t[6]||(t[6]=[Os("i",{class:"fas fa-box-open text-5xl mb-3 text-gray-300"},null,-1),Os("p",null,"No products found",-1)])])):(bs(),ks("div",Ow,[(bs(!0),ks(ps,null,aa(f.value,e=>{var n,a;return bs(),ks("div",{key:e.id,class:"bg-white rounded-lg shadow p-4 hover:shadow-md transition"},[Os("div",Dw,[Os("div",Mw,[r(e.id)?(bs(),ks("img",{key:0,src:r(e.id),alt:e.name,class:"w-full h-full object-contain",onError:i,"data-product-id":e.id},null,40,Tw)):Ls("",!0),!r(e.id)||d.value[e.id]?(bs(),ks("i",Iw)):Ls("",!0)]),Os("div",jw,[Os("h3",Lw,te(e.name),1),Os("p",Fw,te((null==(n=e.category)?void 0:n.name)||"Uncategorized"),1),Os("div",Nw,[Os("span",Rw,"$"+te((a=e.selling_price,parseFloat(a||0).toFixed(2))),1),e.track_stock?(bs(),ks("span",{key:0,class:Y(["text-xs px-2.5 py-1 rounded-full font-medium",e.stock_quantity>10?"status-success":e.stock_quantity>0?"status-pending":"status-failed"])},[t[7]||(t[7]=Os("i",{class:"fas fa-box mr-1"},null,-1)),Is(te(Math.floor(e.stock_quantity)),1)],2)):Ls("",!0)])])])])}),128))]))])])}}},Vw={class:"min-h-screen bg-gray-50"},zw={class:"bg-header text-white px-4 py-3 flex items-center sticky top-0 z-40 pt-safe"},Uw={class:"px-4 py-6"},qw={class:"bg-white rounded-lg shadow p-6 text-center"},Hw={class:"text-xl font-bold text-gray-800"},Ww={class:"text-gray-500 capitalize"},$w={class:"mt-3 text-sm text-gray-500"},Kw={key:0},Yw={class:"px-4 mb-6"},Gw={class:"bg-white rounded-lg shadow p-4"},Xw={class:"flex items-center"},Qw={class:"font-medium text-gray-800"},Jw={class:"text-xs text-gray-500"},Zw={class:"px-4 space-y-3"},e_={key:0,class:"modal-backdrop"},t_={class:"modal-content"},n_={class:"text-center"},a_={class:"modal-actions"},s_={key:0,class:"fixed inset-0 z-50"},r_={class:"absolute bottom-0 left-0 right-0 bg-white rounded-t-lg p-4"},i_={class:"space-y-2"},o_=["onClick"],l_={class:"text-left"},c_={class:"font-medium"},u_={class:"text-xs text-gray-500"},d_={key:0,class:"fas fa-check text-primary ml-auto"},h_={__name:"profile",setup(e){const t=mp(),n=Fh(),a="https://pos-dev.xash.co.zw/api",s=At([]),r=At(!1),i=At(!1),o=nr(()=>t.user),l=nr(()=>{var e;return null==(e=t.user)?void 0:e.branch});async function c(){i.value=!1,await t.logout()}return Un(()=>{!async function(){try{const e=await zh.get("".concat(a,"/pos/branches"));s.value=e.branches||[]}catch(e){console.error("Failed to fetch branches:",e)}}()}),(e,u)=>{var d,h,p,f,m,g,v;const y=Jn("router-link");return bs(),ks("div",Vw,[Os("div",zw,[Ds(y,{to:"/pos/dashboard",class:"p-1 mr-3"},{default:un(()=>[...u[6]||(u[6]=[Os("i",{class:"fas fa-arrow-left"},null,-1)])]),_:1}),u[7]||(u[7]=Os("h1",{class:"text-lg font-bold"},"Profile",-1))]),Os("div",Uw,[Os("div",qw,[u[10]||(u[10]=Os("div",{class:"w-20 h-20 bg-primary-light rounded-full mx-auto flex items-center justify-center mb-4"},[Os("i",{class:"fas fa-user text-3xl text-primary"})],-1)),Os("h2",Hw,te(null==(d=o.value)?void 0:d.name),1),Os("p",Ww,te(null==(h=o.value)?void 0:h.role),1),Os("div",$w,[Os("p",null,[u[8]||(u[8]=Os("i",{class:"fas fa-phone mr-2"},null,-1)),Is(te(null==(p=o.value)?void 0:p.phone_number),1)]),(null==(f=o.value)?void 0:f.email)?(bs(),ks("p",Kw,[u[9]||(u[9]=Os("i",{class:"fas fa-envelope mr-2"},null,-1)),Is(te(null==(m=o.value)?void 0:m.email),1)])):Ls("",!0)])])]),Os("div",Yw,[u[12]||(u[12]=Os("h3",{class:"text-sm font-medium text-gray-500 mb-2"},"Current Branch",-1)),Os("div",Gw,[Os("div",Xw,[u[11]||(u[11]=Os("div",{class:"w-10 h-10 bg-primary-light rounded-lg flex items-center justify-center mr-3"},[Os("i",{class:"fas fa-store text-primary"})],-1)),Os("div",null,[Os("p",Qw,te((null==(g=l.value)?void 0:g.name)||"No branch assigned"),1),Os("p",Jw,te(null==(v=l.value)?void 0:v.code),1)])])])]),Os("div",Zw,[s.value.length>1?(bs(),ks("button",{key:0,onClick:u[0]||(u[0]=e=>r.value=!0),class:"w-full flex items-center justify-between bg-white rounded-lg shadow p-4"},[...u[13]||(u[13]=[Os("div",{class:"flex items-center"},[Os("i",{class:"fas fa-exchange-alt text-primary mr-3"}),Os("span",{class:"font-medium"},"Switch Branch")],-1),Os("i",{class:"fas fa-chevron-right text-gray-400"},null,-1)])])):Ls("",!0),Os("button",{onClick:u[1]||(u[1]=e=>i.value=!0),class:"w-full flex items-center justify-between bg-white rounded-lg shadow p-4 text-red-600"},[...u[14]||(u[14]=[Os("div",{class:"flex items-center"},[Os("i",{class:"fas fa-sign-out-alt mr-3"}),Os("span",{class:"font-medium"},"Logout")],-1),Os("i",{class:"fas fa-chevron-right text-gray-400"},null,-1)])])]),Ds(gr,{name:"fade"},{default:un(()=>[i.value?(bs(),ks("div",e_,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:u[2]||(u[2]=e=>i.value=!1)}),Os("div",t_,[Os("div",n_,[u[15]||(u[15]=Os("div",{class:"modal-icon modal-icon-danger"},[Os("i",{class:"fas fa-sign-out-alt text-xl"})],-1)),u[16]||(u[16]=Os("h3",{class:"modal-title"},"Confirm Logout",-1)),u[17]||(u[17]=Os("p",{class:"modal-text"}," Are you sure you want to log out? Any unsaved work may be lost. ",-1)),Os("div",a_,[Os("button",{onClick:u[3]||(u[3]=e=>i.value=!1),class:"btn btn-secondary"}," Cancel "),Os("button",{onClick:c,class:"btn btn-danger"}," Yes, Logout ")])])])])):Ls("",!0)]),_:1}),Ds(gr,{name:"fade"},{default:un(()=>[r.value?(bs(),ks("div",s_,[Os("div",{class:"absolute inset-0 bg-overlay",onClick:u[4]||(u[4]=e=>r.value=!1)}),Os("div",r_,[u[18]||(u[18]=Os("h2",{class:"text-lg font-bold mb-4"},"Select Branch",-1)),Os("div",i_,[(bs(!0),ks(ps,null,aa(s.value,e=>{var s,i,o;return bs(),ks("button",{key:e.id,onClick:s=>async function(e){try{const s=await zh.post("".concat(a,"/pos/switch-branch"),{branch_id:e});t.user&&(t.user.branch=s.branch,localStorage.setItem("user",JSON.stringify(t.user))),n.success("Branch switched successfully"),r.value=!1}catch(s){n.error(s.message||"Failed to switch branch")}}(e.id),class:Y(["w-full flex items-center p-3 rounded-lg border-2 transition",e.id===(null==(s=l.value)?void 0:s.id)?"border-primary bg-primary-light":"border-gray-200"])},[Os("i",{class:Y(["fas fa-store mr-3",e.id===(null==(i=l.value)?void 0:i.id)?"text-primary":"text-gray-400"])},null,2),Os("div",l_,[Os("p",c_,te(e.name),1),Os("p",u_,te(e.code),1)]),e.id===(null==(o=l.value)?void 0:o.id)?(bs(),ks("i",d_)):Ls("",!0)],10,o_)}),128))]),Os("button",{onClick:u[5]||(u[5]=e=>r.value=!1),class:"w-full mt-4 py-3 bg-gray-200 rounded-lg font-medium"}," Cancel ")])])):Ls("",!0)]),_:1})])}}},p_=Ti(h_,[["__scopeId","data-v-ff52fab6"]]),f_={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},m_={class:"mb-4 md:mb-8"},g_={class:"flex items-start md:items-center justify-between gap-2"},v_={key:0,class:"flex items-center justify-center py-24"},y_={key:1,class:"space-y-3 md:space-y-6"},b_={class:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4"},x_={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-3 md:p-5 hover:shadow-md transition-shadow duration-200"},w_={class:"flex items-start justify-between gap-2 mb-2"},__={class:"flex-1 min-w-0"},k_={class:"text-primary text-xl md:text-2xl font-bold truncate"},C_={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-3 md:p-5 hover:shadow-md transition-shadow duration-200"},S_={class:"flex items-start justify-between gap-2 mb-2"},E_={class:"flex-1 min-w-0"},P_={class:"text-success text-xl md:text-2xl font-bold truncate"},A_={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-3 md:p-5 hover:shadow-md transition-shadow duration-200"},O_={class:"flex items-start justify-between gap-2 mb-2"},D_={class:"flex-1 min-w-0"},M_={class:"text-accent text-xl md:text-2xl font-bold truncate"},T_={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-3 md:p-5 hover:shadow-md transition-shadow duration-200"},I_={class:"flex items-start justify-between gap-2 mb-2"},j_={class:"flex-1 min-w-0"},L_={class:"text-primary-dark text-xl md:text-2xl font-bold truncate"},F_={class:"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-6"},N_={class:"bg-white rounded-lg p-4 md:p-6 border border-gray-100"},R_={class:"grid grid-cols-2 gap-2 md:gap-4"},B_={class:"bg-gray-50 rounded-lg p-3 md:p-4"},V_={class:"text-2xl md:text-3xl font-bold text-gray-900"},z_={class:"bg-success-light rounded-lg p-3 md:p-4"},U_={class:"text-2xl md:text-3xl font-bold text-success"},q_={class:"bg-white rounded-lg p-4 md:p-6 border border-gray-100"},H_={class:"grid grid-cols-2 gap-2 md:gap-4"},W_={class:"bg-gray-50 rounded-lg p-3 md:p-4"},$_={class:"text-2xl md:text-3xl font-bold text-gray-900"},K_={class:"bg-success-light rounded-lg p-3 md:p-4"},Y_={class:"text-2xl md:text-3xl font-bold text-success"},G_={class:"grid grid-cols-1 lg:grid-cols-3 gap-3 md:gap-6"},X_={class:"lg:col-span-2 bg-white rounded-lg p-4 md:p-6 border border-gray-100"},Q_={key:0,class:"space-y-2 md:space-y-3"},J_={class:"flex-shrink-0"},Z_={class:"flex-1 min-w-0"},ek={class:"text-xs md:text-sm font-semibold text-gray-900 truncate"},tk={class:"text-xs text-gray-500"},nk={class:"text-right flex-shrink-0"},ak={class:"text-sm md:text-xl font-bold text-success"},sk={key:1,class:"text-center py-6 md:py-8"},rk={class:"bg-white rounded-lg p-4 md:p-6 border border-gray-200"},ik={key:0,class:"space-y-2 md:space-y-3 max-h-96 overflow-y-auto custom-scrollbar"},ok={class:"flex items-start justify-between mb-1 md:mb-2"},lk={class:"flex-1 min-w-0"},ck={class:"text-xs md:text-sm font-semibold text-gray-900 truncate"},uk={class:"text-xs text-gray-500 mt-0.5 truncate"},dk={class:"text-xs md:text-sm font-bold text-success flex-shrink-0 ml-1"},hk={class:"flex items-center justify-between text-xs gap-1"},pk={class:"text-gray-500"},fk={class:"px-1.5 py-0.5 bg-success-light text-success rounded text-xs capitalize whitespace-nowrap"},mk={key:1,class:"text-center py-6 md:py-8"},gk={class:"bg-white rounded-lg p-4 md:p-6 border border-gray-200"},vk={class:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6"},yk={class:"text-center"},bk={class:"text-lg md:text-2xl font-bold text-gray-900"},xk={class:"text-center"},wk={class:"text-lg md:text-2xl font-bold text-gray-900"},_k={class:"text-center"},kk={class:"text-lg md:text-2xl font-bold text-gray-900"},Ck={class:"text-center"},Sk={class:"text-lg md:text-2xl font-bold text-gray-900"},Ek={__name:"dashboard",setup(e){const t=At(!0),n=At({});async function a(){t.value=!0;try{const e=await zh.get("".concat("https://pos-dev.xash.co.zw/api","/manager/dashboard"));n.value=e}catch(e){console.error("Failed to fetch dashboard:",e)}finally{t.value=!1}}function s(e){return parseFloat(e||0).toFixed(2)}return Un(()=>{a()}),(e,r)=>{var i,o,l,c,u,d,h,p,f,m;return bs(),ks("div",f_,[Os("div",m_,[Os("div",g_,[r[1]||(r[1]=Os("div",null,[Os("h1",{class:"text-2xl md:text-3xl font-bold text-gray-900"},"Dashboard"),Os("p",{class:"text-xs md:text-sm text-gray-600 mt-1"},"Welcome back! Here's what's happening today")],-1)),Os("button",{onClick:a,class:"px-2 md:px-4 py-1.5 md:py-2 bg-white rounded-lg hover:shadow-md transition-all duration-200 flex items-center gap-1 md:gap-2 text-gray-700 hover:text-primary flex-shrink-0"},[Os("i",{class:Y(["fas fa-sync-alt text-xs md:text-sm",{"fa-spin":t.value}])},null,2),r[0]||(r[0]=Os("span",{class:"text-xs md:text-sm font-medium hidden md:inline"},"Refresh",-1))])])]),t.value&&!n.value.today?(bs(),ks("div",v_,[...r[2]||(r[2]=[Os("div",{class:"text-center"},[Os("i",{class:"fas fa-spinner fa-spin text-5xl text-primary mb-4"}),Os("p",{class:"text-gray-600"},"Loading dashboard...")],-1)])])):(bs(),ks("div",y_,[Os("div",b_,[Os("div",x_,[Os("div",w_,[Os("div",__,[r[3]||(r[3]=Os("p",{class:"text-gray-500 text-xs font-medium mb-1"},"Total Sales",-1)),Os("p",k_,te((null==(i=n.value.today)?void 0:i.total_sales)||0),1)]),r[4]||(r[4]=Os("div",{class:"bg-primary-light rounded-lg p-2 flex-shrink-0"},[Os("i",{class:"fas fa-shopping-cart text-primary text-base md:text-lg"})],-1))]),r[5]||(r[5]=Os("p",{class:"text-gray-600 text-xs"},"Today's transactions",-1))]),Os("div",C_,[Os("div",S_,[Os("div",E_,[r[6]||(r[6]=Os("p",{class:"text-gray-500 text-xs font-medium mb-1"},"Revenue",-1)),Os("p",P_,"$"+te(s((null==(o=n.value.today)?void 0:o.total_revenue)||0)),1)]),r[7]||(r[7]=Os("div",{class:"bg-success-light rounded-lg p-2 flex-shrink-0"},[Os("i",{class:"fas fa-dollar-sign text-success text-base md:text-lg"})],-1))]),r[8]||(r[8]=Os("p",{class:"text-gray-600 text-xs"},"Today's earnings",-1))]),Os("div",A_,[Os("div",O_,[Os("div",D_,[r[9]||(r[9]=Os("p",{class:"text-gray-500 text-xs font-medium mb-1"},"Avg. Sale",-1)),Os("p",M_,"$"+te(s((null==(l=n.value.today)?void 0:l.average_sale)||0)),1)]),r[10]||(r[10]=Os("div",{class:"bg-accent-light rounded-lg p-2 flex-shrink-0"},[Os("i",{class:"fas fa-chart-line text-accent text-base md:text-lg"})],-1))]),r[11]||(r[11]=Os("p",{class:"text-gray-600 text-xs"},"Per transaction",-1))]),Os("div",T_,[Os("div",I_,[Os("div",j_,[r[12]||(r[12]=Os("p",{class:"text-gray-500 text-xs font-medium mb-1"},"Active Cashiers",-1)),Os("p",L_,te(n.value.active_cashiers||0),1)]),r[13]||(r[13]=Os("div",{class:"bg-primary-light rounded-lg p-2 flex-shrink-0"},[Os("i",{class:"fas fa-users text-primary-dark text-base md:text-lg"})],-1))]),r[14]||(r[14]=Os("p",{class:"text-gray-600 text-xs"},"On duty now",-1))])]),Os("div",F_,[Os("div",N_,[r[17]||(r[17]=js('<div class="flex items-center gap-2 md:gap-3 mb-3 md:mb-6" data-v-19eabbb4><div class="bg-primary-light rounded-lg p-2 md:p-3 flex-shrink-0" data-v-19eabbb4><i class="fas fa-calendar-week text-primary text-lg md:text-xl" data-v-19eabbb4></i></div><div data-v-19eabbb4><h3 class="text-base md:text-lg font-semibold text-gray-800" data-v-19eabbb4>This Week</h3><p class="text-xs md:text-sm text-gray-500" data-v-19eabbb4>Last 7 days performance</p></div></div>',1)),Os("div",R_,[Os("div",B_,[r[15]||(r[15]=Os("p",{class:"text-xs md:text-sm text-gray-600 mb-1"},"Sales",-1)),Os("p",V_,te((null==(c=n.value.week)?void 0:c.total_sales)||0),1)]),Os("div",z_,[r[16]||(r[16]=Os("p",{class:"text-xs md:text-sm text-gray-600 mb-1"},"Revenue",-1)),Os("p",U_,"$"+te(s((null==(u=n.value.week)?void 0:u.total_revenue)||0)),1)])])]),Os("div",q_,[r[20]||(r[20]=js('<div class="flex items-center gap-2 md:gap-3 mb-3 md:mb-6" data-v-19eabbb4><div class="bg-primary-light rounded-lg p-2 md:p-3 flex-shrink-0" data-v-19eabbb4><i class="fas fa-calendar-alt text-primary text-lg md:text-xl" data-v-19eabbb4></i></div><div data-v-19eabbb4><h3 class="text-base md:text-lg font-semibold text-gray-800" data-v-19eabbb4>This Month</h3><p class="text-xs md:text-sm text-gray-500" data-v-19eabbb4>Monthly performance</p></div></div>',1)),Os("div",H_,[Os("div",W_,[r[18]||(r[18]=Os("p",{class:"text-xs md:text-sm text-gray-600 mb-1"},"Sales",-1)),Os("p",$_,te((null==(d=n.value.month)?void 0:d.total_sales)||0),1)]),Os("div",K_,[r[19]||(r[19]=Os("p",{class:"text-xs md:text-sm text-gray-600 mb-1"},"Revenue",-1)),Os("p",Y_,"$"+te(s((null==(h=n.value.month)?void 0:h.total_revenue)||0)),1)])])])]),Os("div",G_,[Os("div",X_,[r[23]||(r[23]=Os("div",{class:"flex items-center gap-2 md:gap-3 mb-3 md:mb-6"},[Os("div",null,[Os("h3",{class:"text-base md:text-lg font-semibold text-gray-800"},"Top Performers"),Os("p",{class:"text-xs md:text-sm text-gray-500"},"Today's leaderboard")])],-1)),n.value.cashier_performance&&n.value.cashier_performance.length>0?(bs(),ks("div",Q_,[(bs(!0),ks(ps,null,aa(n.value.cashier_performance.slice(0,5),(e,t)=>(bs(),ks("div",{key:t,class:"flex items-center gap-2 md:gap-4 p-2 md:p-4 bg-gradient-to-r hover:from-primary-light hover:to-transparent rounded-lg transition-all duration-200 border border-gray-100"},[Os("div",J_,[Os("div",{class:Y(["w-8 h-8 md:w-12 md:h-12 rounded-lg flex items-center justify-center font-bold text-sm md:text-lg",{"bg-primary text-white":0===t,"bg-success text-white":1===t,"bg-accent text-white":2===t,"bg-gray-100 text-gray-600":t>2}])},te(t+1),3)]),Os("div",Z_,[Os("p",ek,te(e.cashier_name),1),Os("p",tk,te(e.sales_count)+" transactions",1)]),Os("div",nk,[Os("p",ak,"$"+te(s(e.total_amount)),1),r[21]||(r[21]=Os("p",{class:"text-xs text-gray-500"},"revenue",-1))])]))),128))])):(bs(),ks("div",sk,[...r[22]||(r[22]=[Os("i",{class:"fas fa-users text-3xl md:text-4xl text-gray-300 mb-2 md:mb-3"},null,-1),Os("p",{class:"text-xs md:text-sm text-gray-500"},"No cashier activity yet",-1)])]))]),Os("div",rk,[r[25]||(r[25]=js('<div class="flex items-center gap-2 md:gap-3 mb-3 md:mb-6" data-v-19eabbb4><div class="bg-primary-light rounded-lg p-2 md:p-3 flex-shrink-0" data-v-19eabbb4><i class="fas fa-clock text-primary text-lg md:text-xl" data-v-19eabbb4></i></div><div data-v-19eabbb4><h3 class="text-base md:text-lg font-semibold text-gray-800" data-v-19eabbb4>Recent Sales</h3><p class="text-xs md:text-sm text-gray-500" data-v-19eabbb4>Latest transactions</p></div></div>',1)),n.value.recent_sales&&n.value.recent_sales.length>0?(bs(),ks("div",ik,[(bs(!0),ks(ps,null,aa(n.value.recent_sales.slice(0,10),e=>{var t,n;return bs(),ks("div",{key:e.id,class:"p-2 md:p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-150 border border-gray-100"},[Os("div",ok,[Os("div",lk,[Os("p",ck,te(e.receipt_number),1),Os("p",uk,te((null==(t=e.user)?void 0:t.name)||"Unknown"),1)]),Os("span",dk,"$"+te(s(e.total_amount)),1)]),Os("div",hk,[Os("span",pk,te((n=e.created_at,new Date(n).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))),1),Os("span",fk,te(e.payment_method),1)])])}),128))])):(bs(),ks("div",mk,[...r[24]||(r[24]=[Os("i",{class:"fas fa-receipt text-3xl md:text-4xl text-gray-300 mb-2 md:mb-3"},null,-1),Os("p",{class:"text-xs md:text-sm text-gray-500"},"No recent sales",-1)])]))])]),Os("div",gk,[Os("div",vk,[Os("div",yk,[r[26]||(r[26]=Os("div",{class:"bg-primary-light rounded-full w-12 h-12 md:w-16 md:h-16 flex items-center justify-center mx-auto mb-2 md:mb-3"},[Os("i",{class:"fas fa-cash-register text-primary text-lg md:text-2xl"})],-1)),Os("p",bk,te((null==(p=n.value.today)?void 0:p.total_sales)||0),1),r[27]||(r[27]=Os("p",{class:"text-xs md:text-sm text-gray-500"},"Transactions",-1))]),Os("div",xk,[r[28]||(r[28]=Os("div",{class:"bg-success-light rounded-full w-12 h-12 md:w-16 md:h-16 flex items-center justify-center mx-auto mb-2 md:mb-3"},[Os("i",{class:"fas fa-money-bill-wave text-success text-lg md:text-2xl"})],-1)),Os("p",wk,"$"+te(s((null==(f=n.value.today)?void 0:f.total_revenue)||0)),1),r[29]||(r[29]=Os("p",{class:"text-xs md:text-sm text-gray-500"},"Today's Total",-1))]),Os("div",_k,[r[30]||(r[30]=Os("div",{class:"bg-accent-light rounded-full w-12 h-12 md:w-16 md:h-16 flex items-center justify-center mx-auto mb-2 md:mb-3"},[Os("i",{class:"fas fa-percentage text-accent text-lg md:text-2xl"})],-1)),Os("p",kk,"$"+te(s((null==(m=n.value.today)?void 0:m.average_sale)||0)),1),r[31]||(r[31]=Os("p",{class:"text-xs md:text-sm text-gray-500"},"Avg Value",-1))]),Os("div",Ck,[r[32]||(r[32]=Os("div",{class:"bg-primary-light rounded-full w-12 h-12 md:w-16 md:h-16 flex items-center justify-center mx-auto mb-2 md:mb-3"},[Os("i",{class:"fas fa-user-check text-primary text-lg md:text-2xl"})],-1)),Os("p",Sk,te(n.value.active_cashiers||0),1),r[33]||(r[33]=Os("p",{class:"text-xs md:text-sm text-gray-500"},"Active Staff",-1))])])])]))])}}},Pk=Ti(Ek,[["__scopeId","data-v-19eabbb4"]]),Ak={class:"space-y-3 md:space-y-4"},Ok={class:"flex items-center justify-between"},Dk={class:"text-gray-600 text-sm"},Mk={class:"flex items-center gap-2"},Tk=["disabled"],Ik={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-3 md:p-4"},jk={class:"flex items-center gap-2 md:gap-3"},Lk={class:"relative flex-1 md:flex-initial md:min-w-[140px]"},Fk={class:"relative flex-1 md:flex-initial md:min-w-[160px]"},Nk={key:0,class:"absolute -top-1 -right-1 bg-accent text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold"},Rk={class:"relative"},Bk={class:"grid grid-cols-3 gap-2 md:gap-3"},Vk={class:"bg-white rounded-lg border border-gray-100 p-3 text-center"},zk={class:"text-primary text-lg md:text-xl font-bold"},Uk={class:"bg-white rounded-lg border border-gray-100 p-3 text-center"},qk={class:"text-success text-lg md:text-xl font-bold"},Hk={class:"bg-white rounded-lg border border-gray-100 p-3 text-center"},Wk={class:"text-accent text-lg md:text-xl font-bold"},$k={key:0,class:"flex items-center justify-center py-20"},Kk={key:1,class:"space-y-2 md:space-y-3"},Yk=["onClick"],Gk={class:"flex items-start justify-between gap-3"},Xk={class:"flex-1 min-w-0"},Qk={class:"flex items-center gap-2 mb-1"},Jk={class:"font-semibold text-gray-700 text-sm md:text-base truncate"},Zk={class:"flex items-center gap-2 text-xs text-gray-400 mb-2"},eC={class:"flex items-center gap-3 text-xs"},tC={class:"flex items-center gap-1 text-gray-400"},nC={class:"truncate"},aC={key:0,class:"flex items-center gap-1 text-gray-400"},sC={class:"truncate"},rC={key:1,class:"flex items-center gap-1 text-gray-400"},iC={class:"capitalize"},oC={class:"text-right flex-shrink-0"},lC={class:"text-success font-bold text-lg md:text-xl"},cC={class:"text-gray-400 text-xs"},uC={key:2,class:"bg-white rounded-lg border border-gray-100 p-12 text-center"},dC={key:0,class:"fixed inset-0 z-50 flex items-end md:items-center justify-center"},hC={class:"relative bg-white rounded-t-2xl md:rounded-2xl w-full md:max-w-2xl max-h-[85vh] overflow-hidden shadow-xl"},pC={class:"bg-primary text-white px-4 md:px-6 py-4 flex items-center justify-between sticky top-0 z-10"},fC={class:"overflow-y-auto max-h-[calc(85vh-140px)] p-4 md:p-6 space-y-4"},mC={class:"grid grid-cols-2 gap-3"},gC={class:"grid grid-cols-2 gap-3"},vC={class:"relative"},yC=["value"],bC={key:0},xC={class:"relative"},wC=["value"],_C={key:0,class:"fixed inset-0 z-50 flex items-end sm:items-center justify-center"},kC={class:"relative bg-white rounded-t-2xl sm:rounded-2xl w-full max-w-lg max-h-[90vh] overflow-hidden shadow-xl"},CC={class:"bg-header text-white px-6 py-4 flex items-center justify-between"},SC={class:"text-sm text-primary-light"},EC={class:"overflow-y-auto max-h-[calc(90vh-120px)] p-6 space-y-4"},PC={class:"grid grid-cols-2 gap-4 text-sm"},AC={class:"font-medium text-gray-800"},OC={class:"font-medium text-gray-800"},DC={class:"font-medium text-gray-800 capitalize"},MC={class:"bg-gray-50 rounded-lg divide-y divide-gray-200"},TC={class:"font-medium text-gray-800"},IC={class:"text-sm text-gray-500"},jC={class:"font-semibold text-gray-800"},LC={class:"bg-gray-50 rounded-lg p-4 space-y-2"},FC={class:"flex justify-between text-sm"},NC={class:"text-gray-800"},RC={key:0,class:"flex justify-between text-sm"},BC={class:"text-red-600"},VC={key:1,class:"flex justify-between text-sm"},zC={class:"text-gray-800"},UC={class:"flex justify-between font-bold text-lg border-t border-gray-200 pt-2"},qC={class:"text-success"},HC={class:"bg-blue-50 rounded-lg p-4 space-y-2"},WC={class:"flex items-center gap-2 text-blue-800"},$C={class:"capitalize"},KC={class:"font-semibold text-blue-900"},YC={class:"border-t border-blue-200 pt-2 mt-2"},GC={class:"flex justify-between text-sm font-semibold"},XC={class:"text-blue-900"},QC={key:1,class:"flex justify-between items-center text-sm"},JC={class:"flex items-center gap-2 text-blue-800"},ZC={class:"capitalize"},eS={class:"font-semibold text-blue-900"},tS={key:2,class:"flex justify-between text-sm border-t border-blue-200 pt-2 mt-2"},nS={class:"font-semibold text-success"},aS={__name:"sales",setup(e){const t=At(!0),n=At([]),a=At([]),s=At([]),r=At(!1),i=At(!1),o=At(null),l=At(""),c=(new Date).toISOString().split("T")[0],u=At({status:"",payment_method:"",start_date:c,end_date:c,start_time:"",end_time:"",cashier_id:"",branch_id:""}),d=nr(()=>{let e=0;return u.value.start_time&&e++,u.value.end_time&&e++,u.value.cashier_id&&e++,u.value.branch_id&&e++,u.value.start_date===c&&u.value.end_date===c||e++,e}),h=nr(()=>{if(!l.value)return n.value;const e=l.value.toLowerCase();return n.value.filter(t=>{var n,a,s,r;return(null==(n=t.receipt_number)?void 0:n.toLowerCase().includes(e))||(null==(s=null==(a=t.user)?void 0:a.name)?void 0:s.toLowerCase().includes(e))||(null==(r=t.payment_method)?void 0:r.toLowerCase().includes(e))})}),p=nr(()=>y(h.value.reduce((e,t)=>e+parseFloat(t.total_amount||0),0))),f=nr(()=>{if(0===h.value.length)return"0.00";return y(h.value.reduce((e,t)=>e+parseFloat(t.total_amount||0),0)/h.value.length)});async function m(){t.value=!0;try{const e=new URLSearchParams;Object.keys(u.value).forEach(t=>{u.value[t]&&e.append(t,u.value[t])});const t=await zh.get("".concat("https://pos-dev.xash.co.zw/api","/manager/sales?").concat(e));n.value=t.data||[],0===a.value.length&&t.cashiers&&(a.value=t.cashiers),0===s.value.length&&t.branches&&(s.value=t.branches)}catch(e){console.error("Failed to fetch sales:",e)}finally{t.value=!1}}function g(){i.value=!1,m()}function v(){u.value={status:"",payment_method:"",start_date:c,end_date:c,start_time:"",end_time:"",cashier_id:"",branch_id:""},m()}function y(e){return parseFloat(e||0).toFixed(2)}function b(e){if(!e)return"";return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function x(e){return new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function w(){r.value=!1,o.value=null}function _(e){return{cash:"fas fa-money-bill",ecocash:"fas fa-mobile-alt",swipe:"fas fa-credit-card",card:"fas fa-credit-card",mobile_money:"fas fa-mobile-alt"}[e]||"fas fa-money-bill"}function k(e){return{cash:"Cash",ecocash:"Ecocash",swipe:"Card/Swipe",card:"Card",mobile_money:"Mobile Money"}[e]||e}return Un(()=>{m()}),(e,n)=>(bs(),ks("div",Ak,[Os("div",Ok,[Os("div",null,[n[12]||(n[12]=Os("h1",{class:"text-2xl font-bold text-gray-800"},"Sales Management",-1)),Os("p",Dk,te(b(u.value.start_date))+" - "+te(b(u.value.end_date)),1)]),Os("div",Mk,[Os("button",{onClick:m,class:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all shadow-sm flex items-center gap-2 text-sm font-medium",disabled:t.value},[Os("i",{class:Y([t.value?"fas fa-spinner fa-spin":"fas fa-sync-alt","text-sm"])},null,2),n[13]||(n[13]=Os("span",{class:"hidden md:inline"},"Refresh",-1))],8,Tk)])]),Os("div",Ik,[Os("div",jk,[Os("div",Lk,[dn(Os("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>u.value.status=e),onChange:m,class:"w-full appearance-none px-3 py-2 pr-8 bg-gray-50 border border-gray-200 rounded-lg text-xs md:text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all cursor-pointer"},[...n[14]||(n[14]=[Os("option",{value:""},"All Status",-1),Os("option",{value:"completed"},"Completed",-1),Os("option",{value:"cancelled"},"Cancelled",-1)])],544),[[si,u.value.status]]),n[15]||(n[15]=Os("i",{class:"fas fa-chevron-down absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs pointer-events-none"},null,-1))]),Os("div",Fk,[dn(Os("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>u.value.payment_method=e),onChange:m,class:"w-full appearance-none px-3 py-2 pr-8 bg-gray-50 border border-gray-200 rounded-lg text-xs md:text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all cursor-pointer"},[...n[16]||(n[16]=[Os("option",{value:""},"All Payments",-1),Os("option",{value:"cash"},"Cash",-1),Os("option",{value:"card"},"Card",-1),Os("option",{value:"mobile"},"Mobile Money",-1)])],544),[[si,u.value.payment_method]]),n[17]||(n[17]=Os("i",{class:"fas fa-chevron-down absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs pointer-events-none"},null,-1))]),Os("button",{onClick:n[2]||(n[2]=e=>i.value=!0),class:"relative px-3 py-2 md:px-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-all shadow-sm flex items-center gap-2 text-sm font-medium flex-shrink-0"},[n[18]||(n[18]=Os("i",{class:"fas fa-sliders-h text-sm"},null,-1)),n[19]||(n[19]=Os("span",{class:"hidden md:inline"},"Filters",-1)),d.value>0?(bs(),ks("span",Nk,te(d.value),1)):Ls("",!0)])])]),Os("div",Rk,[n[20]||(n[20]=Os("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm"},null,-1)),dn(Os("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>l.value=e),type:"text",placeholder:"Search by receipt number, cashier...",class:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all shadow-sm"},null,512),[[ei,l.value]])]),Os("div",Bk,[Os("div",Vk,[n[21]||(n[21]=Os("p",{class:"text-gray-500 text-xs mb-1"},"Total Sales",-1)),Os("p",zk,te(h.value.length),1)]),Os("div",Uk,[n[22]||(n[22]=Os("p",{class:"text-gray-500 text-xs mb-1"},"Revenue",-1)),Os("p",qk,"$"+te(p.value),1)]),Os("div",Hk,[n[23]||(n[23]=Os("p",{class:"text-gray-500 text-xs mb-1"},"Avg. Sale",-1)),Os("p",Wk,"$"+te(f.value),1)])]),t.value?(bs(),ks("div",$k,[...n[24]||(n[24]=[Os("i",{class:"fas fa-spinner fa-spin text-3xl text-primary"},null,-1)])])):h.value.length>0?(bs(),ks("div",Kk,[(bs(!0),ks(ps,null,aa(h.value,e=>{var t,a;return bs(),ks("div",{key:e.id,onClick:t=>function(e){o.value=e,r.value=!0}(e),class:"bg-white rounded-lg border border-gray-100 p-3 md:p-4 hover:shadow-md transition-shadow cursor-pointer"},[Os("div",Gk,[Os("div",Xk,[Os("div",Qk,[Os("p",Jk,te(e.receipt_number),1),Os("span",{class:Y(["px-2 py-0.5 text-xs font-medium rounded-full flex-shrink-0","completed"===e.status?"status-success":"status-failed"])},te(e.status),3)]),Os("div",Zk,[n[25]||(n[25]=Os("i",{class:"fas fa-clock"},null,-1)),Os("span",null,te(x(e.created_at)),1)]),Os("div",eC,[Os("div",tC,[n[26]||(n[26]=Os("i",{class:"fas fa-user"},null,-1)),Os("span",nC,te((null==(t=e.user)?void 0:t.name)||"Unknown"),1)]),"split"===e.payment_method&&e.payments&&e.payments.length>0?(bs(),ks("div",aC,[n[27]||(n[27]=Os("i",{class:"fas fa-credit-card"},null,-1)),Os("span",sC,te(e.payments.map(e=>k(e.method)).join(" + ")),1)])):(bs(),ks("div",rC,[Os("i",{class:Y(_(e.payment_method))},null,2),Os("span",iC,te(k(e.payment_method)),1)]))])]),Os("div",oC,[Os("p",lC,"$"+te(y(e.total_amount)),1),Os("p",cC,te((null==(a=e.items)?void 0:a.length)||0)+" items",1)])])],8,Yk)}),128))])):(bs(),ks("div",uC,[...n[28]||(n[28]=[Os("i",{class:"fas fa-receipt text-4xl text-gray-300 mb-3"},null,-1),Os("p",{class:"text-gray-500 text-lg"},"No sales found",-1),Os("p",{class:"text-gray-400 text-sm mt-1"},"Try adjusting your filters",-1)])])),Ds(gr,{name:"slide-up"},{default:un(()=>[i.value?(bs(),ks("div",dC,[Os("div",{class:"absolute inset-0 bg-black/50",onClick:n[4]||(n[4]=e=>i.value=!1)}),Os("div",hC,[Os("div",pC,[n[30]||(n[30]=Os("div",null,[Os("h3",{class:"text-lg font-bold"},"Advanced Filters"),Os("p",{class:"text-primary-light text-sm"},"Refine your sales search")],-1)),Os("button",{onClick:n[5]||(n[5]=e=>i.value=!1),class:"p-2 hover:bg-white/10 rounded-lg transition"},[...n[29]||(n[29]=[Os("i",{class:"fas fa-times text-xl"},null,-1)])])]),Os("div",fC,[Os("div",mC,[Os("div",null,[n[31]||(n[31]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Start Date",-1)),dn(Os("input",{"onUpdate:modelValue":n[6]||(n[6]=e=>u.value.start_date=e),type:"date",class:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all"},null,512),[[ei,u.value.start_date]])]),Os("div",null,[n[32]||(n[32]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"End Date",-1)),dn(Os("input",{"onUpdate:modelValue":n[7]||(n[7]=e=>u.value.end_date=e),type:"date",class:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all"},null,512),[[ei,u.value.end_date]])])]),Os("div",gC,[Os("div",null,[n[33]||(n[33]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Start Time",-1)),dn(Os("input",{"onUpdate:modelValue":n[8]||(n[8]=e=>u.value.start_time=e),type:"time",class:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all"},null,512),[[ei,u.value.start_time]])]),Os("div",null,[n[34]||(n[34]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"End Time",-1)),dn(Os("input",{"onUpdate:modelValue":n[9]||(n[9]=e=>u.value.end_time=e),type:"time",class:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all"},null,512),[[ei,u.value.end_time]])])]),Os("div",null,[n[37]||(n[37]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cashier",-1)),Os("div",vC,[dn(Os("select",{"onUpdate:modelValue":n[10]||(n[10]=e=>u.value.cashier_id=e),class:"w-full appearance-none px-3 py-2 pr-10 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all cursor-pointer"},[n[35]||(n[35]=Os("option",{value:""},"All Cashiers",-1)),(bs(!0),ks(ps,null,aa(a.value,e=>(bs(),ks("option",{key:e.id,value:e.id},te(e.name),9,yC))),128))],512),[[si,u.value.cashier_id]]),n[36]||(n[36]=Os("i",{class:"fas fa-chevron-down absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs pointer-events-none"},null,-1))])]),s.value.length>1?(bs(),ks("div",bC,[n[40]||(n[40]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Branch",-1)),Os("div",xC,[dn(Os("select",{"onUpdate:modelValue":n[11]||(n[11]=e=>u.value.branch_id=e),class:"w-full appearance-none px-3 py-2 pr-10 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all cursor-pointer"},[n[38]||(n[38]=Os("option",{value:""},"All Branches",-1)),(bs(!0),ks(ps,null,aa(s.value,e=>(bs(),ks("option",{key:e.id,value:e.id},te(e.name),9,wC))),128))],512),[[si,u.value.branch_id]]),n[39]||(n[39]=Os("i",{class:"fas fa-chevron-down absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs pointer-events-none"},null,-1))])])):Ls("",!0)]),Os("div",{class:"border-t p-4 md:p-6 flex gap-3 sticky bottom-0 bg-white"},[Os("button",{onClick:v,class:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition text-sm"},[...n[41]||(n[41]=[Os("i",{class:"fas fa-redo mr-2"},null,-1),Is(" Reset ",-1)])]),Os("button",{onClick:g,class:"flex-1 px-4 py-2.5 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition text-sm"},[...n[42]||(n[42]=[Os("i",{class:"fas fa-check mr-2"},null,-1),Is(" Apply Filters ",-1)])])])])])):Ls("",!0)]),_:1}),Ds(gr,{name:"fade"},{default:un(()=>{var e;return[r.value&&o.value?(bs(),ks("div",_C,[Os("div",{class:"absolute inset-0 bg-black/50",onClick:w}),Os("div",kC,[Os("div",CC,[Os("div",null,[n[43]||(n[43]=Os("h3",{class:"text-lg font-bold"},"Sale Details",-1)),Os("p",SC,te(o.value.receipt_number),1)]),Os("button",{onClick:w,class:"p-2 hover:bg-white/10 rounded-lg transition"},[...n[44]||(n[44]=[Os("i",{class:"fas fa-times text-xl"},null,-1)])])]),Os("div",EC,[Os("div",PC,[Os("div",null,[n[45]||(n[45]=Os("p",{class:"text-gray-500"},"Date & Time",-1)),Os("p",AC,te(x(o.value.created_at)),1)]),Os("div",null,[n[46]||(n[46]=Os("p",{class:"text-gray-500"},"Cashier",-1)),Os("p",OC,te((null==(e=o.value.user)?void 0:e.name)||"Unknown"),1)]),Os("div",null,[n[47]||(n[47]=Os("p",{class:"text-gray-500"},"Status",-1)),Os("span",{class:Y(["inline-block px-2 py-1 text-xs font-medium rounded-full","completed"===o.value.status?"status-success":"status-failed"])},te(o.value.status),3)]),Os("div",null,[n[48]||(n[48]=Os("p",{class:"text-gray-500"},"Payment Method",-1)),Os("p",DC,te("split"===o.value.payment_method?"Split Payment":o.value.payment_method),1)])]),Os("div",null,[n[49]||(n[49]=Os("h4",{class:"font-semibold text-gray-800 mb-2"},"Items",-1)),Os("div",MC,[(bs(!0),ks(ps,null,aa(o.value.items,e=>{var t;return bs(),ks("div",{key:e.id,class:"p-3 flex justify-between items-center"},[Os("div",null,[Os("p",TC,te((null==(t=e.product)?void 0:t.name)||"Unknown Product"),1),Os("p",IC,te(e.quantity)+" x $"+te(y(e.unit_price)),1)]),Os("p",jC,"$"+te(y(e.line_total)),1)])}),128))])]),Os("div",LC,[Os("div",FC,[n[50]||(n[50]=Os("span",{class:"text-gray-500"},"Subtotal",-1)),Os("span",NC,"$"+te(y(o.value.subtotal)),1)]),o.value.discount_amount>0?(bs(),ks("div",RC,[n[51]||(n[51]=Os("span",{class:"text-gray-500"},"Discount",-1)),Os("span",BC,"-$"+te(y(o.value.discount_amount)),1)])):Ls("",!0),o.value.tax_amount>0?(bs(),ks("div",VC,[n[52]||(n[52]=Os("span",{class:"text-gray-500"},"Tax",-1)),Os("span",zC,"$"+te(y(o.value.tax_amount)),1)])):Ls("",!0),Os("div",UC,[n[53]||(n[53]=Os("span",{class:"text-gray-800"},"Total",-1)),Os("span",qC,"$"+te(y(o.value.total_amount)),1)])]),Os("div",null,[n[56]||(n[56]=Os("h4",{class:"font-semibold text-gray-800 mb-2"},"Payment Details",-1)),Os("div",HC,[o.value.payments&&o.value.payments.length>0?(bs(),ks(ps,{key:0},[(bs(!0),ks(ps,null,aa(o.value.payments,e=>(bs(),ks("div",{key:e.id,class:"flex justify-between items-center text-sm"},[Os("span",WC,[Os("i",{class:Y(_(e.method))},null,2),Os("span",$C,te(k(e.method)),1)]),Os("span",KC,"$"+te(y(e.amount)),1)]))),128)),Os("div",YC,[Os("div",GC,[n[54]||(n[54]=Os("span",{class:"text-blue-800"},"Total Paid",-1)),Os("span",XC,"$"+te(y(o.value.amount_paid)),1)])])],64)):(bs(),ks("div",QC,[Os("span",JC,[Os("i",{class:Y(_(o.value.payment_method))},null,2),Os("span",ZC,te(k(o.value.payment_method)),1)]),Os("span",eS,"$"+te(y(o.value.amount_paid)),1)])),o.value.change_amount>0?(bs(),ks("div",tS,[n[55]||(n[55]=Os("span",{class:"text-blue-800"},"Change Given",-1)),Os("span",nS,"$"+te(y(o.value.change_amount)),1)])):Ls("",!0)])])]),Os("div",{class:"border-t p-4"},[Os("button",{onClick:w,class:"w-full py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition"}," Close ")])])])):Ls("",!0)]}),_:1})]))}},sS=Ti(aS,[["__scopeId","data-v-cac84d3f"]]),rS={class:"space-y-4"},iS={class:"flex items-start gap-3"},oS={class:"flex-shrink-0"},lS={class:"flex-1 min-w-0"},cS={class:"flex items-center justify-between"},uS={class:"text-gray-600 text-sm"},dS={class:"flex items-center justify-end gap-2 mb-5"},hS={class:"relative flex-1"},pS={key:0,class:"absolute -top-1 -right-1 w-4 h-4 bg-accent text-white text-xs rounded-full flex items-center justify-center"},fS={class:"flex items-center bg-white border border-gray-200 rounded-lg shadow-sm"},mS={key:0,class:"flex items-center justify-center py-20"},gS={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-100 p-12 text-center"},vS={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},yS={class:"overflow-x-auto"},bS={class:"w-full"},xS={class:"divide-y divide-gray-100"},wS={class:"px-4 py-3"},_S={class:"flex items-center gap-3"},kS={class:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0"},CS=["src","alt","onError"],SS={key:1,class:"fas fa-box text-gray-400 text-lg"},ES={class:"min-w-0"},PS={class:"font-semibold text-gray-800 truncate"},AS={class:"text-xs text-gray-500 truncate"},OS={class:"px-4 py-3 text-right"},DS={class:"font-semibold text-gray-800"},MS={class:"px-4 py-3 text-right"},TS={class:"flex flex-col items-end"},IS={class:"font-semibold text-gray-800"},jS={class:"px-4 py-3 text-center"},LS={class:"px-4 py-3"},FS={class:"flex items-center justify-center gap-1"},NS=["onClick"],RS=["onClick"],BS=["onClick"],VS={key:3,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},zS={class:"aspect-square bg-gray-100 relative"},US=["src","alt","onError"],qS={key:1,class:"w-full h-full flex items-center justify-center"},HS={class:"p-3"},WS=["title"],$S={class:"text-lg font-bold text-green-600"},KS={class:"flex items-center gap-1 mt-3 pt-3 border-t border-gray-100"},YS=["onClick"],GS=["onClick"],XS=["onClick"],QS={class:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col"},JS={class:"p-4 border-b border-gray-100 flex items-center justify-between flex-shrink-0"},ZS={class:"text-lg font-bold text-gray-800"},eE={class:"text-xs text-gray-500 mt-0.5"},tE={class:"px-4 py-3 bg-gray-50 border-b border-gray-100 flex-shrink-0"},nE={class:"flex items-center justify-between"},aE=["onClick"],sE={key:0,class:"fas fa-check text-xs"},rE={key:1},iE={class:"flex-1 overflow-y-auto p-4"},oE={class:"space-y-4"},lE={class:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200"},cE={key:0,class:"text-center"},uE=["src"],dE={key:2,class:"text-center"},hE={class:"flex-1"},pE={class:"flex flex-wrap gap-2"},fE=["disabled"],mE=["disabled"],gE={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},vE={class:"space-y-4"},yE={class:"relative"},bE=["value"],xE={class:"relative"},wE={class:"space-y-4"},_E={class:"flex gap-2"},kE=["disabled"],CE={class:"space-y-4"},SE={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},EE={class:"relative"},PE={class:"relative"},AE={key:0,class:"p-4 bg-gray-50 rounded-lg border border-gray-100"},OE={class:"flex items-center justify-between"},DE={class:"mt-2 h-2 bg-gray-200 rounded-full overflow-hidden"},ME={class:"relative"},TE={class:"space-y-4"},IE={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},jE=["required","disabled"],LE={key:0,class:"text-xs text-amber-600 mt-1"},FE={class:"space-y-3"},NE={class:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors border border-gray-200"},RE={class:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors border border-gray-200"},BE={class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},VE={class:"flex items-center justify-between cursor-pointer"},zE={class:"relative"},UE={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},qE={class:"flex items-start gap-3"},HE={class:"text-sm text-red-600"},WE={class:"p-4 border-t border-gray-100 flex items-center justify-between flex-shrink-0 bg-gray-50"},$E={key:1},KE={class:"flex gap-2"},YE=["disabled"],GE={key:0,class:"fas fa-spinner fa-spin text-xs"},XE={key:1,class:"fas fa-check text-xs"},QE={class:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto"},JE={key:0,class:"p-6 space-y-5"},ZE={class:"flex items-center gap-4"},eP={class:"flex-1"},tP={class:"text-lg font-bold text-gray-800"},nP={class:"text-sm text-gray-500"},aP={class:"grid grid-cols-2 gap-4"},sP={class:"p-4 bg-gray-50 rounded-lg"},rP={class:"text-xl font-bold text-gray-800"},iP={class:"p-4 bg-green-50 rounded-lg"},oP={class:"text-xl font-bold text-green-600"},lP={class:"p-4 bg-gray-50 rounded-lg"},cP={class:"flex items-center justify-between mb-2"},uP={class:"text-2xl font-bold text-gray-800"},dP={class:"text-xs text-gray-500 mt-1"},hP={class:"flex gap-3 pt-4"},pP={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},fP={class:"p-6"},mP={class:"text-gray-600 text-center mb-6"},gP={class:"flex gap-3"},vP=["disabled"],yP={key:0,class:"fixed bottom-0 left-0 right-0 bg-white rounded-t-3xl z-50 max-h-[80vh] overflow-hidden"},bP={class:"flex items-center justify-between px-5 pb-4 border-b border-gray-100"},xP={class:"flex items-center gap-3"},wP={class:"p-5 space-y-5 overflow-y-auto max-h-[50vh]"},_P={class:"flex flex-wrap gap-2"},kP={class:"flex flex-wrap gap-2"},CP={class:"flex flex-wrap gap-2"},SP=["onClick"],EP={__name:"products",setup(e){const t="https://pos-dev.xash.co.zw/api",n=t.replace("/api",""),{scan:a,isScanning:s,initialize:r}=Bg(),i=At(!0),o=At([]),l=At([]),c=At(""),u=At("grid"),d=At(!1);function h(e){if(!e)return null;if(e.startsWith("http"))return e;const t=e.replace(/^\/+/,"");return"".concat(n,"/storage/").concat(t)}function p(e,t){e.target.style.display="none"}const f=At({status:"",stock:"",category:""}),m=nr(()=>""!==f.value.status||""!==f.value.stock||""!==f.value.category),g=nr(()=>{let e=0;return""!==f.value.status&&e++,""!==f.value.stock&&e++,""!==f.value.category&&e++,e});function v(){d.value=!1,z()}function y(){f.value.status="",f.value.stock="",f.value.category=""}const b=At(!1),x=At(!1),w=At(!1),_=At(!1),k=At(!1),C=At(!1),S=At(""),E=At(null),P=At(null),A=At(null),O=At(null),D=At(!1);async function M(e,t=1200,n=1200,a=.8){return new Promise((s,r)=>{const i=new FileReader;i.onload=i=>{const o=new Image;o.onload=()=>{let{width:i,height:l}=o;if(i>t||l>n){const e=Math.min(t/i,n/l);i=Math.round(i*e),l=Math.round(l*e)}const c=document.createElement("canvas");c.width=i,c.height=l;c.getContext("2d").drawImage(o,0,0,i,l),c.toBlob(t=>{if(t){const n=new File([t],e.name,{type:"image/jpeg",lastModified:Date.now()});s(n)}else r(new Error("Failed to compress image"))},"image/jpeg",a)},o.onerror=()=>r(new Error("Failed to load image")),o.src=i.target.result},i.onerror=()=>r(new Error("Failed to read file")),i.readAsDataURL(e)})}async function T(e){const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))try{D.value=!0;let e=t;t.size>1048576&&(console.log("Compressing image from ".concat((t.size/1024/1024).toFixed(2),"MB...")),e=await M(t),console.log("Compressed to ".concat((e.size/1024/1024).toFixed(2),"MB"))),e.size>2097152&&(e=await M(t,1e3,1e3,.6),console.log("Re-compressed to ".concat((e.size/1024/1024).toFixed(2),"MB"))),A.value=e,O.value=URL.createObjectURL(e),F("success","Image Ready","Size: ".concat((e.size/1024).toFixed(0),"KB"))}catch(n){console.error("Image processing error:",n),F("error","Error","Failed to process image")}finally{D.value=!1,e.target.value=""}else F("error","Error","Please select an image file")}function I(){A.value=null,O.value=null}async function j(){const e=await a();e&&(B.value.barcode=e,F("success","Scanned","Barcode: ".concat(e)))}const L=At({show:!1,type:"success",title:"",message:""});function F(e,t,n){L.value={show:!0,type:e,title:t,message:n},setTimeout(()=>{L.value.show=!1},4e3)}const N=At(0),R=[{title:"Basic Info",icon:"fas fa-info-circle"},{title:"Pricing",icon:"fas fa-dollar-sign"},{title:"Inventory",icon:"fas fa-boxes"}],B=At({name:"",sku:"",barcode:"",description:"",category_id:"",unit:"pcs",cost_price:"",selling_price:"",wholesale_price:"",stock_quantity:"",reorder_level:10,track_stock:!0,track_expiry:!1,is_active:!0}),V=nr(()=>{const e=parseFloat(B.value.cost_price)||0,t=parseFloat(B.value.selling_price)||0;return 0===e?0:(t-e)/e*100});async function z(){i.value=!0;try{const e=new URLSearchParams({search:c.value,...f.value}),n=await zh.get("".concat(t,"/manager/products?").concat(e));o.value=n.data||[]}catch(e){console.error("Failed to fetch products:",e)}finally{i.value=!1}}function U(){z()}function H(e){return parseFloat(e||0).toFixed(2)}function W(){N.value<R.length-1&&N.value++}function $(){N.value>0&&N.value--}function K(){_.value=!1,E.value=null,B.value={name:"",sku:"",barcode:"",description:"",category_id:"",unit:"pcs",cost_price:"",selling_price:"",wholesale_price:"",stock_quantity:"",reorder_level:10,track_stock:!0,track_expiry:!1,is_active:!0},N.value=0,S.value="",A.value=null,O.value=null,b.value=!0}function G(e){_.value=!0,E.value=e,B.value={name:e.name,sku:e.sku,barcode:e.barcode||"",description:e.description||"",category_id:e.category_id||"",unit:e.unit||"pcs",cost_price:e.cost_price,selling_price:e.price,wholesale_price:e.wholesale_price||"",stock_quantity:e.stock_quantity,reorder_level:e.reorder_level||10,track_stock:!1!==e.track_stock,track_expiry:e.track_expiry||!1,is_active:!1!==e.is_active},A.value=null,O.value=e.image?h(e.image):null,N.value=0,S.value="",b.value=!0}function X(e){E.value=e,x.value=!0}function Q(){b.value=!1,E.value=null,S.value="",A.value=null,O.value=null}function J(){x.value=!1,E.value=null}function Z(e){P.value=e,w.value=!0}function ee(){w.value=!1,P.value=null}async function ne(){k.value=!0,S.value="";try{const e=new FormData;e.append("name",B.value.name),e.append("sku",B.value.sku||""),B.value.barcode&&e.append("barcode",B.value.barcode),B.value.description&&e.append("description",B.value.description),B.value.category_id&&e.append("category_id",B.value.category_id),e.append("unit",B.value.unit),e.append("cost_price",B.value.cost_price),e.append("selling_price",B.value.selling_price),B.value.wholesale_price&&e.append("wholesale_price",B.value.wholesale_price),B.value.reorder_level&&e.append("reorder_level",B.value.reorder_level),e.append("track_stock",B.value.track_stock?"1":"0"),e.append("track_expiry",B.value.track_expiry?"1":"0"),A.value&&e.append("image",A.value),_.value?(e.append("is_active",B.value.is_active?"1":"0"),e.append("_method","PUT"),await zh.postForm("".concat(t,"/manager/products/").concat(E.value.id),e),await z(),Q(),F("success","Product Updated","".concat(B.value.name," has been updated successfully."))):(e.append("stock_quantity",B.value.stock_quantity),await zh.postForm("".concat(t,"/manager/products"),e),await z(),Q(),F("success","Product Created","".concat(B.value.name," has been added successfully.")))}catch(e){console.error("Failed to save product:",e),S.value=e.message||"Failed to save product. Please try again.",F("error","Error",e.message||"Failed to save product. Please try again.")}finally{k.value=!1}}async function ae(){C.value=!0;const e=P.value.name;try{await zh.delete("".concat(t,"/manager/products/").concat(P.value.id)),o.value=o.value.filter(e=>e.id!==P.value.id),ee(),F("success","Product Deleted","".concat(e," has been deleted successfully."))}catch(n){console.error("Failed to delete product:",n),F("error","Error","Failed to delete product. Please try again.")}finally{C.value=!1}}return Un(()=>{z(),async function(){try{const e=await zh.get("".concat(t,"/manager/categories"));l.value=e.data||[]}catch(e){console.error("Failed to fetch categories:",e)}}(),r()}),(e,t)=>{var n;return bs(),ks("div",rS,[Ds(gr,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:un(()=>[L.value.show?(bs(),ks("div",{key:0,class:Y(["fixed top-4 right-4 z-[60] max-w-sm w-full rounded-lg shadow-lg p-4","success"===L.value.type?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"])},[Os("div",iS,[Os("div",oS,[Os("i",{class:Y(["success"===L.value.type?"fas fa-check-circle text-green-500":"fas fa-exclamation-circle text-red-500","text-lg"])},null,2)]),Os("div",lS,[Os("p",{class:Y(["text-sm font-medium","success"===L.value.type?"text-green-800":"text-red-800"])},te(L.value.title),3),Os("p",{class:Y(["text-sm mt-1","success"===L.value.type?"text-green-600":"text-red-600"])},te(L.value.message),3)]),Os("button",{onClick:t[0]||(t[0]=e=>L.value.show=!1),class:Y(["flex-shrink-0","success"===L.value.type?"text-green-400 hover:text-green-600":"text-red-400 hover:text-red-600"])},[...t[32]||(t[32]=[Os("i",{class:"fas fa-times"},null,-1)])],2)])],2)):Ls("",!0)]),_:1}),Os("div",cS,[Os("div",null,[t[33]||(t[33]=Os("h1",{class:"text-2xl font-bold text-gray-800"},"Products",-1)),Os("p",uS,te(o.value.length)+" products",1)]),Os("button",{onClick:K,class:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all shadow-sm hover:shadow-md flex items-center gap-2 text-sm"},[...t[34]||(t[34]=[Os("i",{class:"fas fa-plus"},null,-1),Os("span",{class:"hidden md:inline"},"Add Product",-1),Os("span",{class:"md:hidden"},"Add",-1)])])]),Os("div",dS,[Os("div",hS,[t[35]||(t[35]=Os("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs"},null,-1)),dn(Os("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),onInput:U,type:"text",placeholder:"Search...",class:"w-full pl-8 pr-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all shadow-sm"},null,544),[[ei,c.value]])]),Os("button",{onClick:t[2]||(t[2]=e=>d.value=!0),class:"relative px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 transition-all shadow-sm flex items-center gap-2"},[t[36]||(t[36]=Os("i",{class:"fas fa-sliders-h text-sm"},null,-1)),t[37]||(t[37]=Os("span",{class:"hidden md:inline text-sm"},"Filters",-1)),m.value?(bs(),ks("span",pS,te(g.value),1)):Ls("",!0)]),Os("div",fS,[Os("button",{onClick:t[3]||(t[3]=e=>u.value="list"),class:Y(["px-2.5 py-1.5 rounded-lg text-sm transition-all","list"===u.value?"bg-primary text-white":"text-gray-500 hover:text-gray-700"])},[...t[38]||(t[38]=[Os("i",{class:"fas fa-list text-xs"},null,-1)])],2),Os("button",{onClick:t[4]||(t[4]=e=>u.value="grid"),class:Y(["px-2.5 py-1.5 rounded-lg text-sm transition-all","grid"===u.value?"bg-primary text-white":"text-gray-500 hover:text-gray-700"])},[...t[39]||(t[39]=[Os("i",{class:"fas fa-th-large text-xs"},null,-1)])],2)])]),t[112]||(t[112]=Os("br",null,null,-1)),i.value?(bs(),ks("div",mS,[...t[40]||(t[40]=[Os("i",{class:"fas fa-spinner fa-spin text-3xl text-primary"},null,-1)])])):0===o.value.length?(bs(),ks("div",gS,[...t[41]||(t[41]=[Os("i",{class:"fas fa-box text-5xl text-gray-300 mb-4"},null,-1),Os("p",{class:"text-gray-500 text-lg"},"No products found",-1),Os("p",{class:"text-gray-400 text-sm mt-1"},"Add your first product to get started",-1)])])):"list"===u.value?(bs(),ks("div",vS,[Os("div",yS,[Os("table",bS,[t[45]||(t[45]=Os("thead",{class:"bg-gray-50 border-b border-gray-200"},[Os("tr",null,[Os("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Product"),Os("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"Price"),Os("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"Stock"),Os("th",{class:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase"},"Status"),Os("th",{class:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase"},"Actions")])],-1)),Os("tbody",xS,[(bs(!0),ks(ps,null,aa(o.value,e=>{var n;return bs(),ks("tr",{key:e.id,class:"hover:bg-gray-50 transition-colors"},[Os("td",wS,[Os("div",_S,[Os("div",kS,[e.image?(bs(),ks("img",{key:0,src:h(e.image),alt:e.name,class:"w-full h-full object-cover",onError:e=>p(e)},null,40,CS)):(bs(),ks("i",SS))]),Os("div",ES,[Os("p",PS,te(e.name),1),Os("p",AS,te((null==(n=e.category)?void 0:n.name)||"Uncategorized"),1)])])]),Os("td",OS,[Os("span",DS,"$"+te(H(e.price)),1)]),Os("td",MS,[Os("div",TS,[Os("span",IS,te(e.stock_quantity||0),1),Os("span",{class:Y(["text-xs font-medium",e.stock_quantity>10?"text-green-600":"text-red-600"])},te(e.stock_quantity>10?"Good":"Low"),3)])]),Os("td",jS,[Os("span",{class:Y(["px-2 py-1 text-xs font-medium rounded-full",e.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},te(e.is_active?"Active":"Inactive"),3)]),Os("td",LS,[Os("div",FS,[Os("button",{onClick:t=>X(e),class:"p-1.5 md:px-2.5 md:py-1.5 rounded transition flex items-center gap-1 text-white bg-gray-600 hover:bg-gray-700"},[...t[42]||(t[42]=[Os("i",{class:"fas fa-eye text-sm"},null,-1),Os("span",{class:"hidden md:inline text-xs font-medium"},"View",-1)])],8,NS),Os("button",{onClick:t=>G(e),class:"p-1.5 md:px-2.5 md:py-1.5 bg-primary rounded transition flex items-center gap-1 text-white"},[...t[43]||(t[43]=[Os("i",{class:"fas fa-edit text-sm"},null,-1),Os("span",{class:"hidden md:inline text-xs font-medium"},"Edit",-1)])],8,RS),Os("button",{onClick:t=>Z(e),class:"p-1.5 md:px-2.5 md:py-1.5 bg-danger rounded transition flex items-center gap-1 text-white"},[...t[44]||(t[44]=[Os("i",{class:"fas fa-trash text-sm"},null,-1),Os("span",{class:"hidden md:inline text-xs font-medium"},"Delete",-1)])],8,BS)])])])}),128))])])])])):(bs(),ks("div",VS,[(bs(!0),ks(ps,null,aa(o.value,e=>(bs(),ks("div",{key:e.id,class:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow"},[Os("div",zS,[e.image?(bs(),ks("img",{key:0,src:h(e.image),alt:e.name,class:"w-full h-full object-cover",onError:e=>p(e)},null,40,US)):(bs(),ks("div",qS,[...t[46]||(t[46]=[Os("i",{class:"fas fa-box text-gray-300 text-4xl"},null,-1)])])),Os("span",{class:Y(["absolute top-2 right-2 px-2 py-0.5 text-xs font-medium rounded-full",e.is_active?"bg-green-500 text-white":"bg-red-500 text-white"])},te(e.is_active?"Active":"Inactive"),3),Os("span",{class:Y(["absolute top-2 left-2 px-2 py-0.5 text-xs font-medium rounded-full",e.stock_quantity>10?"bg-gray-500 text-white":"bg-orange-500 text-white"])},te(e.stock_quantity||0),3)]),Os("div",HS,[Os("h3",{class:"font-semibold text-gray-800 text-sm truncate",title:e.name},te(e.name),9,WS),Os("span",$S,"$"+te(H(e.price)),1),Os("div",KS,[Os("button",{onClick:t=>X(e),class:"flex-1 py-1.5 text-xs font-medium text-white rounded transition bg-gray-600 hover:bg-gray-700"},[...t[47]||(t[47]=[Os("i",{class:"fas fa-eye md:mr-1"},null,-1),Os("span",{class:"hidden md:inline"},"View",-1)])],8,YS),Os("button",{onClick:t=>G(e),class:"flex-1 py-1.5 text-xs font-medium text-white bg-primary rounded transition"},[...t[48]||(t[48]=[Os("i",{class:"fas fa-edit md:mr-1"},null,-1),Os("span",{class:"hidden md:inline"},"Edit",-1)])],8,GS),Os("button",{onClick:t=>Z(e),class:"flex-1 py-1.5 text-xs font-medium text-white bg-danger rounded transition"},[...t[49]||(t[49]=[Os("i",{class:"fas fa-trash md:mr-1"},null,-1),Os("span",{class:"hidden md:inline"},"Delete",-1)])],8,XS)])])]))),128))])),b.value?(bs(),ks("div",{key:4,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:hi(Q,["self"])},[Os("div",QS,[Os("div",JS,[Os("div",null,[Os("h2",ZS,te(_.value?"Edit Product":"Add New Product"),1),Os("p",eE,te(_.value?"Update product information":"Add a new product to your inventory"),1)]),Os("button",{onClick:Q,class:"text-gray-400 hover:text-gray-600 p-1"},[...t[50]||(t[50]=[Os("i",{class:"fas fa-times text-lg"},null,-1)])])]),Os("div",tE,[Os("div",nE,[(bs(),ks(ps,null,aa(R,(e,t)=>(bs(),ks(ps,{key:t},[Os("div",{class:"flex items-center cursor-pointer",onClick:e=>function(e){N.value=e}(t)},[Os("div",{class:Y(["w-8 h-8 rounded-full flex items-center justify-center font-semibold text-xs transition-all",N.value===t?"bg-primary text-white":N.value>t?"bg-primary-light text-primary":"bg-gray-200 text-gray-500"])},[N.value>t?(bs(),ks("i",sE)):(bs(),ks("span",rE,te(t+1),1))],2),Os("span",{class:Y(["ml-2 text-xs font-medium hidden sm:block",N.value===t?"text-primary":"text-gray-500"])},te(e.title),3)],8,aE),t<R.length-1?(bs(),ks("div",{key:0,class:Y(["flex-1 mx-3 h-0.5",N.value>t?"bg-primary":"bg-gray-200"])},null,2)):Ls("",!0)],64))),64))])]),Os("div",iE,[Os("form",{onSubmit:hi(ne,["prevent"]),class:"space-y-4"},[dn(Os("div",oE,[Os("div",lE,[Os("div",{class:"w-24 h-24 bg-white rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden flex-shrink-0 cursor-pointer hover:border-green-500 transition-colors",onClick:t[5]||(t[5]=t=>!D.value&&e.$refs.cameraInput.click())},[D.value?(bs(),ks("div",cE,[...t[51]||(t[51]=[Os("i",{class:"fas fa-spinner fa-spin text-green-500 text-2xl"},null,-1),Os("p",{class:"text-xs text-gray-400 mt-1"},"Processing...",-1)])])):O.value?(bs(),ks("img",{key:1,src:O.value,alt:"Product preview",class:"w-full h-full object-cover"},null,8,uE)):(bs(),ks("div",dE,[...t[52]||(t[52]=[Os("i",{class:"fas fa-camera text-gray-400 text-2xl"},null,-1),Os("p",{class:"text-xs text-gray-400 mt-1"},"Add Image",-1)])]))]),Os("div",hE,[t[56]||(t[56]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Product Image",-1)),t[57]||(t[57]=Os("p",{class:"text-xs text-gray-500 mb-2"},"Take a photo or upload an image (max 2MB)",-1)),Os("input",{ref:"imageInput",type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp",class:"hidden",onChange:T},null,544),Os("input",{ref:"cameraInput",type:"file",accept:"image/*",capture:"environment",class:"hidden",onChange:T},null,544),Os("div",pE,[Os("button",{type:"button",onClick:t[6]||(t[6]=t=>e.$refs.cameraInput.click()),disabled:D.value,class:"px-3 py-1.5 text-xs font-medium bg-primary text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50"},[Os("i",{class:Y([D.value?"fas fa-spinner fa-spin":"fas fa-camera","mr-1"])},null,2),t[53]||(t[53]=Is("Camera ",-1))],8,fE),Os("button",{type:"button",onClick:t[7]||(t[7]=t=>e.$refs.imageInput.click()),disabled:D.value,class:"px-3 py-1.5 text-xs font-medium bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition disabled:opacity-50"},[...t[54]||(t[54]=[Os("i",{class:"fas fa-upload mr-1"},null,-1),Is("Gallery ",-1)])],8,mE),O.value&&!D.value?(bs(),ks("button",{key:0,type:"button",onClick:I,class:"px-3 py-1.5 text-xs font-medium bg-danger text-white rounded-lg hover:bg-red-700 transition"},[...t[55]||(t[55]=[Os("i",{class:"fas fa-trash mr-1"},null,-1),Is("Remove ",-1)])])):Ls("",!0)])])]),Os("div",gE,[Os("div",vE,[Os("div",null,[t[58]||(t[58]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Product Name *",-1)),dn(Os("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>B.value.name=e),type:"text",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all",placeholder:"Enter product name"},null,512),[[ei,B.value.name]])]),Os("div",null,[t[61]||(t[61]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),Os("div",yE,[dn(Os("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>B.value.category_id=e),class:"w-full appearance-none px-4 py-3 pr-10 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all cursor-pointer"},[t[59]||(t[59]=Os("option",{value:""},"Select category",-1)),(bs(!0),ks(ps,null,aa(l.value,e=>(bs(),ks("option",{key:e.id,value:e.id},te(e.name),9,bE))),128))],512),[[si,B.value.category_id]]),t[60]||(t[60]=Os("i",{class:"fas fa-chevron-down absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-xs pointer-events-none"},null,-1))])]),Os("div",null,[t[64]||(t[64]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Unit of Measure",-1)),Os("div",xE,[dn(Os("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>B.value.unit=e),class:"w-full appearance-none px-4 py-3 pr-10 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all cursor-pointer"},[...t[62]||(t[62]=[js('<option value="pcs">Pieces (pcs)</option><option value="kg">Kilograms (kg)</option><option value="g">Grams (g)</option><option value="l">Liters (l)</option><option value="ml">Milliliters (ml)</option><option value="box">Box</option><option value="pack">Pack</option><option value="carton">Carton</option>',8)])],512),[[si,B.value.unit]]),t[63]||(t[63]=Os("i",{class:"fas fa-chevron-down absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-xs pointer-events-none"},null,-1))])])]),Os("div",wE,[Os("div",null,[t[65]||(t[65]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"SKU *",-1)),dn(Os("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>B.value.sku=e),type:"text",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all",placeholder:"Auto-generated if empty"},null,512),[[ei,B.value.sku]]),t[66]||(t[66]=Os("p",{class:"text-xs text-gray-500 mt-1"},"Leave empty to auto-generate",-1))]),Os("div",null,[t[67]||(t[67]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Barcode",-1)),Os("div",_E,[dn(Os("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>B.value.barcode=e),type:"text",class:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all",placeholder:"Scan or enter barcode"},null,512),[[ei,B.value.barcode]]),Os("button",{type:"button",onClick:j,disabled:Tt(s),class:"px-4 py-3 bg-primary text-white rounded-lg hover:bg-green-700 transition flex items-center justify-center"},[Os("i",{class:Y(Tt(s)?"fas fa-spinner fa-spin":"fas fa-barcode")},null,2)],8,kE)])]),Os("div",null,[t[68]||(t[68]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),dn(Os("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>B.value.description=e),rows:"3",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all resize-none",placeholder:"Product description (optional)"},null,512),[[ei,B.value.description]])])])])],512),[[Dr,0===N.value]]),dn(Os("div",CE,[Os("div",SE,[Os("div",null,[t[70]||(t[70]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cost Price *",-1)),Os("div",EE,[t[69]||(t[69]=Os("span",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium"},"$",-1)),dn(Os("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>B.value.cost_price=e),type:"number",step:"0.01",min:"0",required:"",class:"w-full pl-8 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all",placeholder:"0.00"},null,512),[[ei,B.value.cost_price]])])]),Os("div",null,[t[72]||(t[72]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Selling Price *",-1)),Os("div",PE,[t[71]||(t[71]=Os("span",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium"},"$",-1)),dn(Os("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>B.value.selling_price=e),type:"number",step:"0.01",min:"0",required:"",class:"w-full pl-8 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all",placeholder:"0.00"},null,512),[[ei,B.value.selling_price]])])])]),B.value.cost_price>0&&B.value.selling_price>0?(bs(),ks("div",AE,[Os("div",OE,[t[73]||(t[73]=Os("span",{class:"text-sm text-gray-600"},"Profit Margin",-1)),Os("span",{class:Y([V.value>=0?"text-green-600":"text-red-600","text-lg font-bold"])},te(V.value.toFixed(1))+"% ",3)]),Os("div",DE,[Os("div",{class:Y(["h-full transition-all duration-300",V.value>=0?"bg-green-500":"bg-red-500"]),style:q({width:Math.min(Math.max(V.value,0),100)+"%"})},null,6)])])):Ls("",!0),Os("div",null,[t[75]||(t[75]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Wholesale Price (Optional)",-1)),Os("div",ME,[t[74]||(t[74]=Os("span",{class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium"},"$",-1)),dn(Os("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>B.value.wholesale_price=e),type:"number",step:"0.01",min:"0",class:"w-full pl-8 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all",placeholder:"0.00"},null,512),[[ei,B.value.wholesale_price]])]),t[76]||(t[76]=Os("p",{class:"text-xs text-gray-500 mt-1"},"Price for bulk/wholesale customers",-1))])],512),[[Dr,1===N.value]]),dn(Os("div",TE,[Os("div",IE,[Os("div",null,[t[78]||(t[78]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Initial Stock Quantity *",-1)),dn(Os("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>B.value.stock_quantity=e),type:"number",min:"0",required:!_.value,disabled:_.value,class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"0"},null,8,jE),[[ei,B.value.stock_quantity]]),_.value?(bs(),ks("p",LE,[...t[77]||(t[77]=[Os("i",{class:"fas fa-info-circle mr-1"},null,-1),Is("Use Inventory page to adjust stock ",-1)])])):Ls("",!0)]),Os("div",null,[t[79]||(t[79]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reorder Level",-1)),dn(Os("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>B.value.reorder_level=e),type:"number",min:"0",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all",placeholder:"10"},null,512),[[ei,B.value.reorder_level]]),t[80]||(t[80]=Os("p",{class:"text-xs text-gray-500 mt-1"},"Alert when stock falls below this level",-1))])]),Os("div",null,[t[83]||(t[83]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Tracking Options",-1)),Os("div",FE,[Os("label",NE,[dn(Os("input",{type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=e=>B.value.track_stock=e),class:"w-5 h-5 text-green-600 rounded border-gray-300 focus:ring-green-500"},null,512),[[ti,B.value.track_stock]]),t[81]||(t[81]=Os("div",{class:"flex-1"},[Os("span",{class:"text-sm font-medium text-gray-800"},"Track Stock"),Os("p",{class:"text-xs text-gray-500"},"Monitor inventory levels and get low stock alerts")],-1))]),Os("label",RE,[dn(Os("input",{type:"checkbox","onUpdate:modelValue":t[20]||(t[20]=e=>B.value.track_expiry=e),class:"w-5 h-5 text-green-600 rounded border-gray-300 focus:ring-green-500"},null,512),[[ti,B.value.track_expiry]]),t[82]||(t[82]=Os("div",{class:"flex-1"},[Os("span",{class:"text-sm font-medium text-gray-800"},"Track Expiry"),Os("p",{class:"text-xs text-gray-500"},"Monitor expiration dates for perishable items")],-1))])])]),Os("div",BE,[Os("label",VE,[t[85]||(t[85]=Os("div",null,[Os("span",{class:"text-sm font-medium text-gray-800"},"Product Active"),Os("p",{class:"text-xs text-gray-500"},"Inactive products won't appear in POS")],-1)),Os("div",zE,[dn(Os("input",{type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=e=>B.value.is_active=e),class:"sr-only peer"},null,512),[[ti,B.value.is_active]]),t[84]||(t[84]=Os("div",{class:"w-11 h-6 bg-gray-300 peer-focus:ring-2 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"},null,-1))])])])],512),[[Dr,2===N.value]]),S.value?(bs(),ks("div",UE,[Os("div",qE,[t[86]||(t[86]=Os("i",{class:"fas fa-exclamation-circle text-red-500 mt-0.5"},null,-1)),Os("p",HE,te(S.value),1)])])):Ls("",!0)],32)]),Os("div",WE,[N.value>0?(bs(),ks("button",{key:0,type:"button",onClick:$,class:"px-3 py-2 text-sm bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition font-medium flex items-center gap-1.5"},[...t[87]||(t[87]=[Os("i",{class:"fas fa-arrow-left text-xs"},null,-1),Is(" Previous ",-1)])])):(bs(),ks("div",$E)),Os("div",KE,[Os("button",{type:"button",onClick:Q,class:"px-3 py-2 text-sm bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition font-medium"}," Cancel "),N.value<R.length-1?(bs(),ks("button",{key:0,type:"button",onClick:W,class:"px-3 py-2 text-sm bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium flex items-center gap-1.5"},[...t[88]||(t[88]=[Is(" Next ",-1),Os("i",{class:"fas fa-arrow-right text-xs"},null,-1)])])):(bs(),ks("button",{key:1,type:"button",onClick:ne,disabled:k.value,class:"px-3 py-2 text-sm bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium flex items-center gap-1.5 disabled:opacity-50 disabled:cursor-not-allowed"},[k.value?(bs(),ks("i",GE)):(bs(),ks("i",XE)),Is(" "+te(k.value?"Saving...":_.value?"Update":"Create"),1)],8,YE))])])])])):Ls("",!0),x.value?(bs(),ks("div",{key:5,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:hi(J,["self"])},[Os("div",QE,[Os("div",{class:"p-6 border-b border-gray-100 flex items-center justify-between"},[t[90]||(t[90]=Os("h2",{class:"text-xl font-bold text-gray-800"},"Product Details",-1)),Os("button",{onClick:J,class:"text-gray-400 hover:text-gray-600 p-2"},[...t[89]||(t[89]=[Os("i",{class:"fas fa-times text-xl"},null,-1)])])]),E.value?(bs(),ks("div",JE,[Os("div",ZE,[t[91]||(t[91]=Os("div",{class:"w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center"},[Os("i",{class:"fas fa-box text-green-600 text-2xl"})],-1)),Os("div",eP,[Os("h3",tP,te(E.value.name),1),Os("p",nP,"SKU: "+te(E.value.sku),1)]),Os("span",{class:Y(["px-3 py-1.5 text-xs font-medium rounded-full",E.value.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},te(E.value.is_active?"Active":"Inactive"),3)]),Os("div",aP,[Os("div",sP,[t[92]||(t[92]=Os("p",{class:"text-xs font-medium text-gray-500 uppercase mb-1"},"Cost Price",-1)),Os("p",rP,"$"+te(H(E.value.cost_price)),1)]),Os("div",iP,[t[93]||(t[93]=Os("p",{class:"text-xs font-medium text-gray-500 uppercase mb-1"},"Selling Price",-1)),Os("p",oP,"$"+te(H(E.value.price)),1)])]),Os("div",lP,[Os("div",cP,[t[94]||(t[94]=Os("p",{class:"text-xs font-medium text-gray-500 uppercase"},"Stock Quantity",-1)),Os("span",{class:Y(["text-xs font-medium px-2 py-1 rounded",E.value.stock_quantity>(E.value.reorder_level||10)?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},te(E.value.stock_quantity>(E.value.reorder_level||10)?"In Stock":"Low Stock"),3)]),Os("p",uP,te(E.value.stock_quantity||0),1),Os("p",dP,"Reorder level: "+te(E.value.reorder_level||"Not set"),1)]),Os("div",hP,[Os("button",{onClick:J,class:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium"}," Close "),Os("button",{onClick:t[22]||(t[22]=e=>{G(E.value),J()}),class:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2"},[...t[95]||(t[95]=[Os("i",{class:"fas fa-edit"},null,-1),Is("Edit ",-1)])])])])):Ls("",!0)])])):Ls("",!0),w.value?(bs(),ks("div",{key:6,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:hi(ee,["self"])},[Os("div",pP,[Os("div",fP,[t[98]||(t[98]=Os("div",{class:"flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mx-auto mb-4"},[Os("i",{class:"fas fa-exclamation-triangle text-red-600 text-2xl"})],-1)),t[99]||(t[99]=Os("h3",{class:"text-xl font-bold text-gray-800 text-center mb-2"},"Delete Product?",-1)),Os("p",mP,[t[96]||(t[96]=Is(" Are you sure you want to delete ",-1)),Os("strong",null,te(null==(n=P.value)?void 0:n.name),1),t[97]||(t[97]=Is("? This action cannot be undone. ",-1))]),Os("div",gP,[Os("button",{onClick:ee,class:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium"}," Cancel "),Os("button",{onClick:ae,disabled:C.value,class:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium disabled:bg-red-400 disabled:cursor-not-allowed"},te(C.value?"Deleting...":"Delete"),9,vP)])])])])):Ls("",!0),Ds(gr,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:un(()=>[d.value?(bs(),ks("div",{key:0,class:"fixed inset-0 bg-black/50 z-50",onClick:t[23]||(t[23]=e=>d.value=!1)})):Ls("",!0)]),_:1}),Ds(gr,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-y-full","enter-to-class":"translate-y-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-y-0","leave-to-class":"translate-y-full"},{default:un(()=>[d.value?(bs(),ks("div",yP,[t[111]||(t[111]=Os("div",{class:"flex justify-center pt-3 pb-2"},[Os("div",{class:"w-10 h-1 bg-gray-300 rounded-full"})],-1)),Os("div",bP,[t[101]||(t[101]=Os("h3",{class:"text-lg font-bold text-gray-800"},"Filters",-1)),Os("div",xP,[m.value?(bs(),ks("button",{key:0,onClick:y,class:"text-sm text-danger font-medium"}," Clear All ")):Ls("",!0),Os("button",{onClick:t[24]||(t[24]=e=>d.value=!1),class:"p-1.5 hover:bg-gray-100 rounded-lg transition"},[...t[100]||(t[100]=[Os("i",{class:"fas fa-times text-gray-500"},null,-1)])])])]),Os("div",wP,[Os("div",null,[t[104]||(t[104]=Os("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"Status",-1)),Os("div",_P,[Os("button",{onClick:t[25]||(t[25]=e=>f.value.status=""),class:Y(["px-4 py-2 rounded-full text-sm font-medium transition-all",""===f.value.status?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])}," All ",2),Os("button",{onClick:t[26]||(t[26]=e=>f.value.status="active"),class:Y(["px-4 py-2 rounded-full text-sm font-medium transition-all","active"===f.value.status?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},[...t[102]||(t[102]=[Os("i",{class:"fas fa-check-circle mr-1"},null,-1),Is("Active ",-1)])],2),Os("button",{onClick:t[27]||(t[27]=e=>f.value.status="inactive"),class:Y(["px-4 py-2 rounded-full text-sm font-medium transition-all","inactive"===f.value.status?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},[...t[103]||(t[103]=[Os("i",{class:"fas fa-times-circle mr-1"},null,-1),Is("Inactive ",-1)])],2)])]),Os("div",null,[t[107]||(t[107]=Os("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"Stock Level",-1)),Os("div",kP,[Os("button",{onClick:t[28]||(t[28]=e=>f.value.stock=""),class:Y(["px-4 py-2 rounded-full text-sm font-medium transition-all",""===f.value.stock?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])}," All ",2),Os("button",{onClick:t[29]||(t[29]=e=>f.value.stock="high"),class:Y(["px-4 py-2 rounded-full text-sm font-medium transition-all","high"===f.value.stock?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},[...t[105]||(t[105]=[Os("i",{class:"fas fa-box mr-1"},null,-1),Is("In Stock ",-1)])],2),Os("button",{onClick:t[30]||(t[30]=e=>f.value.stock="low"),class:Y(["px-4 py-2 rounded-full text-sm font-medium transition-all","low"===f.value.stock?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},[...t[106]||(t[106]=[Os("i",{class:"fas fa-exclamation-triangle mr-1"},null,-1),Is("Low Stock ",-1)])],2)])]),Os("div",null,[t[108]||(t[108]=Os("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"Category",-1)),Os("div",CP,[Os("button",{onClick:t[31]||(t[31]=e=>f.value.category=""),class:Y(["px-4 py-2 rounded-full text-sm font-medium transition-all",""===f.value.category?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])}," All ",2),(bs(!0),ks(ps,null,aa(l.value,e=>(bs(),ks("button",{key:e.id,onClick:t=>f.value.category=e.id,class:Y(["px-4 py-2 rounded-full text-sm font-medium transition-all",f.value.category===e.id?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},te(e.name),11,SP))),128))])])]),Os("div",{class:"p-5 border-t border-gray-100 bg-gray-50 flex gap-3"},[Os("button",{onClick:y,class:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-all"},[...t[109]||(t[109]=[Os("i",{class:"fas fa-redo mr-2"},null,-1),Is("Reset ",-1)])]),Os("button",{onClick:v,class:"flex-1 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition-all"},[...t[110]||(t[110]=[Os("i",{class:"fas fa-check mr-2"},null,-1),Is("Apply ",-1)])])])])):Ls("",!0)]),_:1})])}}},PP={class:"space-y-6"},AP={class:"flex items-center gap-4"},OP={key:0,class:"flex items-center justify-center py-20"},DP={key:1,class:"text-center py-20"},MP={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-6"},TP={class:"flex items-start gap-6"},IP={class:"w-24 h-24 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0"},jP=["src","alt"],LP={key:1,class:"fas fa-box text-gray-400 text-3xl"},FP={class:"flex-1"},NP={class:"text-xl font-bold text-gray-800"},RP={class:"text-sm text-gray-500 mt-1"},BP={key:0,class:"text-sm text-gray-500"},VP={class:"flex items-center gap-4 mt-3"},zP={class:"text-2xl font-bold text-green-600"},UP={class:"text-sm text-gray-500"},qP={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-gray-100"},HP={class:"text-sm font-semibold text-gray-800 mt-1"},WP={class:"text-sm font-semibold text-gray-800 mt-1"},$P={class:"text-sm font-semibold text-gray-800 mt-1"},KP={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},YP={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-6"},GP={class:"flex items-center justify-between"},XP={class:"text-3xl font-bold text-gray-900"},QP={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-6"},JP={class:"flex items-center justify-between"},ZP={class:"text-3xl font-bold text-green-600"},eA={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-6"},tA={class:"flex items-center justify-between"},nA={class:"text-3xl font-bold text-green-600"},aA={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-6"},sA={class:"flex items-center justify-between"},rA={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-4"},iA={class:"flex items-center gap-2 flex-wrap"},oA=["onClick"],lA={class:"bg-white rounded-lg shadow-sm border border-gray-100"},cA={key:0,class:"p-12 text-center"},uA={key:1,class:"divide-y divide-gray-100"},dA={class:"flex items-center justify-between"},hA={class:"font-medium text-gray-800"},pA={class:"text-sm text-gray-500"},fA={class:"text-xs text-gray-400"},mA={class:"text-right"},gA={class:"font-bold text-gray-900"},vA={class:"text-sm text-green-600"},yA={key:2,class:"p-4 border-t border-gray-100"},bA=["disabled"],xA={key:0,class:"fas fa-spinner fa-spin mr-2"},wA={__name:"ProductDetail",setup(e){const t=Fl(),n="https://pos-dev.xash.co.zw/api",a=At(!0),s=At(null),r=At({}),i=At([]),o=At(!1),l=At(!1),c=At(1),u=At("30"),d=[{value:"7",label:"7 Days"},{value:"30",label:"30 Days"},{value:"90",label:"90 Days"},{value:"all",label:"All Time"}];async function h(){a.value=!0;try{const e=t.params.id,a=await zh.get("".concat(n,"/manager/products/").concat(e,"?period=").concat(u.value));s.value=a.product,r.value=a.stats||{},i.value=a.recent_sales||[],l.value=a.has_more_sales||!1,c.value=1}catch(e){console.error("Failed to fetch product:",e),s.value=null}finally{a.value=!1}}async function p(){if(!o.value){o.value=!0,c.value++;try{const e=t.params.id,a=await zh.get("".concat(n,"/manager/products/").concat(e,"/sales?page=").concat(c.value,"&period=").concat(u.value));i.value=[...i.value,...a.sales||[]],l.value=a.has_more||!1}catch(e){console.error("Failed to load more sales:",e)}finally{o.value=!1}}}function f(e){if(!e)return"";if(e.startsWith("http"))return e;const t="https://pos-dev.xash.co.zw/api".replace("/api","");return"".concat(t,"/storage/").concat(e)}function m(e){return parseFloat(e||0).toFixed(2)}return Un(()=>{h()}),(e,t)=>{var n;return bs(),ks("div",PP,[Os("div",AP,[Os("button",{onClick:t[0]||(t[0]=t=>e.$router.back()),class:"p-2 rounded-lg hover:bg-gray-100 transition"},[...t[1]||(t[1]=[Os("i",{class:"fas fa-arrow-left text-gray-600"},null,-1)])]),t[2]||(t[2]=Os("div",null,[Os("h1",{class:"text-2xl font-bold text-gray-800"},"Product Details"),Os("p",{class:"text-gray-600"},"View product information and sales statistics")],-1))]),a.value?(bs(),ks("div",OP,[...t[3]||(t[3]=[Os("i",{class:"fas fa-spinner fa-spin text-4xl text-green-600"},null,-1)])])):s.value?(bs(),ks(ps,{key:2},[Os("div",MP,[Os("div",TP,[Os("div",IP,[s.value.image?(bs(),ks("img",{key:0,src:f(s.value.image),alt:s.value.name,class:"w-full h-full object-cover"},null,8,jP)):(bs(),ks("i",LP))]),Os("div",FP,[Os("h2",NP,te(s.value.name),1),Os("p",RP,"SKU: "+te(s.value.sku||"N/A"),1),s.value.barcode?(bs(),ks("p",BP,"Barcode: "+te(s.value.barcode),1)):Ls("",!0),Os("div",VP,[Os("span",zP,"$"+te(m(s.value.selling_price)),1),Os("span",UP,"Cost: $"+te(m(s.value.cost_price)),1)])])]),Os("div",qP,[Os("div",null,[t[5]||(t[5]=Os("p",{class:"text-xs text-gray-500 uppercase font-medium"},"Category",-1)),Os("p",HP,te((null==(n=s.value.category)?void 0:n.name)||"Uncategorized"),1)]),Os("div",null,[t[6]||(t[6]=Os("p",{class:"text-xs text-gray-500 uppercase font-medium"},"Unit",-1)),Os("p",WP,te(s.value.unit||"Piece"),1)]),Os("div",null,[t[7]||(t[7]=Os("p",{class:"text-xs text-gray-500 uppercase font-medium"},"Tax Rate",-1)),Os("p",$P,te(s.value.tax_rate||0)+"%",1)]),Os("div",null,[t[8]||(t[8]=Os("p",{class:"text-xs text-gray-500 uppercase font-medium"},"Status",-1)),Os("span",{class:Y(["inline-block px-2 py-1 text-xs font-medium rounded-full mt-1",s.value.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},te(s.value.is_active?"Active":"Inactive"),3)])])]),Os("div",KP,[Os("div",YP,[Os("div",GP,[Os("div",null,[t[9]||(t[9]=Os("p",{class:"text-sm text-gray-500 mb-1"},"Current Stock",-1)),Os("p",XP,te(Math.floor(r.value.current_stock||0)),1)]),t[10]||(t[10]=Os("div",{class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},[Os("i",{class:"fas fa-warehouse text-blue-600 text-xl"})],-1))])]),Os("div",QP,[Os("div",JP,[Os("div",null,[t[11]||(t[11]=Os("p",{class:"text-sm text-gray-500 mb-1"},"Total Sold",-1)),Os("p",ZP,te(Math.floor(r.value.total_sold||0)),1)]),t[12]||(t[12]=Os("div",{class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},[Os("i",{class:"fas fa-shopping-cart text-green-600 text-xl"})],-1))])]),Os("div",eA,[Os("div",tA,[Os("div",null,[t[13]||(t[13]=Os("p",{class:"text-sm text-gray-500 mb-1"},"Total Revenue",-1)),Os("p",nA,"$"+te(m(r.value.total_revenue||0)),1)]),t[14]||(t[14]=Os("div",{class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},[Os("i",{class:"fas fa-dollar-sign text-green-600 text-xl"})],-1))])]),Os("div",aA,[Os("div",sA,[Os("div",null,[t[15]||(t[15]=Os("p",{class:"text-sm text-gray-500 mb-1"},"Total Profit",-1)),Os("p",{class:Y(["text-3xl font-bold",r.value.total_profit>=0?"text-green-600":"text-red-600"])}," $"+te(m(r.value.total_profit||0)),3)]),t[16]||(t[16]=Os("div",{class:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center"},[Os("i",{class:"fas fa-chart-line text-amber-600 text-xl"})],-1))])])]),Os("div",rA,[Os("div",iA,[t[17]||(t[17]=Os("span",{class:"text-sm text-gray-500 font-medium"},"Period:",-1)),(bs(),ks(ps,null,aa(d,e=>Os("button",{key:e.value,onClick:t=>function(e){u.value=e,h()}(e.value),class:Y(["px-4 py-2 text-sm font-medium rounded-lg transition",u.value===e.value?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},te(e.label),11,oA)),64))])]),Os("div",lA,[t[19]||(t[19]=Os("div",{class:"p-6 border-b border-gray-100"},[Os("h3",{class:"text-lg font-semibold text-gray-800"},"Recent Sales"),Os("p",{class:"text-sm text-gray-500"},"Sales transactions for this product")],-1)),0===i.value.length?(bs(),ks("div",cA,[...t[18]||(t[18]=[Os("i",{class:"fas fa-receipt text-4xl text-gray-300 mb-3"},null,-1),Os("p",{class:"text-gray-500"},"No sales found for this period",-1)])])):(bs(),ks("div",uA,[(bs(!0),ks(ps,null,aa(i.value,e=>{return bs(),ks("div",{key:e.id,class:"p-4 hover:bg-gray-50 transition"},[Os("div",dA,[Os("div",null,[Os("p",hA,te(e.receipt_number),1),Os("p",pA,te((t=e.created_at,new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}))),1),Os("p",fA,"Cashier: "+te(e.cashier_name),1)]),Os("div",mA,[Os("p",gA,te(e.quantity)+" "+te(s.value.unit),1),Os("p",vA,"$"+te(m(e.line_total)),1)])])]);var t}),128))])),l.value?(bs(),ks("div",yA,[Os("button",{onClick:p,disabled:o.value,class:"w-full py-2 text-sm font-medium text-green-600 hover:bg-green-50 rounded-lg transition"},[o.value?(bs(),ks("i",xA)):Ls("",!0),Is(" "+te(o.value?"Loading...":"Load More"),1)],8,bA)])):Ls("",!0)])],64)):(bs(),ks("div",DP,[...t[4]||(t[4]=[Os("i",{class:"fas fa-box-open text-6xl text-gray-300 mb-4"},null,-1),Os("p",{class:"text-gray-500"},"Product not found",-1)])]))])}}},_A={class:"bg-white rounded-lg shadow-sm border border-gray-100"},kA={key:0,class:"p-4 border-b border-gray-100"},CA={class:"relative"},SA=["placeholder"],EA={key:1,class:"flex items-center justify-center py-12"},PA={key:2,class:"text-center py-12 text-gray-500"},AA={class:"text-lg"},OA={key:0,class:"text-sm text-gray-400 mt-2"},DA={key:3,class:"overflow-x-auto"},MA={class:"w-full"},TA={class:"bg-gray-50/50"},IA={class:"border-b border-gray-100"},jA=["onClick"],LA={key:0,class:"text-center py-4 px-6 text-sm font-semibold text-gray-600"},FA=["innerHTML"],NA={key:1},RA={key:0,class:"py-4 px-6 text-center"},BA={key:4,class:"p-4 border-t border-gray-100"},VA={class:"flex flex-col md:flex-row items-center justify-between gap-4"},zA={class:"text-sm text-gray-600"},UA={key:0,class:"text-gray-400"},qA={class:"flex items-center gap-2"},HA=["disabled"],WA=["disabled"],$A=["onClick"],KA={key:1,class:"px-2 text-gray-400"},YA=["disabled"],GA=["disabled"],XA={class:"flex items-center gap-2"},QA={class:"relative"},JA={key:5,class:"p-4 border-t"},ZA={__name:"DataTable",props:{data:{type:Array,default:()=>[]},columns:{type:Array,required:!0},loading:{type:Boolean,default:!1},pagination:{type:Boolean,default:!0},loadMore:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!1},initialPerPage:{type:Number,default:10},actions:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No data found"},emptyIcon:{type:String,default:"fas fa-inbox"},searchable:{type:Boolean,default:!1},searchPlaceholder:{type:String,default:"Search..."},searchKeys:{type:Array,default:()=>[]}},emits:["load-more"],setup(e,{expose:t,emit:n}){const a=e,s=At(""),r=At("asc"),i=At(1),o=At(a.initialPerPage),l=At("");function c(e,t){return t.split(".").reduce((e,t)=>null==e?void 0:e[t],e)}const u=nr(()=>{if(!l.value)return a.data;const e=l.value.toLowerCase();return a.data.filter(t=>a.searchKeys.length>0?a.searchKeys.some(n=>{const a=c(t,n);return String(a||"").toLowerCase().includes(e)}):a.columns.some(n=>{const a=c(t,n.key);return String(a||"").toLowerCase().includes(e)}))}),d=nr(()=>s.value?[...u.value].sort((e,t)=>{const n=c(e,s.value),a=c(t,s.value);let i=0;return n>a&&(i=1),n<a&&(i=-1),"asc"===r.value?i:-i}):u.value),h=nr(()=>a.pagination?Math.ceil(d.value.length/o.value):1),p=nr(()=>a.pagination?(i.value-1)*o.value:0),f=nr(()=>a.pagination?Math.min(p.value+o.value,d.value.length):d.value.length),m=nr(()=>a.pagination?d.value.slice(p.value,f.value):d.value),g=nr(()=>{const e=[],t=h.value,n=i.value;if(t<=7)for(let a=1;a<=t;a++)e.push(a);else if(n<=4){for(let t=1;t<=5;t++)e.push(t);e.push("..."),e.push(t)}else if(n>=t-3){e.push(1),e.push("...");for(let n=t-4;n<=t;n++)e.push(n)}else{e.push(1),e.push("...");for(let t=n-1;t<=n+1;t++)e.push(t);e.push("..."),e.push(t)}return e});function v(e){e>=1&&e<=h.value&&(i.value=e)}return Za(()=>a.data,()=>{i.value=1}),Za(l,()=>{i.value=1}),t({currentPage:i,perPage:o,totalPages:h,goToPage:v,searchQuery:l}),(t,n)=>(bs(),ks("div",_A,[e.searchable?(bs(),ks("div",kA,[Os("div",CA,[n[10]||(n[10]=Os("i",{class:"fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),dn(Os("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e),type:"text",placeholder:e.searchPlaceholder,class:"w-full pl-11 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all"},null,8,SA),[[ei,l.value]]),l.value?(bs(),ks("button",{key:0,onClick:n[1]||(n[1]=e=>l.value=""),class:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},[...n[9]||(n[9]=[Os("i",{class:"fas fa-times"},null,-1)])])):Ls("",!0)])])):Ls("",!0),e.loading?(bs(),ks("div",EA,[...n[11]||(n[11]=[Os("i",{class:"fas fa-spinner fa-spin text-4xl text-primary"},null,-1)])])):u.value&&0!==u.value.length?(bs(),ks("div",DA,[Os("table",MA,[Os("thead",TA,[Os("tr",IA,[(bs(!0),ks(ps,null,aa(e.columns,e=>(bs(),ks("th",{key:e.key,onClick:t=>{return e.sortable?(n=e.key,void(s.value===n?r.value="asc"===r.value?"desc":"asc":(s.value=n,r.value="asc"))):null;var n},class:Y(["py-4 px-6 text-sm font-semibold text-gray-600","right"===e.align?"text-right":"center"===e.align?"text-center":"text-left",e.sortable?"cursor-pointer hover:bg-gray-100/50 transition-colors":""])},[Os("div",{class:Y(["flex items-center gap-2","right"===e.align?"justify-end":"center"===e.align?"justify-center":""])},[Os("span",null,te(e.label),1),e.sortable?(bs(),ks("i",{key:0,class:Y(["fas text-xs",s.value===e.key&&"asc"===r.value?"fa-sort-up text-primary":s.value===e.key&&"desc"===r.value?"fa-sort-down text-primary":"fa-sort text-gray-400"])},null,2)):Ls("",!0)],2)],10,jA))),128)),e.actions?(bs(),ks("th",LA,"Actions")):Ls("",!0)])]),Os("tbody",null,[(bs(!0),ks(ps,null,aa(m.value,(n,a)=>(bs(),ks("tr",{key:a,class:"border-b border-gray-50 hover:bg-gray-50/50 transition-colors"},[(bs(!0),ks(ps,null,aa(e.columns,e=>(bs(),ks("td",{key:e.key,class:Y(["py-4 px-6","right"===e.align?"text-right":"center"===e.align?"text-center":"text-left"])},[sa(t.$slots,"cell-".concat(e.key),{row:n,value:c(n,e.key)},()=>[e.format?(bs(),ks("span",{key:0,innerHTML:e.format(c(n,e.key),n)},null,8,FA)):(bs(),ks("span",NA,te(c(n,e.key)),1))])],2))),128)),e.actions?(bs(),ks("td",RA,[sa(t.$slots,"actions",{row:n})])):Ls("",!0)]))),128))])])])):(bs(),ks("div",PA,[Os("i",{class:Y([e.emptyIcon,"text-5xl mb-3 text-gray-300"])},null,2),Os("p",AA,te(l.value?"No results found":e.emptyMessage),1),l.value?(bs(),ks("p",OA,"Try adjusting your search")):Ls("",!0)])),e.pagination&&u.value.length>0?(bs(),ks("div",BA,[Os("div",VA,[Os("div",zA,[Is(" Showing "+te(p.value+1)+" to "+te(f.value)+" of "+te(u.value.length)+" entries ",1),l.value&&u.value.length<a.data.length?(bs(),ks("span",UA," (filtered from "+te(a.data.length)+" total) ",1)):Ls("",!0)]),Os("div",qA,[Os("button",{onClick:n[2]||(n[2]=e=>v(1)),disabled:1===i.value,class:Y(["px-3 py-2 border rounded-lg text-sm font-medium transition-colors",1===i.value?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"])},[...n[12]||(n[12]=[Os("i",{class:"fas fa-angle-double-left"},null,-1)])],10,HA),Os("button",{onClick:n[3]||(n[3]=e=>v(i.value-1)),disabled:1===i.value,class:Y(["px-3 py-2 border rounded-lg text-sm font-medium transition-colors",1===i.value?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"])},[...n[13]||(n[13]=[Os("i",{class:"fas fa-angle-left"},null,-1)])],10,WA),(bs(!0),ks(ps,null,aa(g.value,e=>(bs(),ks(ps,{key:e},["..."!==e?(bs(),ks("button",{key:0,onClick:t=>v(e),class:Y(["px-4 py-2 border rounded-lg text-sm font-medium transition-colors",i.value===e?"bg-primary text-white border-primary":"text-gray-700 hover:bg-gray-50"])},te(e),11,$A)):(bs(),ks("span",KA,"..."))],64))),128)),Os("button",{onClick:n[4]||(n[4]=e=>v(i.value+1)),disabled:i.value===h.value,class:Y(["px-3 py-2 border rounded-lg text-sm font-medium transition-colors",i.value===h.value?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"])},[...n[14]||(n[14]=[Os("i",{class:"fas fa-angle-right"},null,-1)])],10,YA),Os("button",{onClick:n[5]||(n[5]=e=>v(h.value)),disabled:i.value===h.value,class:Y(["px-3 py-2 border rounded-lg text-sm font-medium transition-colors",i.value===h.value?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"])},[...n[15]||(n[15]=[Os("i",{class:"fas fa-angle-double-right"},null,-1)])],10,GA)]),Os("div",XA,[n[18]||(n[18]=Os("label",{class:"text-sm text-gray-600"},"Per page:",-1)),Os("div",QA,[dn(Os("select",{"onUpdate:modelValue":n[6]||(n[6]=e=>o.value=e),onChange:n[7]||(n[7]=e=>i.value=1),class:"appearance-none pl-3 pr-8 py-2 bg-gray-50 border-0 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white transition-all cursor-pointer"},[...n[16]||(n[16]=[Os("option",{value:10},"10",-1),Os("option",{value:25},"25",-1),Os("option",{value:50},"50",-1),Os("option",{value:100},"100",-1)])],544),[[si,o.value]]),n[17]||(n[17]=Os("i",{class:"fas fa-chevron-down absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs pointer-events-none"},null,-1))])])])])):Ls("",!0),e.loadMore&&e.hasMore&&!e.loading?(bs(),ks("div",JA,[Os("button",{onClick:n[8]||(n[8]=e=>t.$emit("load-more")),class:"w-full px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium"}," Load More ")])):Ls("",!0)]))}},eO={class:"space-y-6"},tO={class:"flex items-start gap-3"},nO={class:"flex-shrink-0"},aO={class:"flex-1 min-w-0"},sO={class:"flex items-center justify-between"},rO={class:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4"},iO={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-3 md:p-5"},oO={class:"flex items-start justify-between gap-2"},lO={class:"flex-1 min-w-0"},cO={class:"text-xl md:text-2xl font-bold text-gray-800 truncate"},uO={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-3 md:p-5"},dO={class:"flex items-start justify-between gap-2"},hO={class:"flex-1 min-w-0"},pO={class:"text-xl md:text-2xl font-bold text-success truncate"},fO={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-3 md:p-5"},mO={class:"flex items-start justify-between gap-2"},gO={class:"flex-1 min-w-0"},vO={class:"text-xl md:text-2xl font-bold text-accent truncate"},yO={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-3 md:p-5"},bO={class:"flex items-start justify-between gap-2"},xO={class:"flex-1 min-w-0"},wO={class:"text-xl md:text-2xl font-bold text-danger truncate"},_O={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-3 md:p-4"},kO={class:"flex items-center gap-2 md:gap-3"},CO={class:"relative flex-1"},SO={class:"relative min-w-[100px] md:min-w-[140px]"},EO={class:"flex items-center justify-center"},PO={key:0,class:"w-10 h-10 md:w-12 md:h-12 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0"},AO=["src","alt"],OO={key:1,class:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0"},DO={class:"flex items-center justify-end gap-2"},MO={class:"font-bold text-gray-900"},TO={class:"text-xs text-gray-500"},IO={class:"font-semibold text-success"},jO={class:"flex items-center justify-center gap-1 md:gap-2"},LO=["onClick"],FO=["onClick"],NO=["onClick"],RO=["onClick"],BO={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},VO={class:"p-6 border-b border-gray-100"},zO={class:"flex items-center justify-between"},UO={class:"flex items-center gap-3"},qO={class:"text-xl font-bold text-gray-800"},HO={class:"text-sm text-gray-500"},WO={class:"px-6 pt-4"},$O={class:"p-4 bg-gray-50 rounded-lg border border-gray-100"},KO={class:"flex items-center justify-between"},YO={class:"text-2xl font-black text-gray-900 mt-1"},GO={class:"text-sm font-medium text-gray-600"},XO={class:"text-right"},QO={class:"text-lg font-bold text-gray-900 mt-1"},JO={class:"block text-sm font-medium text-gray-700 mb-2"},ZO={class:"flex items-center justify-between"},eD={class:"text-xl font-bold"},tD={key:1,class:"space-y-2"},nD={class:"flex flex-wrap gap-2"},aD=["onClick"],sD={key:2,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},rD={class:"text-sm text-red-600"},iD={class:"flex gap-3 pt-4"},oD=["disabled"],lD={key:0,class:"fas fa-spinner fa-spin"},cD={__name:"inventory",setup(e){const t=Ll(),n="https://pos-dev.xash.co.zw/api",a=At(!0),s=At([]),r=At(""),i=At({}),o=At({stock_status:""}),l=At(!1),c=At(null),u=At("add"),d=At(!1),h=At(""),p=At({quantity:"",reason:""}),f=At({show:!1,type:"success",title:"",message:""});function m(e,t,n){f.value={show:!0,type:e,title:t,message:n},setTimeout(()=>{f.value.show=!1},4e3)}const g=[{key:"image",label:"Image",sortable:!1,align:"center"},{key:"product_name",label:"Product",sortable:!0,align:"left",format:e=>'<span class="font-semibold text-gray-800 text-xs md:text-sm truncate block max-w-[150px] md:max-w-none">'.concat(e,"</span>")},{key:"quantity",label:"Current Stock",sortable:!0,align:"right"},{key:"stock_value",label:"Stock Value",sortable:!0,align:"right"},{key:"status",label:"Status",sortable:!1,align:"center"}],v=nr(()=>{if(!c.value||!p.value.quantity)return 0;const e=parseFloat(c.value.quantity)||0,t=parseFloat(p.value.quantity)||0;return"add"===u.value?e+t:"remove"===u.value?Math.max(0,e-t):Math.max(0,t)}),y=nr(()=>{if(!c.value)return"bg-gray-50 border-gray-200";const e=c.value.reorder_level||0;return 0===v.value?"bg-red-50 border-red-200":e&&v.value<=e?"bg-amber-50 border-amber-200":"bg-success-light border-success"});async function b(){a.value=!0;try{const e=new URLSearchParams({search:r.value,...o.value}),t=await zh.get("".concat(n,"/manager/inventory?").concat(e));s.value=t.items||[],i.value=t.summary||{}}catch(e){console.error("Failed to fetch inventory:",e),m("error","Error","Failed to load inventory data")}finally{a.value=!1}}function x(e,t){return e&&0!==e?t&&e<=t?"Low Stock":"In Stock":"Out of Stock"}function w(e){return parseFloat(e||0).toFixed(2)}function _(e,t){c.value=e,u.value=t,p.value={quantity:"set"===t?e.quantity:"",reason:""},h.value="",l.value=!0}function k(){l.value=!1,c.value=null,h.value=""}async function C(){if(!p.value.quantity)return void(h.value="Please enter a quantity");d.value=!0,h.value="";const e=c.value.product_name,t=c.value.id,a=u.value;try{await zh.post("".concat(n,"/manager/inventory/").concat(t,"/adjust"),{quantity:parseInt(p.value.quantity),type:a,reason:p.value.reason||null});const r=s.value.findIndex(e=>e.id===t);if(-1!==r){s.value[r].quantity=v.value;const e=s.value[r].stock_value/(c.value.quantity||1);s.value[r].stock_value=v.value*e}k();m("success","Stock Adjusted","Stock ".concat("add"===a?"added to":"remove"===a?"removed from":"set for"," ").concat(e)),b()}catch(r){console.error("Failed to adjust inventory:",r),h.value=r.message||"Failed to adjust inventory. Please try again.",m("error","Error","Failed to adjust stock")}finally{d.value=!1}}return Un(()=>{b()}),(e,n)=>{var m,S,E,P,A;return bs(),ks("div",eO,[Ds(gr,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:un(()=>[f.value.show?(bs(),ks("div",{key:0,class:Y(["fixed top-4 right-4 z-[60] max-w-sm w-full rounded-lg shadow-lg p-4","success"===f.value.type?"bg-success-light border border-success":"bg-danger-light border border-danger"])},[Os("div",tO,[Os("div",nO,[Os("i",{class:Y(["success"===f.value.type?"fas fa-check-circle text-success":"fas fa-exclamation-circle text-danger","text-lg"])},null,2)]),Os("div",aO,[Os("p",{class:Y(["text-sm font-medium","success"===f.value.type?"text-success":"text-danger"])},te(f.value.title),3),Os("p",{class:Y(["text-sm mt-1","success"===f.value.type?"text-success":"text-danger"])},te(f.value.message),3)]),Os("button",{onClick:n[0]||(n[0]=e=>f.value.show=!1),class:Y(["flex-shrink-0","success"===f.value.type?"text-success":"text-danger"])},[...n[5]||(n[5]=[Os("i",{class:"fas fa-times"},null,-1)])],2)])],2)):Ls("",!0)]),_:1}),Os("div",sO,[n[7]||(n[7]=Os("div",null,[Os("h1",{class:"text-xl md:text-2xl font-bold text-gray-800"},"Inventory Management"),Os("p",{class:"text-sm text-gray-600"},"Track and manage stock levels")],-1)),Os("button",{onClick:b,class:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all shadow-sm flex items-center gap-2 text-sm font-medium"},[Os("i",{class:Y(["fas fa-sync-alt text-sm",{"fa-spin":a.value}])},null,2),n[6]||(n[6]=Os("span",{class:"hidden md:inline"},"Refresh",-1))])]),Os("div",rO,[Os("div",iO,[Os("div",oO,[Os("div",lO,[n[8]||(n[8]=Os("p",{class:"text-xs text-gray-500 mb-1"},"Total Products",-1)),Os("p",cO,te(i.value.total_products||0),1)]),n[9]||(n[9]=Os("div",{class:"w-10 h-10 md:w-12 md:h-12 bg-primary-light rounded-lg flex items-center justify-center flex-shrink-0"},[Os("i",{class:"fas fa-box text-primary text-base md:text-xl"})],-1))])]),Os("div",uO,[Os("div",dO,[Os("div",hO,[n[10]||(n[10]=Os("p",{class:"text-xs text-gray-500 mb-1"},"Stock Value",-1)),Os("p",pO,"$"+te(w(i.value.total_value||0)),1)]),n[11]||(n[11]=Os("div",{class:"w-10 h-10 md:w-12 md:h-12 bg-success-light rounded-lg flex items-center justify-center flex-shrink-0"},[Os("i",{class:"fas fa-dollar-sign text-success text-base md:text-xl"})],-1))])]),Os("div",fO,[Os("div",mO,[Os("div",gO,[n[12]||(n[12]=Os("p",{class:"text-xs text-gray-500 mb-1"},"Low Stock",-1)),Os("p",vO,te(i.value.low_stock_count||0),1)]),n[13]||(n[13]=Os("div",{class:"w-10 h-10 md:w-12 md:h-12 bg-accent-light rounded-lg flex items-center justify-center flex-shrink-0"},[Os("i",{class:"fas fa-exclamation-triangle text-accent text-base md:text-xl"})],-1))])]),Os("div",yO,[Os("div",bO,[Os("div",xO,[n[14]||(n[14]=Os("p",{class:"text-xs text-gray-500 mb-1"},"Out of Stock",-1)),Os("p",wO,te(i.value.out_of_stock_count||0),1)]),n[15]||(n[15]=Os("div",{class:"w-10 h-10 md:w-12 md:h-12 bg-danger-light rounded-lg flex items-center justify-center flex-shrink-0"},[Os("i",{class:"fas fa-times-circle text-danger text-base md:text-xl"})],-1))])])]),Os("div",_O,[Os("div",kO,[Os("div",CO,[n[16]||(n[16]=Os("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs"},null,-1)),dn(Os("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>r.value=e),onInput:b,type:"text",placeholder:"Search...",class:"w-full pl-9 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-xs md:text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all"},null,544),[[ei,r.value]])]),Os("div",SO,[dn(Os("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>o.value.stock_status=e),onChange:b,class:"w-full appearance-none px-3 py-2 pr-8 bg-gray-50 border border-gray-200 rounded-lg text-xs md:text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all cursor-pointer"},[...n[17]||(n[17]=[Os("option",{value:""},"All Items",-1),Os("option",{value:"low"},"Low Stock",-1),Os("option",{value:"out"},"Out of Stock",-1),Os("option",{value:"good"},"Good Stock",-1)])],544),[[si,o.value.stock_status]]),n[18]||(n[18]=Os("i",{class:"fas fa-chevron-down absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs pointer-events-none"},null,-1))]),Os("button",{onClick:b,class:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all shadow-sm flex items-center gap-2 text-xs md:text-sm font-medium flex-shrink-0"},[...n[19]||(n[19]=[Os("i",{class:"fas fa-filter"},null,-1),Os("span",{class:"hidden md:inline"},"Apply",-1)])])])]),Ds(ZA,{data:s.value,columns:g,loading:a.value,pagination:!0,searchable:!1,"initial-per-page":20,actions:!0,"empty-message":"No inventory items found","empty-icon":"fas fa-warehouse"},{"cell-image":un(({row:e})=>[Os("div",EO,[e.image_url?(bs(),ks("div",PO,[Os("img",{src:e.image_url,alt:e.product_name,class:"w-full h-full object-cover"},null,8,AO)])):(bs(),ks("div",OO,[...n[20]||(n[20]=[Os("i",{class:"fas fa-box text-gray-400 text-sm"},null,-1)])]))])]),"cell-quantity":un(({row:e,value:t})=>[Os("div",DO,[Os("span",MO,te(Math.floor(t)),1),Os("span",TO,te(e.unit),1)])]),"cell-status":un(({row:e})=>{return[Os("span",{class:Y(["px-3 py-1 text-xs font-medium rounded-full whitespace-nowrap",(t=e.quantity,n=e.reorder_level,t&&0!==t?n&&t<=n?"bg-amber-100 text-amber-700":"bg-success-light text-success":"bg-red-100 text-red-700")])},te(x(e.quantity,e.reorder_level)),3)];var t,n}),"cell-stock_value":un(({value:e})=>[Os("span",IO,"$"+te(w(e)),1)]),actions:un(({row:e})=>[Os("div",jO,[Os("button",{onClick:n=>{return a=e,void t.push("/manager/products/".concat(a.id));var a},class:"px-2 py-1 md:px-3 md:py-1.5 text-xs font-medium bg-gray-600 text-white rounded hover:bg-gray-700 transition",title:"View Product"},[...n[21]||(n[21]=[Os("i",{class:"fas fa-eye"},null,-1)])],8,LO),Os("button",{onClick:t=>_(e,"add"),class:"px-2 py-1 md:px-3 md:py-1.5 text-xs font-medium bg-success text-white rounded hover:bg-success hover:opacity-90 transition",title:"Add Stock"},[...n[22]||(n[22]=[Os("i",{class:"fas fa-plus"},null,-1)])],8,FO),Os("button",{onClick:t=>_(e,"remove"),class:"px-2 py-1 md:px-3 md:py-1.5 text-xs font-medium bg-danger text-white rounded hover:bg-danger hover:opacity-90 transition",title:"Remove Stock"},[...n[23]||(n[23]=[Os("i",{class:"fas fa-minus"},null,-1)])],8,NO),Os("button",{onClick:t=>_(e,"set"),class:"px-2 py-1 md:px-3 md:py-1.5 text-xs font-medium bg-gray-600 text-white rounded hover:bg-gray-700 transition",title:"Set Stock"},[...n[24]||(n[24]=[Os("i",{class:"fas fa-edit"},null,-1)])],8,RO)])]),_:1},8,["data","loading"]),l.value?(bs(),ks("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:hi(k,["self"])},[Os("div",BO,[Os("div",VO,[Os("div",zO,[Os("div",UO,[Os("div",{class:Y(["w-12 h-12 rounded-lg flex items-center justify-center",{"bg-success-light":"add"===u.value,"bg-red-100":"remove"===u.value,"bg-gray-100":"set"===u.value}])},[Os("i",{class:Y(["text-xl",{"fas fa-plus text-success":"add"===u.value,"fas fa-minus text-red-600":"remove"===u.value,"fas fa-edit text-gray-600":"set"===u.value}])},null,2)],2),Os("div",null,[Os("h2",qO,te("add"===u.value?"Add Stock":"remove"===u.value?"Remove Stock":"Set Stock"),1),Os("p",HO,te(null==(m=c.value)?void 0:m.product_name),1)])]),Os("button",{onClick:k,class:"text-gray-400 hover:text-gray-600 p-2"},[...n[25]||(n[25]=[Os("i",{class:"fas fa-times text-xl"},null,-1)])])])]),Os("div",WO,[Os("div",$O,[Os("div",KO,[Os("div",null,[n[26]||(n[26]=Os("p",{class:"text-xs text-gray-500 uppercase font-medium"},"Current Stock",-1)),Os("p",YO,[Is(te(parseFloat((null==(S=c.value)?void 0:S.quantity)||0).toFixed(0))+" ",1),Os("span",GO,te(null==(E=c.value)?void 0:E.unit),1)])]),Os("div",XO,[n[27]||(n[27]=Os("p",{class:"text-xs text-gray-500 uppercase font-medium"},"Reorder Level",-1)),Os("p",QO,te((null==(P=c.value)?void 0:P.reorder_level)||"Not set"),1)])])])]),Os("form",{onSubmit:hi(C,["prevent"]),class:"p-6 space-y-4"},[Os("div",null,[Os("label",JO,te("set"===u.value?"New Quantity *":"Quantity to "+("add"===u.value?"Add":"Remove")+" *"),1),dn(Os("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>p.value.quantity=e),type:"number",min:"0",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all text-lg font-semibold text-center",placeholder:"0"},null,512),[[ei,p.value.quantity]])]),p.value.quantity?(bs(),ks("div",{key:0,class:Y(["p-4 rounded-lg border",y.value])},[Os("div",ZO,[n[28]||(n[28]=Os("span",{class:"text-sm font-medium"},"New Stock Level",-1)),Os("span",eD,te(Math.floor(v.value))+" "+te(null==(A=c.value)?void 0:A.unit),1)])],2)):Ls("",!0),Os("div",null,[n[29]||(n[29]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reason (Optional)",-1)),dn(Os("textarea",{"onUpdate:modelValue":n[4]||(n[4]=e=>p.value.reason=e),rows:"2",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all resize-none",placeholder:"e.g., Received shipment, Damaged goods, Stock count correction"},null,512),[[ei,p.value.reason]])]),"set"!==u.value?(bs(),ks("div",tD,[n[30]||(n[30]=Os("p",{class:"text-xs text-gray-500 font-medium uppercase"},"Quick Adjust",-1)),Os("div",nD,[(bs(),ks(ps,null,aa([1,5,10,25,50,100],e=>Os("button",{key:e,type:"button",onClick:t=>p.value.quantity=e,class:Y(["px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition text-sm font-medium",{"bg-primary-light text-primary":p.value.quantity==e}])},te("add"===u.value?"+":"-")+te(e),11,aD)),64))])])):Ls("",!0),h.value?(bs(),ks("div",sD,[Os("p",rD,te(h.value),1)])):Ls("",!0),Os("div",iD,[Os("button",{type:"button",onClick:k,class:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium"}," Cancel "),Os("button",{type:"submit",disabled:d.value||!p.value.quantity,class:Y(["flex-1 px-4 py-3 text-white rounded-lg transition font-medium flex items-center justify-center gap-2 disabled:cursor-not-allowed",{"bg-success hover:bg-success hover:opacity-90 disabled:opacity-50":"add"===u.value,"bg-danger hover:bg-danger hover:opacity-90 disabled:opacity-50":"remove"===u.value,"bg-gray-600 hover:bg-gray-700 disabled:opacity-50":"set"===u.value}])},[d.value?(bs(),ks("i",lD)):Ls("",!0),Is(" "+te(d.value?"Adjusting...":"Confirm"),1)],10,oD)])],32)])])):Ls("",!0)])}}};function uD(e){return e+.5|0}const dD=(e,t,n)=>Math.max(Math.min(e,n),t);function hD(e){return dD(uD(2.55*e),0,255)}function pD(e){return dD(uD(255*e),0,255)}function fD(e){return dD(uD(e/2.55)/100,0,1)}function mD(e){return dD(uD(100*e),0,100)}const gD={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vD=[..."0123456789ABCDEF"],yD=e=>vD[15&e],bD=e=>vD[(240&e)>>4]+vD[15&e],xD=e=>(240&e)>>4==(15&e);function wD(e){var t=(e=>xD(e.r)&&xD(e.g)&&xD(e.b)&&xD(e.a))(e)?yD:bD;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const _D=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kD(e,t,n){const a=t*Math.min(n,1-n),s=(t,s=(t+e/30)%12)=>n-a*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function CD(e,t,n){const a=(a,s=(a+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[a(5),a(3),a(1)]}function SD(e,t,n){const a=kD(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)a[s]*=1-t-n,a[s]+=t;return a}function ED(e){const t=e.r/255,n=e.g/255,a=e.b/255,s=Math.max(t,n,a),r=Math.min(t,n,a),i=(s+r)/2;let o,l,c;return s!==r&&(c=s-r,l=i>.5?c/(2-s-r):c/(s+r),o=function(e,t,n,a,s){return e===s?(t-n)/a+(t<n?6:0):t===s?(n-e)/a+2:(e-t)/a+4}(t,n,a,c,s),o=60*o+.5),[0|o,l||0,i]}function PD(e,t,n,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,a)).map(pD)}function AD(e,t,n){return PD(kD,e,t,n)}function OD(e){return(e%360+360)%360}function DD(e){const t=_D.exec(e);let n,a=255;if(!t)return;t[5]!==n&&(a=t[6]?hD(+t[5]):pD(+t[5]));const s=OD(+t[2]),r=+t[3]/100,i=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return PD(SD,e,t,n)}(s,r,i):"hsv"===t[1]?function(e,t,n){return PD(CD,e,t,n)}(s,r,i):AD(s,r,i),{r:n[0],g:n[1],b:n[2],a:a}}const MD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},TD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ID;function jD(e){ID||(ID=function(){const e={},t=Object.keys(TD),n=Object.keys(MD);let a,s,r,i,o;for(a=0;a<t.length;a++){for(i=o=t[a],s=0;s<n.length;s++)r=n[s],o=o.replace(r,MD[r]);r=parseInt(TD[i],16),e[o]=[r>>16&255,r>>8&255,255&r]}return e}(),ID.transparent=[0,0,0,0]);const t=ID[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const LD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const FD=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,ND=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function RD(e,t,n){if(e){let a=ED(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,0===t?360:1)),a=AD(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function BD(e,t){return e?Object.assign(t||{},e):e}function VD(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=pD(e[3]))):(t=BD(e,{r:0,g:0,b:0,a:1})).a=pD(t.a),t}function zD(e){return"r"===e.charAt(0)?function(e){const t=LD.exec(e);let n,a,s,r=255;if(t){if(t[7]!==n){const e=+t[7];r=t[8]?hD(e):dD(255*e,0,255)}return n=+t[1],a=+t[3],s=+t[5],n=255&(t[2]?hD(n):dD(n,0,255)),a=255&(t[4]?hD(a):dD(a,0,255)),s=255&(t[6]?hD(s):dD(s,0,255)),{r:n,g:a,b:s,a:r}}}(e):DD(e)}class UD{constructor(e){if(e instanceof UD)return e;const t=typeof e;let n;var a,s,r;"object"===t?n=VD(e):"string"===t&&(r=(a=e).length,"#"===a[0]&&(4===r||5===r?s={r:255&17*gD[a[1]],g:255&17*gD[a[2]],b:255&17*gD[a[3]],a:5===r?17*gD[a[4]]:255}:7!==r&&9!==r||(s={r:gD[a[1]]<<4|gD[a[2]],g:gD[a[3]]<<4|gD[a[4]],b:gD[a[5]]<<4|gD[a[6]],a:9===r?gD[a[7]]<<4|gD[a[8]]:255})),n=s||jD(e)||zD(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=BD(this._rgb);return e&&(e.a=fD(e.a)),e}set rgb(e){this._rgb=VD(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(fD(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?wD(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=ED(e),n=t[0],a=mD(t[1]),s=mD(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(a,"%, ").concat(s,"%, ").concat(fD(e.a),")"):"hsl(".concat(n,", ").concat(a,"%, ").concat(s,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,a=e.rgb;let s;const r=t===s?.5:t,i=2*r-1,o=n.a-a.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;s=1-l,n.r=255&l*n.r+s*a.r+.5,n.g=255&l*n.g+s*a.g+.5,n.b=255&l*n.b+s*a.b+.5,n.a=r*n.a+(1-r)*a.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const a=ND(fD(e.r)),s=ND(fD(e.g)),r=ND(fD(e.b));return{r:pD(FD(a+n*(ND(fD(t.r))-a))),g:pD(FD(s+n*(ND(fD(t.g))-s))),b:pD(FD(r+n*(ND(fD(t.b))-r))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new UD(this.rgb)}alpha(e){return this._rgb.a=pD(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=uD(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return RD(this._rgb,2,e),this}darken(e){return RD(this._rgb,2,-e),this}saturate(e){return RD(this._rgb,1,e),this}desaturate(e){return RD(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=ED(e);n[0]=OD(n[0]+t),n=AD(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function qD(){}const HD=(()=>{let e=0;return()=>e++})();function WD(e){return null==e}function $D(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function KD(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function YD(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function GD(e,t){return YD(e)?e:t}function XD(e,t){return void 0===e?t:e}function QD(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function JD(e,t,n,a){let s,r,i;if($D(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(KD(e))for(i=Object.keys(e),r=i.length,s=0;s<r;s++)t.call(n,e[i[s]],i[s])}function ZD(e,t){let n,a,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,a=e.length;n<a;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function eM(e){if($D(e))return e.map(eM);if(KD(e)){const t=Object.create(null),n=Object.keys(e),a=n.length;let s=0;for(;s<a;++s)t[n[s]]=eM(e[n[s]]);return t}return e}function tM(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function nM(e,t,n,a){if(!tM(e))return;const s=t[e],r=n[e];KD(s)&&KD(r)?aM(s,r,a):t[e]=eM(r)}function aM(e,t,n){const a=$D(t)?t:[t],s=a.length;if(!KD(e))return e;const r=(n=n||{}).merger||nM;let i;for(let o=0;o<s;++o){if(i=a[o],!KD(i))continue;const t=Object.keys(i);for(let a=0,s=t.length;a<s;++a)r(t[a],e,i,n)}return e}function sM(e,t){return aM(e,t,{merger:rM})}function rM(e,t,n){if(!tM(e))return;const a=t[e],s=n[e];KD(a)&&KD(s)?sM(a,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=eM(s))}const iM={"":e=>e,x:e=>e.x,y:e=>e.y};function oM(e,t){const n=iM[t]||(iM[t]=function(e){const t=function(e){const t=e.split("."),n=[];let a="";for(const s of t)a+=s,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function lM(e){return e.charAt(0).toUpperCase()+e.slice(1)}const cM=e=>void 0!==e,uM=e=>"function"==typeof e,dM=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const hM=Math.PI,pM=2*hM,fM=Number.POSITIVE_INFINITY,mM=hM/180,gM=hM/2,vM=hM/4,yM=2*hM/3,bM=Math.log10,xM=Math.sign;function wM(e,t,n){return Math.abs(e-t)<n}function _M(e){const t=Math.round(e);e=wM(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(bM(e))),a=e/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function kM(e){return!function(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function CM(e){return e*(hM/180)}function SM(e){if(!YD(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function EM(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function PM(e){return(e%pM+pM)%pM}function AM(e,t,n){return Math.max(t,Math.min(n,e))}function OM(e,t,n,a=1e-6){return e>=Math.min(t,n)-a&&e<=Math.max(t,n)+a}function DM(e,t,n){n=n||(n=>e[n]<t);let a,s=e.length-1,r=0;for(;s-r>1;)a=r+s>>1,n(a)?r=a:s=a;return{lo:r,hi:s}}const MM=(e,t,n,a)=>DM(e,n,a?a=>{const s=e[a][t];return s<n||s===n&&e[a+1][t]===n}:a=>e[a][t]<n),TM=(e,t,n)=>DM(e,n,a=>e[a][t]>=n);const IM=["push","pop","shift","splice","unshift"];function jM(e,t){const n=e._chartjs;if(!n)return;const a=n.listeners,s=a.indexOf(t);-1!==s&&a.splice(s,1),a.length>0||(IM.forEach(t=>{delete e[t]}),delete e._chartjs)}function LM(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const FM="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function NM(e,t){let n=[],a=!1;return function(...s){n=s,a||(a=!0,FM.call(window,()=>{a=!1,e.apply(t,n)}))}}const RM=e=>"start"===e?"left":"end"===e?"right":"center",BM=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2,VM=e=>0===e||1===e,zM=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*pM/n),UM=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*pM/n)+1,qM={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*gM),easeOutSine:e=>Math.sin(e*gM),easeInOutSine:e=>-.5*(Math.cos(hM*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>VM(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>VM(e)?e:zM(e,.075,.3),easeOutElastic:e=>VM(e)?e:UM(e,.075,.3),easeInOutElastic(e){const t=.1125;return VM(e)?e:e<.5?.5*zM(2*e,t,.45):.5+.5*UM(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-qM.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*qM.easeInBounce(2*e):.5*qM.easeOutBounce(2*e-1)+.5};function HM(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function WM(e){return HM(e)?e:new UD(e)}function $M(e){return HM(e)?e:new UD(e).saturate(.5).darken(.1).hexString()}const KM=["x","y","borderWidth","radius","tension"],YM=["color","borderColor","backgroundColor"];const GM=new Map;function XM(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let a=GM.get(n);return a||(a=new Intl.NumberFormat(e,t),GM.set(n,a)),a}(t,n).format(e)}var QM={formatters:{values:e=>$D(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const a=this.chart.options.locale;let s,r=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),r=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const i=bM(Math.abs(r)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),XM(e,a,l)}}};const JM=Object.create(null),ZM=Object.create(null);function eT(e,t){if(!t)return e;const n=t.split(".");for(let a=0,s=n.length;a<s;++a){const t=n[a];e=e[t]||(e[t]=Object.create(null))}return e}function tT(e,t,n){return"string"==typeof t?aM(eT(e,t),n):aM(eT(e,""),t)}class nT{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>$M(t.backgroundColor),this.hoverBorderColor=(e,t)=>$M(t.borderColor),this.hoverColor=(e,t)=>$M(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return tT(this,e,t)}get(e){return eT(this,e)}describe(e,t){return tT(ZM,e,t)}override(e,t){return tT(JM,e,t)}route(e,t,n,a){const s=eT(this,e),r=eT(this,n),i="_"+t;Object.defineProperties(s,{[i]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=r[a];return KD(e)?Object.assign({},t,e):XD(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach(e=>e(this))}}var aT=new nT({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:YM},numbers:{type:"number",properties:KM}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:QM.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function sT(e,t,n,a,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>a&&(a=r),a}function rT(e,t,n){const a=e.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((t-s)*a)/a+s}function iT(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function oT(e,t,n,a){lT(e,t,n,a,null)}function lT(e,t,n,a,s){let r,i,o,l,c,u,d,h;const p=t.pointStyle,f=t.rotation,m=t.radius;let g=(f||0)*mM;if(p&&"object"==typeof p&&(r=p.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(n,a),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,a,s/2,m,0,0,pM):e.arc(n,a,m,0,pM),e.closePath();break;case"triangle":u=s?s/2:m,e.moveTo(n+Math.sin(g)*u,a-Math.cos(g)*m),g+=yM,e.lineTo(n+Math.sin(g)*u,a-Math.cos(g)*m),g+=yM,e.lineTo(n+Math.sin(g)*u,a-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,i=Math.cos(g+vM)*l,d=Math.cos(g+vM)*(s?s/2-c:l),o=Math.sin(g+vM)*l,h=Math.sin(g+vM)*(s?s/2-c:l),e.arc(n-d,a-o,c,g-hM,g-gM),e.arc(n+h,a-i,c,g-gM,g),e.arc(n+d,a+o,c,g,g+gM),e.arc(n-h,a+i,c,g+gM,g+hM),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,u=s?s/2:l,e.rect(n-u,a-l,2*u,2*l);break}g+=vM;case"rectRot":d=Math.cos(g)*(s?s/2:m),i=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(n-d,a-o),e.lineTo(n+h,a-i),e.lineTo(n+d,a+o),e.lineTo(n-h,a+i),e.closePath();break;case"crossRot":g+=vM;case"cross":d=Math.cos(g)*(s?s/2:m),i=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(n-d,a-o),e.lineTo(n+d,a+o),e.moveTo(n+h,a-i),e.lineTo(n-h,a+i);break;case"star":d=Math.cos(g)*(s?s/2:m),i=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(n-d,a-o),e.lineTo(n+d,a+o),e.moveTo(n+h,a-i),e.lineTo(n-h,a+i),g+=vM,d=Math.cos(g)*(s?s/2:m),i=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(n-d,a-o),e.lineTo(n+d,a+o),e.moveTo(n+h,a-i),e.lineTo(n-h,a+i);break;case"line":i=s?s/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(n-i,a-o),e.lineTo(n+i,a+o);break;case"dash":e.moveTo(n,a),e.lineTo(n+Math.cos(g)*(s?s/2:m),a+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function cT(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function uT(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function dT(e){e.restore()}function hT(e,t,n,a,s){if(s.strikethrough||s.underline){const r=e.measureText(a),i=t-r.actualBoundingBoxLeft,o=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(i,u),e.lineTo(o,u),e.stroke()}}function pT(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function fT(e,t,n,a,s,r={}){const i=$D(t)?t:[t],o=r.strokeWidth>0&&""!==r.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),WD(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,r),l=0;l<i.length;++l)c=i[l],r.backdrop&&pT(e,r.backdrop),o&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),WD(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,a,r.maxWidth)),e.fillText(c,n,a,r.maxWidth),hT(e,n,a,c,r),a+=Number(s.lineHeight);e.restore()}function mT(e,t){const{x:n,y:a,w:s,h:r,radius:i}=t;e.arc(n+i.topLeft,a+i.topLeft,i.topLeft,1.5*hM,hM,!0),e.lineTo(n,a+r-i.bottomLeft),e.arc(n+i.bottomLeft,a+r-i.bottomLeft,i.bottomLeft,hM,gM,!0),e.lineTo(n+s-i.bottomRight,a+r),e.arc(n+s-i.bottomRight,a+r-i.bottomRight,i.bottomRight,gM,0,!0),e.lineTo(n+s,a+i.topRight),e.arc(n+s-i.topRight,a+i.topRight,i.topRight,0,-gM,!0),e.lineTo(n+i.topLeft,a)}const gT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yT(e,t){const n=(""+e).match(gT);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const bT=e=>+e||0;function xT(e,t){const n={},a=KD(t),s=a?Object.keys(t):t,r=KD(e)?a?n=>XD(e[n],e[t[n]]):t=>e[t]:()=>e;for(const i of s)n[i]=bT(r(i));return n}function wT(e){return xT(e,{top:"y",right:"x",bottom:"y",left:"x"})}function _T(e){return xT(e,["topLeft","topRight","bottomLeft","bottomRight"])}function kT(e){const t=wT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function CT(e,t){e=e||{},t=t||aT.font;let n=XD(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let a=XD(e.style,t.style);a&&!(""+a).match(vT)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const s={family:XD(e.family,t.family),lineHeight:yT(XD(e.lineHeight,t.lineHeight),n),size:n,style:a,weight:XD(e.weight,t.weight),string:""};return s.string=function(e){return!e||WD(e.size)||WD(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function ST(e,t,n,a){let s,r,i;for(s=0,r=e.length;s<r;++s)if(i=e[s],void 0!==i&&void 0!==i)return i}function ET(e,t,n){const{min:a,max:s}=e,r=(o=(s-a)/2,"string"==typeof(i=t)&&i.endsWith("%")?parseFloat(i)/100*o:+i);var i,o;const l=(e,t)=>n&&0===e?0:e+t;return{min:l(a,-Math.abs(r)),max:l(s,r)}}function PT(e,t){return Object.assign(Object.create(e),t)}function AT(e,t=[""],n,a,s=()=>e[0]){const r=n||e;void 0===a&&(a=BT("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:a,_getTarget:s,override:n=>AT([n,...e],t,r,a)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,a)=>IT(n,a,()=>function(e,t,n,a){let s;for(const r of t)if(s=BT(MT(r,e),n),void 0!==s)return TT(e,s)?NT(n,a,e,s):s}(a,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>VT(e).includes(t),ownKeys:e=>VT(e),set(e,t,n){const a=e._storage||(e._storage=s());return e[t]=a[t]=n,delete e._keys,!0}})}function OT(e,t,n,a){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:DT(e,a),setContext:t=>OT(e,t,n,a),override:s=>OT(e.override(s),t,n,a)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>IT(e,t,()=>function(e,t,n){const{_proxy:a,_context:s,_subProxy:r,_descriptors:i}=e;let o=a[t];uM(o)&&i.isScriptable(t)&&(o=function(e,t,n,a){const{_proxy:s,_context:r,_subProxy:i,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(r,i||a);o.delete(e),TT(e,l)&&(l=NT(s._scopes,s,e,l));return l}(t,o,e,n));$D(o)&&o.length&&(o=function(e,t,n,a){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=n;if(void 0!==r.index&&a(e))return t[r.index%t.length];if(KD(t[0])){const n=t,a=s._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=NT(a,s,e,l);t.push(OT(n,r,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));TT(t,o)&&(o=OT(o,s,r&&r[t],i));return o}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,a)=>(e[n]=a,delete t[n],!0)})}function DT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:a=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:a,isScriptable:uM(n)?n:()=>n,isIndexable:uM(a)?a:()=>a}}const MT=(e,t)=>e?e+lM(t):t,TT=(e,t)=>KD(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function IT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const a=n();return e[t]=a,a}function jT(e,t,n){return uM(e)?e(t,n):e}const LT=(e,t)=>!0===e?t:"string"==typeof e?oM(t,e):void 0;function FT(e,t,n,a,s){for(const r of t){const t=LT(n,r);if(t){e.add(t);const r=jT(t._fallback,n,s);if(void 0!==r&&r!==n&&r!==a)return r}else if(!1===t&&void 0!==a&&n!==a)return null}return!1}function NT(e,t,n,a){const s=t._rootScopes,r=jT(t._fallback,n,a),i=[...e,...s],o=new Set;o.add(a);let l=RT(o,i,n,r||n,a);return null!==l&&((void 0===r||r===n||(l=RT(o,i,r,l,a),null!==l))&&AT(Array.from(o),[""],s,r,()=>function(e,t,n){const a=e._getTarget();t in a||(a[t]={});const s=a[t];if($D(s)&&KD(n))return n;return s||{}}(t,n,a)))}function RT(e,t,n,a,s){for(;n;)n=FT(e,t,n,a,s);return n}function BT(e,t){for(const n of t){if(!n)continue;const t=n[e];if(void 0!==t)return t}}function VT(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function zT(){return"undefined"!=typeof window&&"undefined"!=typeof document}function UT(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function qT(e,t,n){let a;return"string"==typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[n])):a=e,a}const HT=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const WT=["top","right","bottom","left"];function $T(e,t,n){const a={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=WT[s];a[r]=parseFloat(e[t+"-"+r+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function KT(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:a}=t,s=HT(n),r="border-box"===s.boxSizing,i=$T(s,"padding"),o=$T(s,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,a=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=a;let i,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(s,r,e.target))i=s,o=r;else{const e=t.getBoundingClientRect();i=a.clientX-e.left,o=a.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,n),d=i.left+(u&&o.left),h=i.top+(u&&o.top);let{width:p,height:f}=t;return r&&(p-=i.width+o.width,f-=i.height+o.height),{x:Math.round((l-d)/p*n.width/a),y:Math.round((c-h)/f*n.height/a)}}const YT=e=>Math.round(10*e)/10;function GT(e,t,n,a){const s=HT(e),r=$T(s,"margin"),i=qT(s.maxWidth,e,"clientWidth")||fM,o=qT(s.maxHeight,e,"clientHeight")||fM,l=function(e,t,n){let a,s;if(void 0===t||void 0===n){const r=e&&UT(e);if(r){const e=r.getBoundingClientRect(),i=HT(r),o=$T(i,"border","width"),l=$T(i,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,a=qT(i.maxWidth,r,"clientWidth"),s=qT(i.maxHeight,r,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:a||fM,maxHeight:s||fM}}(e,t,n);let{width:c,height:u}=l;if("content-box"===s.boxSizing){const e=$T(s,"border","width"),t=$T(s,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-r.width),u=Math.max(0,a?c/a:u-r.height),c=YT(Math.min(c,i,l.maxWidth)),u=YT(Math.min(u,o,l.maxHeight)),c&&!u&&(u=YT(c/2));return(void 0!==t||void 0!==n)&&a&&l.height&&u>l.height&&(u=l.height,c=YT(Math.floor(u*a))),{width:c,height:u}}function XT(e,t,n){const a=t||1,s=YT(e.height*a),r=YT(e.width*a);e.height=YT(e.height),e.width=YT(e.width);const i=e.canvas;return i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==a||i.height!==s||i.width!==r)&&(e.currentDevicePixelRatio=a,i.height=s,i.width=r,e.ctx.setTransform(a,0,0,a,0,0),!0)}const QT=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};zT()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(uV){}return e}();function JT(e,t){const n=function(e,t){return HT(e).getPropertyValue(t)}(e,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function ZT(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function eI(e,t){let n,a;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=a)}function tI(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function nI(e,t,n){return e.options.clip?e[n]:t[n]}function aI(e,t){const n=t._clip;if(n.disabled)return!1;const a=function(e,t){const{xScale:n,yScale:a}=e;return n&&a?{left:nI(n,t,"left"),right:nI(n,t,"right"),top:nI(a,t,"top"),bottom:nI(a,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:a.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:a.right+(!0===n.right?0:n.right),top:!1===n.top?0:a.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:a.bottom+(!0===n.bottom?0:n.bottom)}}class sI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,a){const s=t.listeners[a],r=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(n-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=FM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let r,i=s.length-1,o=!1;for(;i>=0;--i)r=s[i],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(e),o=!0):(s[i]=s[s.length-1],s.pop());o&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var rI=new sI;const iI="transparent",oI={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const a=WM(e||iI),s=a.valid&&WM(t||iI);return s&&s.valid?s.mix(a,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class lI{constructor(e,t,n,a){const s=t[n];a=ST([e.to,a,s,e.from]);const r=ST([e.from,s,a]);this._active=!0,this._fn=e.fn||oI[e.type||typeof r],this._easing=qM[e.easing]||qM.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=r,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,r=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ST([e.to,t,a,e.from]),this._from=ST([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,a=this._prop,s=this._from,r=this._loop,i=this._to;let o;if(this._active=s!==i&&(r||t<n),!this._active)return this._target[a]=i,void this._notify(!0);t<0?this._target[a]=s:(o=t/n%2,o=r&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[a]=this._fn(s,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][t]()}}class cI{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!KD(e))return;const t=Object.keys(aT.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!KD(s))return;const r={};for(const e of t)r[e]=s[e];($D(s.properties)&&s.properties||[a]).forEach(e=>{e!==a&&n.has(e)||n.set(e,r)})})}_animateOptions(e,t){const n=t.options,a=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&function(e,t){const n=[],a=Object.keys(t);for(let s=0;s<a.length;s++){const t=e[a[s]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),r=Object.keys(t),i=Date.now();let o;for(o=r.length-1;o>=0;--o){const l=r[o];if("$"===l.charAt(0))continue;if("options"===l){a.push(...this._animateOptions(e,t));continue}const c=t[l];let u=s[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,i);continue}u.cancel()}d&&d.duration?(s[l]=u=new lI(d,e,l,c),a.push(u)):e[l]=c}return a}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(rI.add(this._chart,n),!0):void 0}}function uI(e,t){const n=e&&e.options||{},a=n.reverse,s=void 0===n.min?t:0,r=void 0===n.max?t:0;return{start:a?r:s,end:a?s:r}}function dI(e,t){const n=[],a=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=a.length;s<r;++s)n.push(a[s].index);return n}function hI(e,t,n,a={}){const s=e.keys,r="single"===a.mode;let i,o,l,c;if(null===t)return;let u=!1;for(i=0,o=s.length;i<o;++i){if(l=+s[i],l===n){if(u=!0,a.all)continue;break}c=e.values[l],YD(c)&&(r||0===t||xM(t)===xM(c))&&(t+=c)}return u||a.all?t:0}function pI(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function fI(e,t,n){const a=e[t]||(e[t]={});return a[n]||(a[n]={})}function mI(e,t,n,a){for(const s of t.getMatchingVisibleMetas(a).reverse()){const t=e[s.index];if(n&&t>0||!n&&t<0)return s.index}return null}function gI(e,t){const{chart:n,_cachedMeta:a}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:i,index:o}=a,l=r.axis,c=i.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(r,i,a),d=t.length;let h;for(let p=0;p<d;++p){const e=t[p],{[l]:n,[c]:r}=e;h=(e._stacks||(e._stacks={}))[c]=fI(s,u,n),h[o]=r,h._top=mI(h,i,!0,a.type),h._bottom=mI(h,i,!1,a.type);(h._visualValues||(h._visualValues={}))[o]=r}}function vI(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function yI(e,t){const n=e.controller.index,a=e.vScale&&e.vScale.axis;if(a){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[a]||void 0===t[a][n])return;delete t[a][n],void 0!==t[a]._visualValues&&void 0!==t[a]._visualValues[n]&&delete t[a]._visualValues[n]}}}const bI=e=>"reset"===e||"none"===e,xI=(e,t)=>t?e:Object.assign({},e);class wI{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pI(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&yI(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),a=(e,t,n,a)=>"x"===e?t:"r"===e?a:n,s=t.xAxisID=XD(n.xAxisID,vI(e,"x")),r=t.yAxisID=XD(n.yAxisID,vI(e,"y")),i=t.rAxisID=XD(n.rAxisID,vI(e,"r")),o=t.indexAxis,l=t.iAxisID=a(o,s,r,i),c=t.vAxisID=a(o,r,s,i);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&jM(this._data,this),e._stacked&&yI(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(KD(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:a}=t,s="x"===n.axis?"x":"y",r="x"===a.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,c,u;for(l=0,c=i.length;l<c;++l)u=i[l],o[l]={[s]:u,[r]:e[u]};return o}(t,e)}else if(n!==t){if(n){jM(n,this);const e=this._cachedMeta;yI(e),e._parsed=[]}t&&Object.isExtensible(t)&&(s=this,(a=t)._chartjs?a._chartjs.listeners.push(s):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),IM.forEach(e=>{const t="_onData"+lM(e),n=a[e];Object.defineProperty(a,e,{configurable:!0,enumerable:!1,value(...e){const s=n.apply(this,e);return a._chartjs.listeners.forEach(n=>{"function"==typeof n[t]&&n[t](...e)}),s}})}))),this._syncList=[],this._data=t}var a,s}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=t._stacked;t._stacked=pI(t.vScale,t),t.stack!==n.stack&&(a=!0,yI(t),t.stack=n.stack),this._resyncElements(e),(a||s!==t._stacked)&&(gI(this,t._parsed),t._stacked=pI(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:r}=n,i=s.axis;let o,l,c,u=0===e&&t===a.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=a,n._sorted=!0,c=a;else{c=$D(a[e])?this.parseArrayData(n,a,e,t):KD(a[e])?this.parseObjectData(n,a,e,t):this.parsePrimitiveData(n,a,e,t);const s=()=>null===l[i]||d&&l[i]<d[i];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],u&&(s()&&(u=!1),d=l);n._sorted=u}r&&gI(this,c)}parsePrimitiveData(e,t,n,a){const{iScale:s,vScale:r}=e,i=s.axis,o=r.axis,l=s.getLabels(),c=s===r,u=new Array(a);let d,h,p;for(d=0,h=a;d<h;++d)p=d+n,u[d]={[i]:c||s.parse(l[p],p),[o]:r.parse(t[p],p)};return u}parseArrayData(e,t,n,a){const{xScale:s,yScale:r}=e,i=new Array(a);let o,l,c,u;for(o=0,l=a;o<l;++o)c=o+n,u=t[c],i[o]={x:s.parse(u[0],c),y:r.parse(u[1],c)};return i}parseObjectData(e,t,n,a){const{xScale:s,yScale:r}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(a);let c,u,d,h;for(c=0,u=a;c<u;++c)d=c+n,h=t[d],l[c]={x:s.parse(oM(h,i),d),y:r.parse(oM(h,o),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const a=this.chart,s=this._cachedMeta,r=t[e.axis];return hI({keys:dI(a,!0),values:t._stacks[e.axis]._visualValues},r,s.index,{mode:n})}updateRangeFromParsed(e,t,n,a){const s=n[t.axis];let r=null===s?NaN:s;const i=a&&n._stacks[t.axis];a&&i&&(a.values=i,r=hI(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,r=a.length,i=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:dI(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:a,maxDefined:s}=e.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}(i);let d,h;function p(){h=a[d];const t=h[i.axis];return!YD(h[e.axis])||c>t||u<t}for(d=0;d<r&&(p()||(this.updateRangeFromParsed(l,e,h,o),!s));++d);if(s)for(d=r-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let a,s,r;for(a=0,s=t.length;a<s;++a)r=t[a][e.axis],YD(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,a=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,a,s;return KD(e)?(t=e.top,n=e.right,a=e.bottom,s=e.left):t=n=a=s=e,{top:t,right:n,bottom:a,left:s,disabled:!1===e}}(XD(this.options.clip,function(e,t,n){if(!1===n)return!1;const a=uI(e,n),s=uI(t,n);return{top:s.end,right:a.end,bottom:s.start,left:a.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,a=n.data||[],s=t.chartArea,r=[],i=this._drawStart||0,o=this._drawCount||a.length-i,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,i,o),c=i;c<i+o;++c){const t=a[c];t.hidden||(t.active&&l?r.push(t):t.draw(e,s))}for(c=0;c<r.length;++c)r[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,n){return PT(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return PT(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const a="active"===t,s=this._cachedDataOpts,r=e+"-"+t,i=s[r],o=this.enableOptionSharing&&cM(n);if(i)return xI(i,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=a?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(aT.elements[e]),p=l.resolveNamedOptions(d,h,()=>this.getContext(n,a,t),u);return p.$shared&&(p.$shared=o,s[r]=Object.freeze(xI(p,o))),p}_resolveAnimations(e,t,n){const a=this.chart,s=this._cachedDataOpts,r="animation-".concat(t),i=s[r];if(i)return i;let o;if(!1!==a.options.animation){const a=this.chart.config,s=a.datasetAnimationScopeKeys(this._type,t),r=a.getOptionScopes(this.getDataset(),s);o=a.createResolver(r,this.getContext(e,n,t))}const l=new cI(a,o&&o.animations);return o&&o._cacheable&&(s[r]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||bI(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),a=this._sharedOptions,s=this.getSharedOptions(n),r=this.includeOptions(t,s)||s!==a;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:r}}updateElement(e,t,n,a){bI(a)?Object.assign(e,n):this._resolveAnimations(t,a).update(e,n)}updateSharedOptions(e,t,n){e&&!bI(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,a){e.active=a;const s=this.getStyle(t,a);this._resolveAnimations(t,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const a=n.length,s=t.length,r=Math.min(s,a);r&&this.parse(0,r),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,t,n=!0){const a=this._cachedMeta,s=a.data,r=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=r;i--)e[i]=e[i-t]};for(o(s),i=e;i<r;++i)s[i]=new this.dataElementType;this._parsing&&o(a._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,a){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,t);n._stacked&&yI(n,a)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,a]=e;this[t](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function _I(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let a=[];for(let t=0,s=n.length;t<s;t++)a=a.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=LM(a.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let a,s,r,i,o=t._length;const l=()=>{32767!==r&&-32768!==r&&(cM(i)&&(o=Math.min(o,Math.abs(r-i)||o)),i=r)};for(a=0,s=n.length;a<s;++a)r=t.getPixelForValue(n[a]),l();for(i=void 0,a=0,s=t.ticks.length;a<s;++a)r=t.getPixelForTick(a),l();return o}function kI(e,t,n,a){return $D(e)?function(e,t,n,a){const s=n.parse(e[0],a),r=n.parse(e[1],a),i=Math.min(s,r),o=Math.max(s,r);let l=i,c=o;Math.abs(i)>Math.abs(o)&&(l=o,c=i),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:i,max:o}}(e,t,n,a):t[n.axis]=n.parse(e,a),t}function CI(e,t,n,a){const s=e.iScale,r=e.vScale,i=s.getLabels(),o=s===r,l=[];let c,u,d,h;for(c=n,u=n+a;c<u;++c)h=t[c],d={},d[s.axis]=o||s.parse(i[c],c),l.push(kI(h,d,r,c));return l}function SI(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function EI(e,t,n,a){let s=t.borderSkipped;const r={};if(!s)return void(e.borderSkipped=r);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:o,reverse:l,top:c,bottom:u}=function(e){let t,n,a,s,r;return e.horizontal?(t=e.base>e.x,n="left",a="right"):(t=e.base<e.y,n="bottom",a="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:a,reverse:t,top:s,bottom:r}}(e);"middle"===s&&n&&(e.enableBorderRadius=!0,(n._top||0)===a?s=c:(n._bottom||0)===a?s=u:(r[PI(u,i,o,l)]=!0,s=c)),r[PI(s,i,o,l)]=!0,e.borderSkipped=r}function PI(e,t,n,a){var s,r,i;return a?(i=n,e=AI(e=(s=e)===(r=t)?i:s===i?r:s,n,t)):e=AI(e,t,n),e}function AI(e,t,n){return"start"===e?t:"end"===e?n:e}function OI(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}a(wI,"defaults",{}),a(wI,"datasetElementType",null),a(wI,"dataElementType",null);class DI extends wI{parsePrimitiveData(e,t,n,a){return CI(e,t,n,a)}parseArrayData(e,t,n,a){return CI(e,t,n,a)}parseObjectData(e,t,n,a){const{iScale:s,vScale:r}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l="x"===s.axis?i:o,c="x"===r.axis?i:o,u=[];let d,h,p,f;for(d=n,h=n+a;d<h;++d)f=t[d],p={},p[s.axis]=s.parse(oM(f,l),d),u.push(kI(oM(f,c),p,r,d));return u}updateRangeFromParsed(e,t,n,a){super.updateRangeFromParsed(e,t,n,a);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:a}=t,s=this.getParsed(e),r=s._custom,i=SI(r)?"["+r.start+", "+r.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,a){const s="reset"===a,{index:r,_cachedMeta:{vScale:i}}=this,o=i.getBasePixel(),l=i.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,a);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=s||WD(t[i.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[i.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||SI(t._custom)||r===f._top||r===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};d&&(m.options=u||this.resolveDataElementOptions(h,e[h].active?"active":a));const g=m.options||e[h].options;EI(m,g,f,r),OI(m,g,c.ratio),this.updateElement(e[h],h,m,a)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),s=n.options.stacked,r=[],i=this._cachedMeta.controller.getParsed(t),o=i&&i[n.axis],l=e=>{const t=e._parsed.find(e=>e[n.axis]===o),a=t&&t[e.vScale.axis];if(WD(a)||isNaN(a))return!0};for(const c of a)if((void 0===t||!l(c))&&((!1===s||-1===r.indexOf(c.stack)||void 0===s&&void 0===c.stack)&&r.push(c.stack),c.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[XD("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const a=this._getStacks(e,n),s=void 0!==t?a.indexOf(t):-1;return-1===s?a.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,a=[];let s,r;for(s=0,r=t.data.length;s<r;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const i=e.barThickness;return{min:i||_I(t),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:a},options:{base:s,minBarLength:r}}=this,i=s||0,o=this.getParsed(e),l=o._custom,c=SI(l);let u,d,h=o[t.axis],p=0,f=n?this.applyStack(t,o,n):h;f!==h&&(p=f-h,f=h),c&&(h=l.barStart,f=l.barEnd-l.barStart,0!==h&&xM(h)!==xM(l.barEnd)&&(p=0),p+=h);const m=WD(s)||c?p:s;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):g,d=u-g,Math.abs(d)<r){d=function(e,t,n){return 0!==e?xM(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,i)*r,h===i&&(g-=d/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),p=Math.max(e,s);g=Math.max(Math.min(g,p),l),u=g+d,n&&!c&&(o._stacks[t.axis]._visualValues[a]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(i)){const e=xM(d)*t.getLineWidthForValue(i)/2;g+=e,d-=e}return{size:d,base:g,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,a=this.options,s=a.skipNull,r=XD(a.maxBarThickness,1/0);let i,o;const l=this._getAxisCount();if(t.grouped){const n=s?this._getStackCount(e):t.stackCount,c="flex"===a.barThickness?function(e,t,n,a){const s=t.pixels,r=s[e];let i=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;null===i&&(i=r-(null===o?t.end-t.start:o-r)),null===o&&(o=r+r-i);const c=r-(r-Math.min(i,o))/2*l;return{chunk:Math.abs(o-i)/2*l/a,ratio:n.barPercentage,start:c}}(e,t,a,n*l):function(e,t,n,a){const s=n.barThickness;let r,i;return WD(s)?(r=t.min*n.categoryPercentage,i=n.barPercentage):(r=s*a,i=1),{chunk:r/a,ratio:i,start:t.pixels[e]-r/2}}(e,t,a,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(XD(u,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+d;i=c.start+c.chunk*h+c.chunk/2,o=Math.min(r,c.chunk*c.ratio)}else i=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(r,t.min*t.ratio);return{base:i-o/2,head:i+o/2,center:i,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)null===this.getParsed(s)[t.axis]||n[s].hidden||n[s].draw(this._ctx)}}function MI(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}a(DI,"id","bar"),a(DI,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),a(DI,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class TI{constructor(e){a(this,"options"),this.options=e||{}}static override(e){Object.assign(TI.prototype,e)}init(){}formats(){return MI()}parse(){return MI()}format(){return MI()}add(){return MI()}diff(){return MI()}startOf(){return MI()}endOf(){return MI()}}var II=TI;function jI(e,t,n,a){const{controller:s,data:r,_sorted:i}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&r.length){const i=o._reversePixels?TM:MM;if(!a){const a=i(r,t,n);if(l){const{vScale:t}=s._cachedMeta,{_parsed:n}=e,r=n.slice(0,a.lo+1).reverse().findIndex(e=>!WD(e[t.axis]));a.lo-=Math.max(0,r);const i=n.slice(a.hi).findIndex(e=>!WD(e[t.axis]));a.hi+=Math.max(0,i)}return a}if(s._sharedOptions){const e=r[0],a="function"==typeof e.getRange&&e.getRange(t);if(a){const e=i(r,t,n-a),s=i(r,t,n+a);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:r.length-1}}function LI(e,t,n,a,s){const r=e.getSortedVisibleDatasetMetas(),i=n[t];for(let o=0,l=r.length;o<l;++o){const{index:e,data:n}=r[o],{lo:l,hi:c}=jI(r[o],t,i,s);for(let t=l;t<=c;++t){const s=n[t];s.skip||a(s,e,t)}}}function FI(e,t,n,a,s){const r=[];if(!s&&!e.isPointInArea(t))return r;return LI(e,n,t,function(n,i,o){(s||cT(n,e.chartArea,0))&&n.inRange(t.x,t.y,a)&&r.push({element:n,datasetIndex:i,index:o})},!0),r}function NI(e,t,n,a){let s=[];return LI(e,n,t,function(e,n,r){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],a),{angle:l}=function(e,t){const n=t.x-e.x,a=t.y-e.y,s=Math.sqrt(n*n+a*a);let r=Math.atan2(a,n);return r<-.5*hM&&(r+=pM),{angle:r,distance:s}}(e,{x:t.x,y:t.y});(function(e,t,n,a){const s=PM(e),r=PM(t),i=PM(n),o=PM(r-s),l=PM(i-s),c=PM(s-r),u=PM(s-i);return s===r||s===i||a||o>l&&c<u})(l,i,o)&&s.push({element:e,datasetIndex:n,index:r})}),s}function RI(e,t,n,a,s,r){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,a){const s=t?Math.abs(e.x-a.x):0,r=n?Math.abs(e.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}(n);let l=Number.POSITIVE_INFINITY;return LI(e,n,t,function(n,c,u){const d=n.inRange(t.x,t.y,s);if(a&&!d)return;const h=n.getCenterPoint(s);if(!(!!r||e.isPointInArea(h))&&!d)return;const p=o(t,h);p<l?(i=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&i.push({element:n,datasetIndex:c,index:u})}),i}function BI(e,t,n,a,s,r){return r||e.isPointInArea(t)?"r"!==n||a?RI(e,t,n,a,s,r):NI(e,t,n,s):[]}function VI(e,t,n,a,s){const r=[],i="x"===n?"inXRange":"inYRange";let o=!1;return LI(e,n,t,(e,a,l)=>{e[i]&&e[i](t[n],s)&&(r.push({element:e,datasetIndex:a,index:l}),o=o||e.inRange(t.x,t.y,s))}),a&&!o?[]:r}var zI={modes:{index(e,t,n,a){const s=KT(t,e),r=n.axis||"x",i=n.includeInvisible||!1,o=n.intersect?FI(e,s,r,a,i):BI(e,s,r,!1,a,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,a){const s=KT(t,e),r=n.axis||"xy",i=n.includeInvisible||!1;let o=n.intersect?FI(e,s,r,a,i):BI(e,s,r,!1,a,i);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,a)=>FI(e,KT(t,e),n.axis||"xy",a,n.includeInvisible||!1),nearest(e,t,n,a){const s=KT(t,e),r=n.axis||"xy",i=n.includeInvisible||!1;return BI(e,s,r,n.intersect,a,i)},x:(e,t,n,a)=>VI(e,KT(t,e),"x",n.intersect,a),y:(e,t,n,a)=>VI(e,KT(t,e),"y",n.intersect,a)}};const UI=["left","top","right","bottom"];function qI(e,t){return e.filter(e=>e.pos===t)}function HI(e,t){return e.filter(e=>-1===UI.indexOf(e.pos)&&e.box.axis===t)}function WI(e,t){return e.sort((e,n)=>{const a=t?n:e,s=t?e:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function $I(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:a,stackWeight:s}=n;if(!e||!UI.includes(a))continue;const r=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return t}(e),{vBoxMaxWidth:a,hBoxMaxHeight:s}=t;let r,i,o;for(r=0,i=e.length;r<i;++r){o=e[r];const{fullSize:i}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*a:i&&t.availableWidth,o.height=s):(o.width=a,o.height=c?c*s:i&&t.availableHeight)}return n}function KI(e,t,n,a){return Math.max(e[n],t[n])+Math.max(e[a],t[a])}function YI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function GI(e,t,n,a){const{pos:s,box:r}=n,i=e.maxPadding;if(!KD(s)){n.size&&(e[s]-=n.size);const t=a[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?r.height:r.width),n.size=t.size/t.count,e[s]+=n.size}r.getPadding&&YI(i,r.getPadding());const o=Math.max(0,t.outerWidth-KI(i,e,"left","right")),l=Math.max(0,t.outerHeight-KI(i,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function XI(e,t){const n=t.maxPadding;function a(e){const a={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{a[e]=Math.max(t[e],n[e])}),a}return a(e?["left","right"]:["top","bottom"])}function QI(e,t,n,a){const s=[];let r,i,o,l,c,u;for(r=0,i=e.length,c=0;r<i;++r){o=e[r],l=o.box,l.update(o.width||t.w,o.height||t.h,XI(o.horizontal,t));const{same:i,other:d}=GI(t,n,o,a);c|=i&&s.length,u=u||d,l.fullSize||s.push(o)}return c&&QI(s,t,n,a)||u}function JI(e,t,n,a,s){e.top=n,e.left=t,e.right=t+a,e.bottom=n+s,e.width=a,e.height=s}function ZI(e,t,n,a){const s=n.padding;let{x:r,y:i}=t;for(const o of e){const e=o.box,l=a[o.stack]||{placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const a=t.w*c,r=l.size||e.height;cM(l.start)&&(i=l.start),e.fullSize?JI(e,s.left,i,n.outerWidth-s.right-s.left,r):JI(e,t.left+l.placed,i,a,r),l.start=i,l.placed+=a,i=e.bottom}else{const a=t.h*c,i=l.size||e.width;cM(l.start)&&(r=l.start),e.fullSize?JI(e,r,s.top,i,n.outerHeight-s.bottom-s.top):JI(e,r,t.top+l.placed,i,a),l.start=r,l.placed+=a,r=e.right}}t.x=r,t.y=i}var ej={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,a){if(!e)return;const s=kT(e.options.layout.padding),r=Math.max(t-s.width,0),i=Math.max(n-s.height,0),o=function(e){const t=function(e){const t=[];let n,a,s,r,i,o;for(n=0,a=(e||[]).length;n<a;++n)s=e[n],({position:r,options:{stack:i,stackWeight:o=1}}=s),t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:i&&r+i,stackWeight:o});return t}(e),n=WI(t.filter(e=>e.box.fullSize),!0),a=WI(qI(t,"left"),!0),s=WI(qI(t,"right")),r=WI(qI(t,"top"),!0),i=WI(qI(t,"bottom")),o=HI(t,"x"),l=HI(t,"y");return{fullSize:n,leftAndTop:a.concat(r),rightAndBottom:s.concat(l).concat(i).concat(o),chartArea:qI(t,"chartArea"),vertical:a.concat(s).concat(l),horizontal:r.concat(i).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;JD(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});const u=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:i,vBoxMaxWidth:r/2/u,hBoxMaxHeight:i/2}),h=Object.assign({},s);YI(h,kT(a));const p=Object.assign({maxPadding:h,w:r,h:i,x:s.left,y:s.top},s),f=$I(l.concat(c),d);QI(o.fullSize,p,d,f),QI(l,p,d,f),QI(c,p,d,f)&&QI(l,p,d,f),function(e){const t=e.maxPadding;function n(n){const a=Math.max(t[n]-e[n],0);return e[n]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),ZI(o.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,ZI(o.rightAndBottom,p,d,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},JD(o.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class tj{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,a){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):n)}}isAttached(e){return!0}updateConfig(e){}}class nj extends tj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const aj="$chartjs",sj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rj=e=>null===e||""===e;const ij=!!QT&&{passive:!0};function oj(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,ij)}function lj(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function cj(e,t,n){const a=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||lj(n.addedNodes,a),t=t&&!lj(n.removedNodes,a);t&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function uj(e,t,n){const a=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||lj(n.removedNodes,a),t=t&&!lj(n.addedNodes,a);t&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const dj=new Map;let hj=0;function pj(){const e=window.devicePixelRatio;e!==hj&&(hj=e,dj.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function fj(e,t,n){const a=e.canvas,s=a&&UT(a);if(!s)return;const r=NM((e,t)=>{const a=s.clientWidth;n(e,t),a<s.clientWidth&&n()},window),i=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,a=t.contentRect.height;0===n&&0===a||r(n,a)});return i.observe(s),function(e,t){dj.size||window.addEventListener("resize",pj),dj.set(e,t)}(e,r),i}function mj(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){dj.delete(e),dj.size||window.removeEventListener("resize",pj)}(e)}function gj(e,t,n){const a=e.canvas,s=NM(t=>{null!==e.ctx&&n(function(e,t){const n=sj[e.type]||e.type,{x:a,y:s}=KT(e,t);return{type:n,chart:t,native:e,x:void 0!==a?a:null,y:void 0!==s?s:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,ij)}(a,t,s),s}class vj extends tj{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,a=e.getAttribute("height"),s=e.getAttribute("width");if(e[aj]={initial:{height:a,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",rj(s)){const t=JT(e,"width");void 0!==t&&(e.width=t)}if(rj(a))if(""===e.style.height)e.height=e.width/(t||2);else{const t=JT(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[aj])return!1;const n=t[aj].initial;["height","width"].forEach(e=>{const a=n[e];WD(a)?t.removeAttribute(e):t.setAttribute(e,a)});const a=n.style||{};return Object.keys(a).forEach(e=>{t.style[e]=a[e]}),t.width=t.width,delete t[aj],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),s={attach:cj,detach:uj,resize:fj}[t]||gj;a[t]=s(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),a=n[t];if(!a)return;({attach:mj,detach:mj,resize:mj}[t]||oj)(e,t,a),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,a){return GT(e,t,n,a)}isAttached(e){const t=e&&UT(e);return!(!t||!t.isConnected)}}let yj=(e=class{constructor(){a(this,"x"),a(this,"y"),a(this,"active",!1),a(this,"options"),a(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return kM(this.x)&&kM(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const a={};return e.forEach(e=>{a[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),a}},a(e,"defaults",{}),a(e,"defaultRoutes"),e);function bj(e,t){const n=e.options.ticks,a=function(e){const t=e.options.offset,n=e._tickSize(),a=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(a,s))}(e),s=Math.min(n.maxTicksLimit||a,a),r=n.major.enabled?function(e){const t=[];let n,a;for(n=0,a=e.length;n<a;n++)e[n].major&&t.push(n);return t}(t):[],i=r.length,o=r[0],l=r[i-1],c=[];if(i>s)return function(e,t,n,a){let s,r=0,i=n[0];for(a=Math.ceil(a),s=0;s<e.length;s++)s===i&&(t.push(e[s]),r++,i=n[r*a])}(t,c,r,i/s),c;const u=function(e,t,n){const a=function(e){const t=e.length;let n,a;if(t<2)return!1;for(a=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==a)return!1;return a}(e),s=t.length/n;if(!a)return Math.max(s,1);const r=function(e){const t=[],n=Math.sqrt(e);let a;for(a=1;a<n;a++)e%a===0&&(t.push(a),t.push(e/a));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(a);for(let i=0,o=r.length-1;i<o;i++){const e=r[i];if(e>s)return e}return Math.max(s,1)}(r,t,s);if(i>0){let e,n;const a=i>1?Math.round((l-o)/(i-1)):null;for(xj(t,c,u,WD(a)?0:o-a,o),e=0,n=i-1;e<n;e++)xj(t,c,u,r[e],r[e+1]);return xj(t,c,u,l,WD(a)?t.length:l+a),c}return xj(t,c,u),c}function xj(e,t,n,a,s){const r=XD(a,0),i=Math.min(XD(s,e.length),e.length);let o,l,c,u=0;for(n=Math.ceil(n),s&&(o=s-a,n=o/Math.floor(o/n)),c=r;c<0;)u++,c=Math.round(r+u*n);for(l=Math.max(r,0);l<i;l++)l===c&&(t.push(e[l]),u++,c=Math.round(r+u*n))}const wj=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,_j=(e,t)=>Math.min(t||e,e);function kj(e,t){const n=[],a=e.length/t,s=e.length;let r=0;for(;r<s;r+=a)n.push(e[Math.floor(r)]);return n}function Cj(e,t,n){const a=e.ticks.length,s=Math.min(t,a-1),r=e._startPixel,i=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(s);if(!(n&&(l=1===a?Math.max(c-r,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<r-o||c>i+o)))return c}function Sj(e){return e.drawTicks?e.tickLength:0}function Ej(e,t){if(!e.display)return 0;const n=CT(e.font,t),a=kT(e.padding);return($D(e.text)?e.text.length:1)*n.lineHeight+a.height}function Pj(e,t,n){let a=RM(e);return(n&&"right"!==t||!n&&"right"===t)&&(a=(e=>"left"===e?"right":"right"===e?"left":e)(a)),a}class Aj extends yj{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:a}=this;return e=GD(e,Number.POSITIVE_INFINITY),t=GD(t,Number.NEGATIVE_INFINITY),n=GD(n,Number.POSITIVE_INFINITY),a=GD(a,Number.NEGATIVE_INFINITY),{min:GD(e,n),max:GD(t,a),minDefined:YD(e),maxDefined:YD(t)}}getMinMax(e){let t,{min:n,max:a,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:n,max:a};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),s||(n=Math.min(n,t.min)),r||(a=Math.max(a,t.max));return n=r&&n>a?a:n,a=s&&n>a?n:a,{min:GD(n,GD(a,n)),max:GD(a,GD(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){QD(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:a,grace:s,ticks:r}=this.options,i=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ET(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?kj(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=bj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){QD(this.options.afterUpdate,[this])}beforeSetDimensions(){QD(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){QD(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),QD(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){QD(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=QD(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){QD(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){QD(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=_j(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,s=t.maxRotation;let r,i,o,l=a;if(!this._isVisible()||!t.display||a>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=a);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=AM(this.chart.width-u,0,this.maxWidth);r=e.offset?this.maxWidth/n:h/(n-1),u+6>r&&(r=h/(n-(e.offset?.5:1)),i=this.maxHeight-Sj(e.grid)-t.padding-Ej(e.title,this.chart.options.font),o=Math.sqrt(u*u+d*d),l=Math.min(Math.asin(AM((c.highest.height+6)/r,-1,1)),Math.asin(AM(i/o,-1,1))-Math.asin(AM(d/o,-1,1)))*(180/hM),l=Math.max(a,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){QD(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){QD(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:a,grid:s}}=this,r=this._isVisible(),i=this.isHorizontal();if(r){const r=Ej(a,t.options.font);if(i?(e.width=this.maxWidth,e.height=Sj(s)+r):(e.height=this.maxHeight,e.width=Sj(s)+r),n.display&&this.ticks.length){const{first:t,last:a,widest:s,highest:r}=this._getLabelSizes(),o=2*n.padding,l=CM(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(i){const t=n.mirror?0:u*s.width+c*r.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*s.width+u*r.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,a,u,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,a){const{ticks:{align:s,padding:r},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;o?l?(u=a*e.width,d=n*t.height):(u=n*e.height,d=a*t.width):"start"===s?d=t.width:"end"===s?u=e.width:"inner"!==s&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-i+r)*this.width/(this.width-i),0),this.paddingRight=Math.max((d-c+r)*this.width/(this.width-c),0)}else{let n=t.height/2,a=e.height/2;"start"===s?(n=0,a=e.height):"end"===s&&(n=t.height,a=0),this.paddingTop=n+r,this.paddingBottom=a+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){QD(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)WD(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=kj(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:a,_longestTextCache:s}=this,r=[],i=[],o=Math.floor(t/_j(t,n));let l,c,u,d,h,p,f,m,g,v,y,b=0,x=0;for(l=0;l<t;l+=o){if(d=e[l].label,h=this._resolveTickFontOptions(l),a.font=p=h.string,f=s[p]=s[p]||{data:{},gc:[]},m=h.lineHeight,g=v=0,WD(d)||$D(d)){if($D(d))for(c=0,u=d.length;c<u;++c)y=d[c],WD(y)||$D(y)||(g=sT(a,f.data,f.gc,g,y),v+=m)}else g=sT(a,f.data,f.gc,g,d),v=m;r.push(g),i.push(v),b=Math.max(g,b),x=Math.max(v,x)}!function(e,t){JD(e,e=>{const n=e.gc,a=n.length/2;let s;if(a>t){for(s=0;s<a;++s)delete e.data[n[s]];n.splice(0,a)}})}(s,t);const w=r.indexOf(b),_=i.indexOf(x),k=e=>({width:r[e]||0,height:i[e]||0});return{first:k(0),last:k(t-1),widest:k(w),highest:k(_),widths:r,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return AM(this._alignToPixels?rT(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return PT(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=PT(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=CM(this.labelRotation),n=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),s=this._getLabelSizes(),r=e.autoSkipPadding||0,i=s?s.widest.width+r:0,o=s?s.highest.height+r:0;return this.isHorizontal()?o*n>i*a?i/n:o/a:o*a<i*n?o/n:i/a}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,a=this.options,{grid:s,position:r,border:i}=a,o=s.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=Sj(s),d=[],h=i.setContext(this.getContext()),p=h.display?h.width:0,f=p/2,m=function(e){return rT(n,e,p)};let g,v,y,b,x,w,_,k,C,S,E,P;if("top"===r)g=m(this.bottom),w=this.bottom-u,k=g-f,S=m(e.top)+f,P=e.bottom;else if("bottom"===r)g=m(this.top),S=e.top,P=m(e.bottom)-f,w=g+f,k=this.top+u;else if("left"===r)g=m(this.right),x=this.right-u,_=g-f,C=m(e.left)+f,E=e.right;else if("right"===r)g=m(this.left),C=e.left,E=m(e.right)-f,x=g+f,_=this.left+u;else if("x"===t){if("center"===r)g=m((e.top+e.bottom)/2+.5);else if(KD(r)){const e=Object.keys(r)[0],t=r[e];g=m(this.chart.scales[e].getPixelForValue(t))}S=e.top,P=e.bottom,w=g+f,k=w+u}else if("y"===t){if("center"===r)g=m((e.left+e.right)/2);else if(KD(r)){const e=Object.keys(r)[0],t=r[e];g=m(this.chart.scales[e].getPixelForValue(t))}x=g-f,_=x-u,C=e.left,E=e.right}const A=XD(a.ticks.maxTicksLimit,c),O=Math.max(1,Math.ceil(c/A));for(v=0;v<c;v+=O){const e=this.getContext(v),t=s.setContext(e),a=i.setContext(e),r=t.lineWidth,c=t.color,u=a.dash||[],h=a.dashOffset,p=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=Cj(this,v,o),void 0!==y&&(b=rT(n,y,r),l?x=_=C=E=b:w=k=S=P=b,d.push({tx1:x,ty1:w,tx2:_,ty2:k,x1:C,y1:S,x2:E,y2:P,width:r,color:c,borderDash:u,borderDashOffset:h,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:a,ticks:s}=n,r=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=s,d=Sj(n.grid),h=d+c,p=u?-c:h,f=-CM(this.labelRotation),m=[];let g,v,y,b,x,w,_,k,C,S,E,P,A="middle";if("top"===a)w=this.bottom-p,_=this._getXAxisLabelAlignment();else if("bottom"===a)w=this.top+p,_=this._getXAxisLabelAlignment();else if("left"===a){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,x=e.x}else if("right"===a){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,x=e.x}else if("x"===t){if("center"===a)w=(e.top+e.bottom)/2+h;else if(KD(a)){const e=Object.keys(a)[0],t=a[e];w=this.chart.scales[e].getPixelForValue(t)+h}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===a)x=(e.left+e.right)/2-h;else if(KD(a)){const e=Object.keys(a)[0],t=a[e];x=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===o?A="top":"end"===o&&(A="bottom"));const O=this._getLabelSizes();for(g=0,v=i.length;g<v;++g){y=i[g],b=y.label;const e=s.setContext(this.getContext(g));k=this.getPixelForTick(g)+s.labelOffset,C=this._resolveTickFontOptions(g),S=C.lineHeight,E=$D(b)?b.length:1;const t=E/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let d,h=_;if(r?(x=k,"inner"===_&&(h=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),P="top"===a?"near"===l||0!==f?-E*S+S/2:"center"===l?-O.highest.height/2-t*S+S:-O.highest.height+S/2:"near"===l||0!==f?S/2:"center"===l?O.highest.height/2-t*S:O.highest.height-E*S,u&&(P*=-1),0===f||e.showLabelBackdrop||(x+=S/2*Math.sin(f))):(w=k,P=(1-E)*S/2),e.showLabelBackdrop){const t=kT(e.backdropPadding),n=O.heights[g],a=O.widths[g];let s=P-t.top,r=0-t.left;switch(A){case"middle":s-=n/2;break;case"bottom":s-=n}switch(_){case"center":r-=a/2;break;case"right":r-=a;break;case"inner":g===v-1?r-=a:g>0&&(r-=a/2)}d={left:r,top:s,width:a+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:C,textOffset:P,options:{rotation:f,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:A,translation:[x,w],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-CM(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,r=e+s,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?a?(l=this.right+s,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-r,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?a?(l=this.left+s,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+r,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:a,width:s,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,a,s,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,r;const i=(e,t,a)=>{a.width&&a.color&&(n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(s=0,r=a.length;s<r;++s){const e=a[s];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),r=n.display?s.width:0;if(!r)return;const i=a.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=rT(e,this.left,r)-r/2,c=rT(e,this.right,i)+i/2,u=d=o):(u=rT(e,this.top,r)-r/2,d=rT(e,this.bottom,i)+i/2,l=c=o),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&uT(t,n);const a=this.getLabelItems(e);for(const s of a){const e=s.options,n=s.font;fT(t,s.label,0,s.textOffset,n,e)}n&&dT(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:a}}=this;if(!n.display)return;const s=CT(n.font),r=kT(n.padding),i=n.align;let o=s.lineHeight/2;"bottom"===t||"center"===t||KD(t)?(o+=r.bottom,$D(n.text)&&(o+=s.lineHeight*(n.text.length-1))):o+=r.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,a){const{top:s,left:r,bottom:i,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,p,f=0;const m=i-s,g=o-r;if(e.isHorizontal()){if(h=BM(a,r,o),KD(n)){const e=Object.keys(n)[0],a=n[e];p=u[e].getPixelForValue(a)+m-t}else p="center"===n?(c.bottom+c.top)/2+m-t:wj(e,n,t);d=o-r}else{if(KD(n)){const e=Object.keys(n)[0],a=n[e];h=u[e].getPixelForValue(a)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:wj(e,n,t);p=BM(a,i,s),f="left"===n?-gM:gM}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}(this,o,t,i);fT(e,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:d,textAlign:Pj(i,t,a),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=XD(e.grid&&e.grid.z,-1),a=XD(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Aj.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,r;for(s=0,r=t.length;s<r;++s){const r=t[s];r[n]!==this.id||e&&r.type!==e||a.push(r)}return a}_resolveTickFontOptions(e){return CT(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Oj{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const a=this.items,s=e.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,function(e,t,n){const a=aM(Object.create(null),[n?aT.get(n):{},aT.get(t),e.defaults]);aT.set(t,a),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const a=n.split("."),s=a.pop(),r=[e].concat(a).join("."),i=t[n].split("."),o=i.pop(),l=i.join(".");aT.route(r,s,l,o)})}(t,e.defaultRoutes);e.descriptors&&aT.describe(t,e.descriptors)}(e,r,n),this.override&&aT.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,a=this.scope;n in t&&delete t[n],a&&n in aT[a]&&(delete aT[a][n],this.override&&delete JM[n])}}class Dj{constructor(){this.controllers=new Oj(wI,"datasets",!0),this.elements=new Oj(yj,"elements"),this.plugins=new Oj(Object,"plugins"),this.scales=new Oj(Aj,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(t=>{const a=n||this._getRegistryForType(t);n||a.isForType(t)||a===this.plugins&&t.id?this._exec(e,a,t):JD(t,t=>{const a=n||this._getRegistryForType(t);this._exec(e,a,t)})})}_exec(e,t,n){const a=lM(e);QD(n["before"+a],[],n),t[e](n),QD(n["after"+a],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const a=t.get(e);if(void 0===a)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Mj=new Dj;class Tj{constructor(){this._init=void 0}notify(e,t,n,a){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const s=a?this._descriptors(e).filter(a):this._descriptors(e),r=this._notify(s,e,t,n);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),r}_notify(e,t,n,a){a=a||{};for(const s of e){const e=s.plugin;if(!1===QD(e[n],[t,a,s.options],e)&&a.cancelable)return!1}return!0}invalidate(){WD(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,a=XD(n.options&&n.options.plugins,{}),s=function(e){const t={},n=[],a=Object.keys(Mj.plugins.items);for(let r=0;r<a.length;r++)n.push(Mj.getPlugin(a[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const e=s[r];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==a||t?function(e,{plugins:t,localIds:n},a,s){const r=[],i=e.getContext();for(const o of t){const t=o.id,l=Ij(a[t],s);null!==l&&r.push({plugin:o,options:jj(e.config,{plugin:o,local:n[t]},l,i)})}return r}(e,s,a,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,a=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(a(t,n),e,"stop"),this._notify(a(n,t),e,"start")}}function Ij(e,t){return t||!1!==e?!0===e?{}:e:null}function jj(e,{plugin:t,local:n},a,s){const r=e.pluginScopeKeys(t),i=e.getOptionScopes(a,r);return n&&t.defaults&&i.push(t.defaults),e.createResolver(i,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Lj(e,t){const n=aT.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Fj(e){if("x"===e||"y"===e||"r"===e)return e}function Nj(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Rj(e,...t){if(Fj(e))return e;for(const n of t){const t=n.axis||Nj(n.position)||e.length>1&&Fj(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function Bj(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Vj(e,t){const n=JM[e.type]||{scales:{}},a=t.scales||{},s=Lj(e.type,t),r=Object.create(null);return Object.keys(a).forEach(t=>{const i=a[t];if(!KD(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=Rj(t,i,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return Bj(e,"x",n[0])||Bj(e,"y",n[0])}return{}}(t,e),aT.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,s),c=n.scales||{};r[t]=sM(Object.create(null),[{axis:o},i,c[o],c[l]])}),e.data.datasets.forEach(n=>{const s=n.type||e.type,i=n.indexAxis||Lj(s,t),o=(JM[s]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,i),s=n[t+"AxisID"]||t;r[s]=r[s]||Object.create(null),sM(r[s],[{axis:t},a[s],o[e]])})}),Object.keys(r).forEach(e=>{const t=r[e];sM(t,[aT.scales[t.type],aT.scale])}),r}function zj(e){const t=e.options||(e.options={});t.plugins=XD(t.plugins,{}),t.scales=Vj(e,t)}function Uj(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const qj=new Map,Hj=new Set;function Wj(e,t){let n=qj.get(e);return n||(n=t(),qj.set(e,n),Hj.add(n)),n}const $j=(e,t,n)=>{const a=oM(t,n);void 0!==a&&e.add(a)};class Kj{constructor(e){this._config=function(e){return(e=e||{}).data=Uj(e.data),zj(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Uj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Wj(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return Wj("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return Wj("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Wj("".concat(n,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let a=n.get(e);return a&&!t||(a=new Map,n.set(e,a)),a}getOptionScopes(e,t,n){const{options:a,type:s}=this,r=this._cachedScopes(e,n),i=r.get(t);if(i)return i;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>$j(o,e,t))),t.forEach(e=>$j(o,a,e)),t.forEach(e=>$j(o,JM[s]||{},e)),t.forEach(e=>$j(o,aT,e)),t.forEach(e=>$j(o,ZM,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),Hj.has(t)&&r.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,JM[t]||{},aT.datasets[t]||{},{type:t},aT,ZM]}resolveNamedOptions(e,t,n,a=[""]){const s={$shared:!0},{resolver:r,subPrefixes:i}=Yj(this._resolverCache,e,a);let o=r;if(function(e,t){const{isScriptable:n,isIndexable:a}=DT(e);for(const s of t){const t=n(s),r=a(s),i=(r||t)&&e[s];if(t&&(uM(i)||Gj(i))||r&&$D(i))return!0}return!1}(r,t)){s.$shared=!1;o=OT(r,n=uM(n)?n():n,this.createResolver(e,n,i))}for(const l of t)s[l]=o[l];return s}createResolver(e,t,n=[""],a){const{resolver:s}=Yj(this._resolverCache,e,n);return KD(t)?OT(s,t,void 0,a):s}}function Yj(e,t,n){let a=e.get(t);a||(a=new Map,e.set(t,a));const s=n.join();let r=a.get(s);if(!r){r={resolver:AT(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},a.set(s,r)}return r}const Gj=e=>KD(e)&&Object.getOwnPropertyNames(e).some(t=>uM(e[t]));const Xj=["top","bottom","left","right","chartArea"];function Qj(e,t){return"top"===e||"bottom"===e||-1===Xj.indexOf(e)&&"x"===t}function Jj(e,t){return function(n,a){return n[e]===a[e]?n[t]-a[t]:n[e]-a[e]}}function Zj(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),QD(n&&n.onComplete,[e],t)}function eL(e){const t=e.chart,n=t.options.animation;QD(n&&n.onProgress,[e],t)}function tL(e){return zT()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const nL={},aL=e=>{const t=tL(e);return Object.values(nL).filter(e=>e.canvas===t).pop()};function sL(e,t,n){const a=Object.keys(e);for(const s of a){const a=+s;if(a>=t){const r=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=r)}}}let rL=(t=class{static register(...e){Mj.add(...e),iL()}static unregister(...e){Mj.remove(...e),iL()}constructor(e,t){const n=this.config=new Kj(t),a=tL(e),s=aL(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!zT()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?nj:vj}(a)),this.platform.updateConfig(n);const i=this.platform.acquireContext(a,r.aspectRatio),o=i&&i.canvas,l=o&&o.height,c=o&&o.width;this.id=HD(),this.ctx=i,this.canvas=o,this.width=c,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Tj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(...a){return t?(clearTimeout(n),n=setTimeout(e,t,a)):e.apply(this,a),t}}(e=>this.update(e),r.resizeDelay||0),this._dataChanges=[],nL[this.id]=this,i&&o?(rI.listen(this,"complete",Zj),rI.listen(this,"progress",eL),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:a,_aspectRatio:s}=this;return WD(e)?t&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Mj}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():XT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iT(this.canvas,this.ctx),this}stop(){return rI.stop(this),this}resize(e,t){rI.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(a,e,t,s),i=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,XT(this,i,!0)&&(this.notifyPlugins("resize",{size:r}),QD(n.onResize,[this,r],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){JD(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,a=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let s=[];t&&(s=s.concat(Object.keys(t).map(e=>{const n=t[e],a=Rj(e,n),s="r"===a,r="x"===a;return{options:n,dposition:s?"chartArea":r?"bottom":"left",dtype:s?"radialLinear":r?"category":"linear"}}))),JD(s,t=>{const s=t.options,r=s.id,i=Rj(r,s),o=XD(s.type,t.dtype);void 0!==s.position&&Qj(s.position,i)===Qj(t.dposition)||(s.position=t.dposition),a[r]=!0;let l=null;if(r in n&&n[r].type===o)l=n[r];else{l=new(Mj.getScale(o))({id:r,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(s,e)}),JD(a,(e,t)=>{e||delete n[t]}),JD(n,e=>{ej.configure(this,e,e.options),ej.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Jj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=t.length;n<a;n++){const a=t[n];let s=this.getDatasetMeta(n);const r=a.type||this.config.type;if(s.type&&s.type!==r&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=r,s.indexAxis=a.indexAxis||Lj(r,this.options),s.order=a.order||0,s.index=n,s.label=""+a.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const t=Mj.getController(r),{datasetElementType:a,dataElementType:i}=aT.datasets[r];Object.assign(t,{dataElementType:Mj.getElement(i),datasetElementType:a&&Mj.getElement(a)}),s.controller=new t(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){JD(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!a&&-1===s.indexOf(e);e.buildOrUpdateElements(t),r=Math.max(+e.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),a||JD(s,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Jj("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){JD(this.scales,e=>{ej.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);dM(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of t){sL(e,a,"_removeElements"===n?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),a=n(0);for(let s=1;s<t;s++)if(!dM(a,n(s)))return;return Array.from(a).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ej.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],JD(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,uM(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(n.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(rI.has(this)?this.attached&&!rI.running(this)&&rI.start(this):(this.draw(),Zj({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let a,s;for(a=0,s=t.length;a<s;++a){const s=t[a];e&&!s.visible||n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=aI(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(a&&uT(t,a),e.controller.draw(),a&&dT(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return cT(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,a){const s=zI.modes[t];return"function"==typeof s?s(this,e,n,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let a=n.filter(e=>e&&e._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=PT(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),r=s.controller._resolveAnimations(void 0,a);cM(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),r.update(s,{visible:n}),this.update(t=>t.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),rI.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),iT(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete nL[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,a)=>{t.addEventListener(this,n,a),e[n]=a},a=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};JD(this.options.events,e=>n(e,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,a)=>{t.addEventListener(this,n,a),e[n]=a},a=(n,a)=>{e[n]&&(t.removeEventListener(this,n,a),delete e[n])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let r;const i=()=>{a("attach",i),this.attached=!0,this.resize(),n("resize",s),n("detach",r)};r=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",i)},t.isAttached(this.canvas)?i():r()}unbindEvents(){JD(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},JD(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const a=n?"set":"remove";let s,r,i,o;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){r=e[i];const t=r&&this.getDatasetMeta(r.datasetIndex).controller;t&&t[a+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}});!ZD(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const a=this.options.hover,s=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),r=s(t,e),i=n?e:s(e,t);r.length&&this.updateHoverStyle(r,a.mode,!1),i.length&&a.mode&&this.updateHoverStyle(i,a.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,a))return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:a=[],options:s}=this,r=t,i=this._getActiveElements(e,a,n,r),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,a){return n&&"mouseout"!==e.type?a?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,QD(s.onHover,[e,i,this],this),o&&QD(s.onClick,[e,i,this],this));const c=!ZD(i,a);return(c||t)&&(this._active=i,this._updateHoverStyles(i,a,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,a){if("mouseout"===e.type)return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}},a(t,"defaults",aT),a(t,"instances",nL),a(t,"overrides",JM),a(t,"registry",Mj),a(t,"version","4.5.1"),a(t,"getChart",aL),t);function iL(){return JD(rL.instances,e=>e._plugins.invalidate())}function oL(e,t){const{x:n,y:a,base:s,width:r,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,c,u,d;return e.horizontal?(d=i/2,o=Math.min(n,s),l=Math.max(n,s),c=a-d,u=a+d):(d=r/2,o=n-d,l=n+d,c=Math.min(a,s),u=Math.max(a,s)),{left:o,top:c,right:l,bottom:u}}function lL(e,t,n,a){return e?0:AM(t,n,a)}function cL(e){const t=oL(e),n=t.right-t.left,a=t.bottom-t.top,s=function(e,t,n){const a=e.options.borderWidth,s=e.borderSkipped,r=wT(a);return{t:lL(s.top,r.top,0,n),r:lL(s.right,r.right,0,t),b:lL(s.bottom,r.bottom,0,n),l:lL(s.left,r.left,0,t)}}(e,n/2,a/2),r=function(e,t,n){const{enableBorderRadius:a}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=_T(s),i=Math.min(t,n),o=e.borderSkipped,l=a||KD(s);return{topLeft:lL(!l||o.top||o.left,r.topLeft,0,i),topRight:lL(!l||o.top||o.right,r.topRight,0,i),bottomLeft:lL(!l||o.bottom||o.left,r.bottomLeft,0,i),bottomRight:lL(!l||o.bottom||o.right,r.bottomRight,0,i)}}(e,n/2,a/2);return{outer:{x:t.left,y:t.top,w:n,h:a,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:a-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function uL(e,t,n,a){const s=null===t,r=null===n,i=e&&!(s&&r)&&oL(e,a);return i&&(s||OM(t,i.left,i.right))&&(r||OM(n,i.top,i.bottom))}function dL(e,t){e.rect(t.x,t.y,t.w,t.h)}function hL(e,t,n={}){const a=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-a,i=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+a,y:e.y+s,w:e.w+r,h:e.h+i,radius:e.radius}}class pL extends yj{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:r}=cL(this),i=(o=r.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?mT:dL;var o;e.save(),r.w===s.w&&r.h===s.h||(e.beginPath(),i(e,hL(r,t,s)),e.clip(),i(e,hL(s,-t,r)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),i(e,hL(s,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,n){return uL(this,e,t,n)}inXRange(e,t){return uL(this,e,null,t)}inYRange(e,t){return uL(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+a)/2:t,y:s?n:(n+a)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}a(pL,"id","bar"),a(pL,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),a(pL,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const fL=(e,t)=>{let{boxHeight:n=t,boxWidth:a=t}=e;return e.usePointStyle&&(n=Math.min(n,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(t,n)}};class mL extends yj{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=QD(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,a=CT(n.font),s=a.size,r=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=fL(n,s);let l,c;t.font=a.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(r,s,i,o)+10):(c=this.maxHeight,l=this._fitCols(r,a,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,a){const{ctx:s,maxWidth:r,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=a+i;let u=e;s.textAlign="left",s.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach((e,p)=>{const f=n+t/2+s.measureText(e.text).width;(0===p||l[l.length-1]+f+2*i>r)&&(u+=c,l[l.length-(p>0?0:1)]=0,h+=c,d++),o[p]={left:0,top:h,row:d,width:f,height:a},l[l.length-1]+=f+i}),u}_fitCols(e,t,n,a){const{ctx:s,maxHeight:r,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=r-e;let u=i,d=0,h=0,p=0,f=0;return this.legendItems.forEach((e,r)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,a,s){const r=function(e,t,n,a){let s=e.text;s&&"string"!=typeof s&&(s=s.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+a.measureText(s).width}(a,e,t,n),i=function(e,t,n){let a=e;"string"!=typeof t.text&&(a=gL(t,n));return a}(s,a,t.lineHeight);return{itemWidth:r,itemHeight:i}}(n,t,s,e,a);r>0&&h+g+2*i>c&&(u+=d+i,l.push({width:d,height:h}),p+=d+i,f++,d=h=0),o[r]={left:p,top:h,col:f,width:m,height:g},d=Math.max(d,m),h+=g+i}),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:a},rtl:s}}=this,r=ZT(s,this.left,this.width);if(this.isHorizontal()){let s=0,i=BM(n,this.left+a,this.right-this.lineWidths[s]);for(const o of t)s!==o.row&&(s=o.row,i=BM(n,this.left+a,this.right-this.lineWidths[s])),o.top+=this.top+e+a,o.left=r.leftForLtr(r.x(i),o.width),i+=o.width+a}else{let s=0,i=BM(n,this.top+e+a,this.bottom-this.columnSizes[s].height);for(const o of t)o.col!==s&&(s=o.col,i=BM(n,this.top+e+a,this.bottom-this.columnSizes[s].height)),o.top=i,o.left+=this.left+a,o.left=r.leftForLtr(r.x(o.left),o.width),i+=o.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;uT(e,this),this._draw(),dT(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:a}=this,{align:s,labels:r}=e,i=aT.color,o=ZT(e.rtl,this.left,this.width),l=CT(r.font),{padding:c}=r,u=l.size,d=u/2;let h;this.drawTitle(),a.textAlign=o.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=fL(r,u),g=this.isHorizontal(),v=this._computeTitleHeight();h=g?{x:BM(s,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:BM(s,this.top+v+c,this.bottom-t[0].height),line:0},eI(this.ctx,e.textDirection);const y=m+c;this.legendItems.forEach((b,x)=>{a.strokeStyle=b.fontColor,a.fillStyle=b.fontColor;const w=a.measureText(b.text).width,_=o.textAlign(b.textAlign||(b.textAlign=r.textAlign)),k=p+d+w;let C=h.x,S=h.y;o.setWidth(this.width),g?x>0&&C+k+c>this.right&&(S=h.y+=y,h.line++,C=h.x=BM(s,this.left+c,this.right-n[h.line])):x>0&&S+y>this.bottom&&(C=h.x=C+t[h.line].width+c,h.line++,S=h.y=BM(s,this.top+v+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;a.save();const s=XD(n.lineWidth,1);if(a.fillStyle=XD(n.fillStyle,i),a.lineCap=XD(n.lineCap,"butt"),a.lineDashOffset=XD(n.lineDashOffset,0),a.lineJoin=XD(n.lineJoin,"miter"),a.lineWidth=s,a.strokeStyle=XD(n.strokeStyle,i),a.setLineDash(XD(n.lineDash,[])),r.usePointStyle){const i={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:s},l=o.xPlus(e,p/2);lT(a,i,l,t+d,r.pointStyleWidth&&p)}else{const r=t+Math.max((u-f)/2,0),i=o.leftForLtr(e,p),l=_T(n.borderRadius);a.beginPath(),Object.values(l).some(e=>0!==e)?mT(a,{x:i,y:r,w:p,h:f,radius:l}):a.rect(i,r,p,f),a.fill(),0!==s&&a.stroke()}a.restore()}(o.x(C),S,b),C=((e,t,n,a)=>e===(a?"left":"right")?n:"center"===e?(t+n)/2:t)(_,C+p+d,g?C+k:this.right,e.rtl),function(e,t,n){fT(a,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(C),S,b),g)h.x+=k+c;else if("string"!=typeof b.text){const e=l.lineHeight;h.y+=gL(b,e)+c}else h.y+=y}),tI(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=CT(t.font),a=kT(t.padding);if(!t.display)return;const s=ZT(e.rtl,this.left,this.width),r=this.ctx,i=t.position,o=n.size/2,l=a.top+o;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=BM(e.align,u,this.right-d);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+BM(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=BM(i,u,u+d);r.textAlign=s.textAlign(RM(i)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=n.string,fT(r,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=CT(e.font),n=kT(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,a,s;if(OM(e,this.left,this.right)&&OM(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],OM(e,a.left,a.left+a.width)&&OM(t,a.top,a.top+a.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=(s=n,null!==(a=r)&&null!==s&&a.datasetIndex===s.datasetIndex&&a.index===s.index);r&&!i&&QD(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&QD(t.onHover,[e,n,this],this)}else n&&QD(t.onClick,[e,n,this],this);var a,s}}function gL(e,t){return t*(e.text?e.text.length:0)}var vL={id:"legend",_element:mL,start(e,t,n){const a=e.legend=new mL({ctx:e.ctx,options:n,chart:e});ej.configure(e,a,n),ej.addBox(e,a)},stop(e){ej.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const a=e.legend;ej.configure(e,a,n),a.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const a=t.datasetIndex,s=n.chart;s.isDatasetVisible(a)?(s.hide(a),t.hidden=!0):(s.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:s,color:r,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=kT(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:a||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class yL extends yj{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const a=$D(n.text)?n.text.length:1;this._padding=kT(n.padding);const s=a*CT(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:a,right:s,options:r}=this,i=r.align;let o,l,c,u=0;return this.isHorizontal()?(l=BM(i,n,s),c=t+e,o=s-n):("left"===r.position?(l=n+e,c=BM(i,a,t),u=-.5*hM):(l=s-e,c=BM(i,t,a),u=.5*hM),o=a-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=CT(t.font),a=n.lineHeight/2+this._padding.top,{titleX:s,titleY:r,maxWidth:i,rotation:o}=this._drawArgs(a);fT(e,t.text,0,0,n,{color:t.color,maxWidth:i,rotation:o,textAlign:RM(t.align),textBaseline:"middle",translation:[s,r]})}}var bL={id:"title",_element:yL,start(e,t,n){!function(e,t){const n=new yL({ctx:e.ctx,options:t,chart:e});ej.configure(e,n,t),ej.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;ej.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const a=e.titleBlock;ej.configure(e,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xL={average(e){if(!e.length)return!1;let t,n,a=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();a.add(e.x),s+=e.y,++r}}if(0===r||0===a.size)return!1;return{x:[...a].reduce((e,t)=>e+t)/a.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n,a,s,r=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(n=0,a=e.length;n<a;++n){const a=e[n].element;if(a&&a.hasValue()){const e=EM(t,a.getCenterPoint());e<o&&(o=e,s=a)}}if(s){const e=s.tooltipPosition();r=e.x,i=e.y}return{x:r,y:i}}};function wL(e,t){return t&&($D(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function _L(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function kL(e,t){const{element:n,datasetIndex:a,index:s}=t,r=e.getDatasetMeta(a).controller,{label:i,value:o}=r.getLabelAndValue(s);return{chart:e,label:i,parsed:r.getParsed(s),raw:e.data.datasets[a].data[s],formattedValue:o,dataset:r.getDataset(),dataIndex:s,datasetIndex:a,element:n}}function CL(e,t){const n=e.chart.ctx,{body:a,footer:s,title:r}=e,{boxWidth:i,boxHeight:o}=t,l=CT(t.bodyFont),c=CT(t.titleFont),u=CT(t.footerFont),d=r.length,h=s.length,p=a.length,f=kT(t.padding);let m=f.height,g=0,v=a.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){m+=p*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,JD(e.title,b),n.font=l.string,JD(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?i+2+t.boxPadding:0,JD(a,e=>{JD(e.before,b),JD(e.lines,b),JD(e.after,b)}),y=0,n.font=u.string,JD(e.footer,b),n.restore(),g+=f.width,{width:g,height:m}}function SL(e,t,n,a){const{x:s,width:r}=n,{width:i,chartArea:{left:o,right:l}}=e;let c="center";return"center"===a?c=s<=(o+l)/2?"left":"right":s<=r/2?c="left":s>=i-r/2&&(c="right"),function(e,t,n,a){const{x:s,width:r}=a,i=n.caretSize+n.caretPadding;return"left"===e&&s+r+i>t.width||"right"===e&&s-r-i<0||void 0}(c,e,t,n)&&(c="center"),c}function EL(e,t,n){const a=n.yAlign||t.yAlign||function(e,t){const{y:n,height:a}=t;return n<a/2?"top":n>e.height-a/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||SL(e,t,n,a),yAlign:a}}function PL(e,t,n,a){const{caretSize:s,caretPadding:r,cornerRadius:i}=e,{xAlign:o,yAlign:l}=n,c=s+r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=_T(i);let f=function(e,t){let{x:n,width:a}=e;return"right"===t?n-=a:"center"===t&&(n-=a/2),n}(t,o);const m=function(e,t,n){let{y:a,height:s}=e;return"top"===t?a+=n:a-="bottom"===t?s+n:s/2,a}(t,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(u,h)+s:"right"===o&&(f+=Math.max(d,p)+s),{x:AM(f,0,a.width-t.width),y:AM(m,0,a.height-t.height)}}function AL(e,t,n){const a=kT(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-a.right:e.x+a.left}function OL(e){return wL([],_L(e))}function DL(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const ML={beforeTitle:qD,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,a=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return n[t.dataIndex]}return""},afterTitle:qD,beforeBody:qD,beforeLabel:qD,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return WD(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:qD,afterBody:qD,beforeFooter:qD,footer:qD,afterFooter:qD};function TL(e,t,n,a){const s=e[t].call(n,a);return void 0===s?ML[t].call(n,a):s}class IL extends yj{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&t.options.animation&&n.animations,s=new cI(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,PT(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,a=TL(n,"beforeTitle",this,e),s=TL(n,"title",this,e),r=TL(n,"afterTitle",this,e);let i=[];return i=wL(i,_L(a)),i=wL(i,_L(s)),i=wL(i,_L(r)),i}getBeforeBody(e,t){return OL(TL(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,a=[];return JD(e,e=>{const t={before:[],lines:[],after:[]},s=DL(n,e);wL(t.before,_L(TL(s,"beforeLabel",this,e))),wL(t.lines,TL(s,"label",this,e)),wL(t.after,_L(TL(s,"afterLabel",this,e))),a.push(t)}),a}getAfterBody(e,t){return OL(TL(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,a=TL(n,"beforeFooter",this,e),s=TL(n,"footer",this,e),r=TL(n,"afterFooter",this,e);let i=[];return i=wL(i,_L(a)),i=wL(i,_L(s)),i=wL(i,_L(r)),i}_createItems(e){const t=this._active,n=this.chart.data,a=[],s=[],r=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(kL(this.chart,t[i]));return e.filter&&(l=l.filter((t,a,s)=>e.filter(t,a,s,n))),e.itemSort&&(l=l.sort((t,a)=>e.itemSort(t,a,n))),JD(l,t=>{const n=DL(e.callbacks,t);a.push(TL(n,"labelColor",this,t)),s.push(TL(n,"labelPointStyle",this,t)),r.push(TL(n,"labelTextColor",this,t))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=r,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),a=this._active;let s,r=[];if(a.length){const e=xL[n.position].call(this,a,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const t=this._size=CL(this,n),i=Object.assign({},e,t),o=EL(this.chart,n,i),l=PL(n,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=r,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,a){const s=this.getCaretPosition(e,n,a);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:a,yAlign:s}=this,{caretSize:r,cornerRadius:i}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=_T(i),{x:d,y:h}=e,{width:p,height:f}=t;let m,g,v,y,b,x;return"center"===s?(b=h+f/2,"left"===a?(m=d,g=m-r,y=b+r,x=b-r):(m=d+p,g=m+r,y=b-r,x=b+r),v=m):(g="left"===a?d+Math.max(o,c)+r:"right"===a?d+p-Math.max(l,u)-r:this.caretX,"top"===s?(y=h,b=y-r,m=g-r,v=g+r):(y=h+f,b=y+r,m=g+r,v=g-r),x=y),{x1:m,x2:g,x3:v,y1:y,y2:b,y3:x}}drawTitle(e,t,n){const a=this.title,s=a.length;let r,i,o;if(s){const l=ZT(n.rtl,this.x,this.width);for(e.x=AL(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",r=CT(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,o=0;o<s;++o)t.fillText(a[o],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i,o+1===s&&(e.y+=n.titleMarginBottom-i)}}_drawColorBox(e,t,n,a,s){const r=this.labelColors[n],i=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=s,c=CT(s.bodyFont),u=AL(this,"left",s),d=a.x(u),h=o<c.lineHeight?(c.lineHeight-o)/2:0,p=t.y+h;if(s.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},n=a.leftForLtr(d,l)+l/2,c=p+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,oT(e,t,n,c),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,oT(e,t,n,c)}else{e.lineWidth=KD(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const t=a.leftForLtr(d,l),n=a.leftForLtr(a.xPlus(d,1),l-2),i=_T(r.borderRadius);Object.values(i).some(e=>0!==e)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,mT(e,{x:t,y:p,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),mT(e,{x:n,y:p+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,p,l,o),e.strokeRect(t,p,l,o),e.fillStyle=r.backgroundColor,e.fillRect(n,p+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:a}=this,{bodySpacing:s,bodyAlign:r,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=CT(n.bodyFont);let d=u.lineHeight,h=0;const p=ZT(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+h),e.y+d/2),e.y+=d+s},m=p.textAlign(r);let g,v,y,b,x,w,_;for(t.textAlign=r,t.textBaseline="middle",t.font=u.string,e.x=AL(this,m,n),t.fillStyle=n.bodyColor,JD(this.beforeBody,f),h=i&&"right"!==m?"center"===r?l/2+c:l+2+c:0,b=0,w=a.length;b<w;++b){for(g=a[b],v=this.labelTextColors[b],t.fillStyle=v,JD(g.before,f),y=g.lines,i&&y.length&&(this._drawColorBox(t,e,b,p,n),d=Math.max(u.lineHeight,o)),x=0,_=y.length;x<_;++x)f(y[x]),d=u.lineHeight;JD(g.after,f)}h=0,d=u.lineHeight,JD(this.afterBody,f),e.y-=s}drawFooter(e,t,n){const a=this.footer,s=a.length;let r,i;if(s){const o=ZT(n.rtl,this.x,this.width);for(e.x=AL(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",r=CT(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,i=0;i<s;++i)t.fillText(a[i],o.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}drawBackground(e,t,n,a){const{xAlign:s,yAlign:r}=this,{x:i,y:o}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=_T(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(i+u,o),"top"===r&&this.drawCaret(e,t,n,a),t.lineTo(i+l-d,o),t.quadraticCurveTo(i+l,o,i+l,o+d),"center"===r&&"right"===s&&this.drawCaret(e,t,n,a),t.lineTo(i+l,o+c-p),t.quadraticCurveTo(i+l,o+c,i+l-p,o+c),"bottom"===r&&this.drawCaret(e,t,n,a),t.lineTo(i+h,o+c),t.quadraticCurveTo(i,o+c,i,o+c-h),"center"===r&&"left"===s&&this.drawCaret(e,t,n,a),t.lineTo(i,o+u),t.quadraticCurveTo(i,o,i+u,o),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const n=xL[e.position].call(this,this._active,this._eventPosition);if(!n)return;const r=this._size=CL(this,e),i=Object.assign({},n,this._size),o=EL(t,e,i),l=PL(e,i,o,t);a._to===l.x&&s._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=r.width,this.height=r.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=kT(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,t),eI(e,t.textDirection),s.y+=r.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),tI(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,a=e.map(({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}),s=!ZD(n,a),r=this._positionChanged(a,t);(s||r)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],r=this._getActiveElements(e,s,t,n),i=this._positionChanged(r,e),o=t||!ZD(r,s)||i;return o&&(this._active=r,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,a){const s=this.options;if("mouseout"===e.type)return[];if(!a)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const r=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:n,caretY:a,options:s}=this,r=xL[s.position].call(this,e,t);return!1!==r&&(n!==r.x||a!==r.y)}}a(IL,"positioners",xL);var jL={id:"tooltip",_element:IL,positioners:xL,afterInit(e,t,n){n&&(e.tooltip=new IL({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ML},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function LL(e,t,n,a){const s=e.indexOf(t);if(-1===s)return((e,t,n,a)=>("string"==typeof t?(n=e.push(t)-1,a.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,a);return s!==e.lastIndexOf(t)?n:s}function FL(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class NL extends Aj{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:a}of t)e[n]===a&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(WD(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:AM(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:LL(n,e,XD(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=e;r<=t;r++)a.push({value:r});return a}getLabelForValue(e){return FL.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function RL(e,t){const n=[],{bounds:a,step:s,min:r,max:i,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=s||1,p=c-1,{min:f,max:m}=t,g=!WD(r),v=!WD(i),y=!WD(l),b=(m-f)/(u+1);let x,w,_,k,C=_M((m-f)/p/h)*h;if(C<1e-14&&!g&&!v)return[{value:f},{value:m}];k=Math.ceil(m/C)-Math.floor(f/C),k>p&&(C=_M(k*C/p/h)*h),WD(o)||(x=Math.pow(10,o),C=Math.ceil(C*x)/x),"ticks"===a?(w=Math.floor(f/C)*C,_=Math.ceil(m/C)*C):(w=f,_=m),g&&v&&s&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((i-r)/s,C/1e3)?(k=Math.round(Math.min((i-r)/C,c)),C=(i-r)/k,w=r,_=i):y?(w=g?r:w,_=v?i:_,k=l-1,C=(_-w)/k):(k=(_-w)/C,k=wM(k,Math.round(k),C/1e3)?Math.round(k):Math.ceil(k));const S=Math.max(SM(C),SM(w));x=Math.pow(10,WD(o)?S:o),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let E=0;for(g&&(d&&w!==r?(n.push({value:r}),w<r&&E++,wM(Math.round((w+E*C)*x)/x,r,BL(r,b,e))&&E++):w<r&&E++);E<k;++E){const e=Math.round((w+E*C)*x)/x;if(v&&e>i)break;n.push({value:e})}return v&&d&&_!==i?n.length&&wM(n[n.length-1].value,i,BL(i,b,e))?n[n.length-1].value=i:n.push({value:i}):v&&_!==i||n.push({value:_}),n}function BL(e,t,{horizontal:n,minRotation:a}){const s=CM(a),r=(n?Math.sin(s):Math.cos(s))||.001,i=.75*t*(""+e).length;return Math.min(t/r,i)}a(NL,"id","category"),a(NL,"defaults",{ticks:{callback:FL}});class VL extends Aj{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return WD(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const r=e=>a=t?a:e,i=e=>s=n?s:e;if(e){const e=xM(a),t=xM(s);e<0&&t<0?i(0):e>0&&t>0&&r(0)}if(a===s){let t=0===s?1:Math.abs(.05*s);i(s+t),e||r(a-t)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:a}=e;return a?(t=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(a," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a=RL({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&function(e,t,n){let a,s,r;for(a=0,s=e.length;a<s;a++)r=e[a][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-t)/Math.max(e.length-1,1)/2;t-=a,n+=a}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return XM(e,this.chart.options.locale,this.options.ticks.format)}}class zL extends VL{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=YD(e)?e:0,this.max=YD(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=CM(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}a(zL,"id","linear"),a(zL,"defaults",{ticks:{callback:QM.formatters.numeric}});const UL={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qL=Object.keys(UL);function HL(e,t){return e-t}function WL(e,t){if(WD(t))return null;const n=e._adapter,{parser:a,round:s,isoWeekday:r}=e._parseOpts;let i=t;return"function"==typeof a&&(i=a(i)),YD(i)||(i="string"==typeof a?n.parse(i,a):n.parse(i)),null===i?null:(s&&(i="week"!==s||!kM(r)&&!0!==r?n.startOf(i,s):n.startOf(i,"isoWeek",r)),+i)}function $L(e,t,n,a){const s=qL.length;for(let r=qL.indexOf(e);r<s-1;++r){const e=UL[qL[r]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(s*e.size))<=a)return qL[r]}return qL[s-1]}function KL(e,t,n){if(n){if(n.length){const{lo:a,hi:s}=DM(n,t);e[n[a]>=t?n[a]:n[s]]=!0}}else e[t]=!0}function YL(e,t,n){const a=[],s={},r=t.length;let i,o;for(i=0;i<r;++i)o=t[i],s[o]=i,a.push({value:o,major:!1});return 0!==r&&n?function(e,t,n,a){const s=e._adapter,r=+s.startOf(t[0].value,a),i=t[t.length-1].value;let o,l;for(o=r;o<=i;o=+s.add(o,1,a))l=n[o],l>=0&&(t[l].major=!0);return t}(e,a,s,n):a}class GL extends Aj{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),a=this._adapter=new II(e.adapters.date);a.init(t),sM(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:WL(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:r,maxDefined:i}=this.getUserBounds();function o(e){r||isNaN(e.min)||(a=Math.min(a,e.min)),i||isNaN(e.max)||(s=Math.max(s,e.max))}r&&i||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),a=YD(a)&&!isNaN(a)?a:+t.startOf(Date.now(),n),s=YD(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,a="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,r=function(e,t,n){let a=0,s=e.length;for(;a<s&&e[a]<t;)a++;for(;s>a&&e[s-1]>n;)s--;return a>0||s<e.length?e.slice(a,s):e}(a,s,this.max);return this._unit=t.unit||(n.autoSkip?$L(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,n,a,s){for(let r=qL.length-1;r>=qL.indexOf(n);r--){const n=qL[r];if(UL[n].common&&e._adapter.diff(s,a,n)>=t-1)return n}return qL[n?qL.indexOf(n):0]}(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=qL.indexOf(e)+1,n=qL.length;t<n;++t)if(UL[qL[t]].common)return qL[t]}(this._unit):void 0,this.initOffsets(a),e.reverse&&r.reverse(),YL(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t,n,a=0,s=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),a=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),s=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;a=AM(a,0,r),s=AM(s,0,r),this._offsets={start:a,end:s,factor:1/(a+1+s)}}_generate(){const e=this._adapter,t=this.min,n=this.max,a=this.options,s=a.time,r=s.unit||$L(s.minUnit,t,n,this._getLabelCapacity(t)),i=XD(a.ticks.stepSize,1),o="week"===r&&s.isoWeekday,l=kM(o)||!0===o,c={};let u,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":r),e.diff(n,t,r)>1e5*i)throw new Error(t+" and "+n+" are too far apart with stepSize of "+i+" "+r);const p="data"===a.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,i,r),d++)KL(c,u,p);return u!==n&&"ticks"!==a.bounds&&1!==d||KL(c,u,p),Object.keys(c).sort(HL).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,a=this._unit,s=t||n[a];return this._adapter.format(e,s)}_tickFormatFunction(e,t,n,a){const s=this.options,r=s.ticks.callback;if(r)return QD(r,[e,t,n],this);const i=s.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&i[o],u=l&&i[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,a||(h?u:c))}generateTickLabels(e){let t,n,a;for(t=0,n=e.length;t<n;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,a=CM(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(a),r=Math.sin(a),i=this._resolveTickFontOptions(0).size;return{w:n*s+i*r,h:n*r+i*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,a=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,YL(this,[e],this._majorUnit),a),r=this._getLabelSize(s),i=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,t=a.length;e<t;++e)n=n.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const a=this.getLabels();for(t=0,n=a.length;t<n;++t)e.push(WL(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return LM(e.sort(HL))}}function XL(e,t,n){let a,s,r,i,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=MM(e,"pos",t)),({pos:a,time:r}=e[o]),({pos:s,time:i}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=MM(e,"time",t)),({time:a,pos:r}=e[o]),({time:s,pos:i}=e[l]));const c=s-a;return c?r+(i-r)*(t-a)/c:r}a(GL,"id","time"),a(GL,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class QL extends GL{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=XL(t,this.min),this._tableRange=XL(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,a=[],s=[];let r,i,o,l,c;for(r=0,i=e.length;r<i;++r)l=e[r],l>=t&&l<=n&&a.push(l);if(a.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(r=0,i=a.length;r<i;++r)c=a[r+1],o=a[r-1],l=a[r],Math.round((c+o)/2)!==l&&s.push({time:l,pos:r/(i-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(XL(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return XL(this._table,n*this._tableRange+this._minPos,!0)}}a(QL,"id","timeseries"),a(QL,"defaults",GL.defaults);const JL={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},ZL={ariaLabel:{type:String},ariaDescribedby:{type:String}},eF={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...JL,...ZL},tF="2"===sr[0]?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function nF(e){return _t(e)?kt(e):e}function aF(e,t){e.labels=t}function sF(e,t,n){const a=[];e.datasets=t.map(t=>{const s=e.datasets.find(e=>e[n]===t[n]);return s&&t.data&&!a.includes(s)?(a.push(s),Object.assign(s,t),s):{...t}})}const rF=An({props:eF,setup(e,t){let{expose:n,slots:a}=t;const s=At(null),r=Ot(null);n({chart:r});return Un(()=>{if(!s.value)return;const{type:t,data:n,options:a,plugins:i,datasetIdKey:o}=e,l=function(e,t){const n={labels:[],datasets:[]};return aF(n,e.labels),sF(n,e.datasets,t),n}(n,o),c=function(e){return _t(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e)?new Proxy(e,{}):e}(l,n);r.value=new rL(s.value,{type:t,data:c,options:{...a},plugins:i})}),$n(()=>{const t=kt(r.value);t&&(e.destroyDelay>0?setTimeout(()=>{t.destroy(),r.value=null},e.destroyDelay):(t.destroy(),r.value=null))}),Za([()=>e.options,()=>e.data],(t,n)=>{let[a,s]=t,[i,o]=n;const l=kt(r.value);if(!l)return;let c=!1;if(a){const e=nF(a),t=nF(i);e&&e!==t&&(!function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(l,e),c=!0)}if(s){const t=nF(s.labels),n=nF(o.labels),a=nF(s.datasets),r=nF(o.datasets);t!==n&&(aF(l.config.data,t),c=!0),a&&a!==r&&(sF(l.config.data,a,e.datasetIdKey),c=!0)}c&&Zt(()=>{(t=>{t.update(e.updateMode)})(l)})},{deep:!0}),()=>ar("canvas",{role:"img","aria-label":e.ariaLabel,"aria-describedby":e.ariaDescribedby,ref:s},[ar("p",{},[a.default?a.default():""])])}});function iF(e,t){return rL.register(t),An({props:JL,setup(t,n){let{expose:a}=n;const s=Ot(null),r=e=>{s.value=null==e?void 0:e.chart};return a({chart:s}),()=>ar(rF,tF({ref:r},{type:e,...t}))}})}const oF=iF("bar",DI);var lF=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],cF={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},uF={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},dF=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},hF=function(e){return!0===e?1:0};function pF(e,t){var n;return function(){var a=this,s=arguments;clearTimeout(n),n=setTimeout(function(){return e.apply(a,s)},t)}}var fF=function(e){return e instanceof Array?e:[e]};function mF(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function gF(e,t,n){var a=window.document.createElement(e);return t=t||"",n=n||"",a.className=t,void 0!==n&&(a.textContent=n),a}function vF(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function yF(e,t){return t(e)?e:e.parentNode?yF(e.parentNode,t):void 0}function bF(e,t){var n=gF("div","numInputWrapper"),a=gF("input","numInput "+e),s=gF("span","arrowUp"),r=gF("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?a.type="number":(a.type="text",a.pattern="\\d*"),void 0!==t)for(var i in t)a.setAttribute(i,t[i]);return n.appendChild(a),n.appendChild(s),n.appendChild(r),n}function xF(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var wF=function(){},_F=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},kF={D:wF,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*hF(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var a=parseInt(t),s=new Date(e.getFullYear(),0,2+7*(a-1),0,0,0,0);return s.setDate(s.getDate()-s.getDay()+n.firstDayOfWeek),s},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:wF,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:wF,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},CF={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},SF={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[SF.w(e,t,n)]},F:function(e,t,n){return _F(SF.n(e,t,n)-1,!1,t)},G:function(e,t,n){return dF(SF.h(e,t,n))},H:function(e){return dF(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[hF(e.getHours()>11)]},M:function(e,t){return _F(e.getMonth(),!0,t)},S:function(e){return dF(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return dF(e.getFullYear(),4)},d:function(e){return dF(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return dF(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return dF(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},EF=function(e){var t=e.config,n=void 0===t?cF:t,a=e.l10n,s=void 0===a?uF:a,r=e.isMobile,i=void 0!==r&&r;return function(e,t,a){var r=a||s;return void 0===n.formatDate||i?t.split("").map(function(t,a,s){return SF[t]&&"\\"!==s[a-1]?SF[t](e,r,n):"\\"!==t?t:""}).join(""):n.formatDate(e,t,r)}},PF=function(e){var t=e.config,n=void 0===t?cF:t,a=e.l10n,s=void 0===a?uF:a;return function(e,t,a,r){if(0===e||e){var i,o=r||s,l=e;if(e instanceof Date)i=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)i=new Date(e);else if("string"==typeof e){var c=t||(n||cF).dateFormat,u=String(e).trim();if("today"===u)i=new Date,a=!0;else if(n&&n.parseDate)i=n.parseDate(e,c);else if(/Z$/.test(u)||/GMT$/.test(u))i=new Date(e);else{for(var d=void 0,h=[],p=0,f=0,m="";p<c.length;p++){var g=c[p],v="\\"===g,y="\\"===c[p-1]||v;if(CF[g]&&!y){m+=CF[g];var b=new RegExp(m).exec(e);b&&(d=!0)&&h["Y"!==g?"push":"unshift"]({fn:kF[g],val:b[++f]})}else v||(m+=".")}i=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),h.forEach(function(e){var t=e.fn,n=e.val;return i=t(i,n,o)||i}),i=d?i:void 0}}if(i instanceof Date&&!isNaN(i.getTime()))return!0===a&&i.setHours(0,0,0,0),i;n.errorHandler(new Error("Invalid date provided: "+l))}}};function AF(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var OF=function(e,t,n){return 3600*e+60*t+n},DF=864e5;function MF(e){var t=e.defaultHour,n=e.defaultMinute,a=e.defaultSeconds;if(void 0!==e.minDate){var s=e.minDate.getHours(),r=e.minDate.getMinutes(),i=e.minDate.getSeconds();t<s&&(t=s),t===s&&n<r&&(n=r),t===s&&n===r&&a<i&&(a=e.minDate.getSeconds())}if(void 0!==e.maxDate){var o=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,o))===o&&(n=Math.min(l,n)),t===o&&n===l&&(a=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:a}}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var a=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},s=0,r=t;s<r.length;s++){a(r[s])}return e});var TF=function(){return TF=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},TF.apply(this,arguments)},IF=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),s=0;for(t=0;t<n;t++)for(var r=arguments[t],i=0,o=r.length;i<o;i++,s++)a[s]=r[i];return a};function jF(e,t){var n={config:TF(TF({},cF),FF.defaultConfig),l10n:uF};function a(){var e;return(null===(e=n.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function s(e){return e.bind(n)}function r(){var e=n.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){var t=(n.days.offsetWidth+1)*e.showMonths;n.daysContainer.style.width=t+"px",n.calendarContainer.style.width=t+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}})}function i(e){if(0===n.selectedDates.length){var t=void 0===n.config.minDate||AF(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),a=MF(n.config);t.setHours(a.hours,a.minutes,a.seconds,t.getMilliseconds()),n.selectedDates=[t],n.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,a=xF(e),s=a;void 0!==n.amPM&&a===n.amPM&&(n.amPM.textContent=n.l10n.amPM[hF(n.amPM.textContent===n.l10n.amPM[0])]);var r=parseFloat(s.getAttribute("min")),i=parseFloat(s.getAttribute("max")),o=parseFloat(s.getAttribute("step")),l=parseInt(s.value,10),c=e.delta||(t?38===e.which?1:-1:0),u=l+o*c;if(void 0!==s.value&&2===s.value.length){var d=s===n.hourElement,h=s===n.minuteElement;u<r?(u=i+u+hF(!d)+(hF(d)&&hF(!n.amPM)),h&&m(void 0,-1,n.hourElement)):u>i&&(u=s===n.hourElement?u-i-hF(!n.amPM):r,h&&m(void 0,1,n.hourElement)),n.amPM&&d&&(1===o?u+l===23:Math.abs(u-l)>o)&&(n.amPM.textContent=n.l10n.amPM[hF(n.amPM.textContent===n.l10n.amPM[0])]),s.value=dF(u)}}(e);var s=n._input.value;o(),Z(),n._input.value!==s&&n._debouncedChange()}function o(){if(void 0!==n.hourElement&&void 0!==n.minuteElement){var e,t,a=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,s=(parseInt(n.minuteElement.value,10)||0)%60,r=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(e=a,t=n.amPM.textContent,a=e%12+12*hF(t===n.l10n.amPM[1]));var i=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===AF(n.latestSelectedDateObj,n.config.minDate,!0),o=void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===AF(n.latestSelectedDateObj,n.config.maxDate,!0);if(void 0!==n.config.maxTime&&void 0!==n.config.minTime&&n.config.minTime>n.config.maxTime){var l=OF(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),u=OF(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),d=OF(a,s,r);if(d>u&&d<l){var h=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(l);a=h[0],s=h[1],r=h[2]}}else{if(o){var p=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;(a=Math.min(a,p.getHours()))===p.getHours()&&(s=Math.min(s,p.getMinutes())),s===p.getMinutes()&&(r=Math.min(r,p.getSeconds()))}if(i){var f=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;(a=Math.max(a,f.getHours()))===f.getHours()&&s<f.getMinutes()&&(s=f.getMinutes()),s===f.getMinutes()&&(r=Math.max(r,f.getSeconds()))}}c(a,s,r)}}function l(e){var t=e||n.latestSelectedDateObj;t&&t instanceof Date&&c(t.getHours(),t.getMinutes(),t.getSeconds())}function c(e,t,a){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(e%24,t,a||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=dF(n.config.time_24hr?e:(12+e)%12+12*hF(e%12==0)),n.minuteElement.value=dF(t),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[hF(e>=12)]),void 0!==n.secondElement&&(n.secondElement.value=dF(a)))}function u(e){var t=xF(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&D(n)}function d(e,t,a,s){return t instanceof Array?t.forEach(function(t){return d(e,t,a,s)}):e instanceof Array?e.forEach(function(e){return d(e,t,a,s)}):(e.addEventListener(t,a,s),void n._handlers.push({remove:function(){return e.removeEventListener(t,a,s)}}))}function h(){Y("onChange")}function p(e,t){var a=void 0!==e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),s=n.currentYear,r=n.currentMonth;try{void 0!==a&&(n.currentYear=a.getFullYear(),n.currentMonth=a.getMonth())}catch(uV){uV.message="Invalid date supplied: "+a,n.config.errorHandler(uV)}t&&n.currentYear!==s&&(Y("onYearChange"),_()),!t||n.currentYear===s&&n.currentMonth===r||Y("onMonthChange"),n.redraw()}function f(e){var t=xF(e);~t.className.indexOf("arrow")&&m(e,t.classList.contains("arrowUp")?1:-1)}function m(e,t,n){var a=e&&xF(e),s=n||a&&a.parentNode&&a.parentNode.firstChild,r=G("increment");r.delta=t,s&&s.dispatchEvent(r)}function g(e,t,a,s){var r=M(t,!0),i=gF("span",e,t.getDate().toString());return i.dateObj=t,i.$i=s,i.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===AF(t,n.now)&&(n.todayDateElem=i,i.classList.add("today"),i.setAttribute("aria-current","date")),r?(i.tabIndex=-1,X(t)&&(i.classList.add("selected"),n.selectedDateElem=i,"range"===n.config.mode&&(mF(i,"startRange",n.selectedDates[0]&&0===AF(t,n.selectedDates[0],!0)),mF(i,"endRange",n.selectedDates[1]&&0===AF(t,n.selectedDates[1],!0)),"nextMonthDay"===e&&i.classList.add("inRange")))):i.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&(AF(e,n.selectedDates[0])>=0&&AF(e,n.selectedDates[1])<=0)}(t)&&!X(t)&&i.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==e&&s%7==6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(t)+"</span>"),Y("onDayCreate",i),i}function v(e){e.focus(),"range"===n.config.mode&&L(e)}function y(e){for(var t=e>0?0:n.config.showMonths-1,a=e>0?n.config.showMonths:-1,s=t;s!=a;s+=e)for(var r=n.daysContainer.children[s],i=e>0?0:r.children.length-1,o=e>0?r.children.length:-1,l=i;l!=o;l+=e){var c=r.children[l];if(-1===c.className.indexOf("hidden")&&M(c.dateObj))return c}}function b(e,t){var s=a(),r=T(s||document.body),i=void 0!==e?e:r?s:void 0!==n.selectedDateElem&&T(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&T(n.todayDateElem)?n.todayDateElem:y(t>0?1:-1);void 0===i?n._input.focus():r?function(e,t){for(var a=-1===e.className.indexOf("Month")?e.dateObj.getMonth():n.currentMonth,s=t>0?n.config.showMonths:-1,r=t>0?1:-1,i=a-n.currentMonth;i!=s;i+=r)for(var o=n.daysContainer.children[i],l=a-n.currentMonth===i?e.$i+t:t<0?o.children.length-1:0,c=o.children.length,u=l;u>=0&&u<c&&u!=(t>0?c:-1);u+=r){var d=o.children[u];if(-1===d.className.indexOf("hidden")&&M(d.dateObj)&&Math.abs(e.$i-u)>=Math.abs(t))return v(d)}n.changeMonth(r),b(y(r),0)}(i,t):v(i)}function x(e,t){for(var a=(new Date(e,t,1).getDay()-n.l10n.firstDayOfWeek+7)%7,s=n.utils.getDaysInMonth((t-1+12)%12,e),r=n.utils.getDaysInMonth(t,e),i=window.document.createDocumentFragment(),o=n.config.showMonths>1,l=o?"prevMonthDay hidden":"prevMonthDay",c=o?"nextMonthDay hidden":"nextMonthDay",u=s+1-a,d=0;u<=s;u++,d++)i.appendChild(g("flatpickr-day "+l,new Date(e,t-1,u),0,d));for(u=1;u<=r;u++,d++)i.appendChild(g("flatpickr-day",new Date(e,t,u),0,d));for(var h=r+1;h<=42-a&&(1===n.config.showMonths||d%7!=0);h++,d++)i.appendChild(g("flatpickr-day "+c,new Date(e,t+1,h%r),0,d));var p=gF("div","dayContainer");return p.appendChild(i),p}function w(){if(void 0!==n.daysContainer){vF(n.daysContainer),n.weekNumbers&&vF(n.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<n.config.showMonths;t++){var a=new Date(n.currentYear,n.currentMonth,1);a.setMonth(n.currentMonth+t),e.appendChild(x(a.getFullYear(),a.getMonth()))}n.daysContainer.appendChild(e),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&L()}}function _(){if(!(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)){var e=function(e){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&e<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var a=gF("option","flatpickr-monthDropdown-month");a.value=new Date(n.currentYear,t).getMonth().toString(),a.textContent=_F(t,n.config.shorthandCurrentMonth,n.l10n),a.tabIndex=-1,n.currentMonth===t&&(a.selected=!0),n.monthsDropdownContainer.appendChild(a)}}}function k(){var e,t=gF("div","flatpickr-month"),a=window.document.createDocumentFragment();n.config.showMonths>1||"static"===n.config.monthSelectorType?e=gF("span","cur-month"):(n.monthsDropdownContainer=gF("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),d(n.monthsDropdownContainer,"change",function(e){var t=xF(e),a=parseInt(t.value,10);n.changeMonth(a-n.currentMonth),Y("onMonthChange")}),_(),e=n.monthsDropdownContainer);var s=bF("cur-year",{tabindex:"-1"}),r=s.getElementsByTagName("input")[0];r.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&r.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(r.setAttribute("max",n.config.maxDate.getFullYear().toString()),r.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var i=gF("div","flatpickr-current-month");return i.appendChild(e),i.appendChild(s),a.appendChild(i),t.appendChild(a),{container:t,yearElement:r,monthElement:e}}function C(){vF(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var e=n.config.showMonths;e--;){var t=k();n.yearElements.push(t.yearElement),n.monthElements.push(t.monthElement),n.monthNav.appendChild(t.container)}n.monthNav.appendChild(n.nextMonthNav)}function S(){n.weekdayContainer?vF(n.weekdayContainer):n.weekdayContainer=gF("div","flatpickr-weekdays");for(var e=n.config.showMonths;e--;){var t=gF("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(t)}return E(),n.weekdayContainer}function E(){if(n.weekdayContainer){var e=n.l10n.firstDayOfWeek,t=IF(n.l10n.weekdays.shorthand);e>0&&e<t.length&&(t=IF(t.splice(e,t.length),t.splice(0,e)));for(var a=n.config.showMonths;a--;)n.weekdayContainer.children[a].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function P(e,t){void 0===t&&(t=!0);var a=t?e:e-n.currentMonth;a<0&&!0===n._hidePrevMonthArrow||a>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=a,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,Y("onYearChange"),_()),w(),Y("onMonthChange"),Q())}function A(e){return n.calendarContainer.contains(e)}function O(e){if(n.isOpen&&!n.config.inline){var t=xF(e),a=A(t),s=!(t===n.input||t===n.altInput||n.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput)))&&!a&&!A(e.relatedTarget),r=!n.config.ignoredFocusElements.some(function(e){return e.contains(t)});s&&r&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&i(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&n.clear(!1))}}function D(e){if(!(!e||n.config.minDate&&e<n.config.minDate.getFullYear()||n.config.maxDate&&e>n.config.maxDate.getFullYear())){var t=e,a=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),a&&(n.redraw(),Y("onYearChange"),_())}}function M(e,t){var a;void 0===t&&(t=!0);var s=n.parseDate(e,void 0,t);if(n.config.minDate&&s&&AF(s,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&s&&AF(s,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===s)return!1;for(var r=!!n.config.enable,i=null!==(a=n.config.enable)&&void 0!==a?a:n.config.disable,o=0,l=void 0;o<i.length;o++){if("function"==typeof(l=i[o])&&l(s))return r;if(l instanceof Date&&void 0!==s&&l.getTime()===s.getTime())return r;if("string"==typeof l){var c=n.parseDate(l,void 0,!0);return c&&c.getTime()===s.getTime()?r:!r}if("object"==typeof l&&void 0!==s&&l.from&&l.to&&s.getTime()>=l.from.getTime()&&s.getTime()<=l.to.getTime())return r}return!r}function T(e){return void 0!==n.daysContainer&&(-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(e))}function I(e){var t=e.target===n._input,a=n._input.value.trimEnd()!==J();!t||!a||e.relatedTarget&&A(e.relatedTarget)||n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function j(t){var s=xF(t),r=n.config.wrap?e.contains(s):s===n._input,l=n.config.allowInput,c=n.isOpen&&(!l||!r),u=n.config.inline&&r&&!l;if(13===t.keyCode&&r){if(l)return n.setDate(n._input.value,!0,s===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),s.blur();n.open()}else if(A(s)||c||u){var d=!!n.timeContainer&&n.timeContainer.contains(s);switch(t.keyCode){case 13:d?(t.preventDefault(),i(),U()):q(t);break;case 27:t.preventDefault(),U();break;case 8:case 46:r&&!n.config.allowInput&&(t.preventDefault(),n.clear());break;case 37:case 39:if(d||r)n.hourElement&&n.hourElement.focus();else{t.preventDefault();var h=a();if(void 0!==n.daysContainer&&(!1===l||h&&T(h))){var p=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),P(p),b(y(1),0)):b(void 0,p)}}break;case 38:case 40:t.preventDefault();var f=40===t.keyCode?1:-1;n.daysContainer&&void 0!==s.$i||s===n.input||s===n.altInput?t.ctrlKey?(t.stopPropagation(),D(n.currentYear-f),b(y(1),0)):d||b(void 0,7*f):s===n.currentYearElement?D(n.currentYear-f):n.config.enableTime&&(!d&&n.hourElement&&n.hourElement.focus(),i(t),n._debouncedChange());break;case 9:if(d){var m=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter(function(e){return e}),g=m.indexOf(s);if(-1!==g){var v=m[g+(t.shiftKey?-1:1)];t.preventDefault(),(v||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(s)&&t.shiftKey&&(t.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&s===n.amPM)switch(t.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],o(),Z();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],o(),Z()}(r||A(s))&&Y("onKeyDown",t)}function L(e,t){if(void 0===t&&(t="flatpickr-day"),1===n.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var a=e?e.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),s=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),r=Math.min(a,n.selectedDates[0].getTime()),i=Math.max(a,n.selectedDates[0].getTime()),o=!1,l=0,c=0,u=r;u<i;u+=DF)M(new Date(u),!0)||(o=o||u>r&&u<i,u<s&&(!l||u>l)?l=u:u>s&&(!c||u<c)&&(c=u));Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+t)).forEach(function(t){var r,i,u,d=t.dateObj.getTime(),h=l>0&&d<l||c>0&&d>c;if(h)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach(function(e){t.classList.remove(e)});o&&!h||(["startRange","inRange","endRange","notAllowed"].forEach(function(e){t.classList.remove(e)}),void 0!==e&&(e.classList.add(a<=n.selectedDates[0].getTime()?"startRange":"endRange"),s<a&&d===s?t.classList.add("startRange"):s>a&&d===s&&t.classList.add("endRange"),d>=l&&(0===c||d<=c)&&(i=s,u=a,(r=d)>Math.min(i,u)&&r<Math.max(i,u))&&t.classList.add("inRange")))})}}function F(){!n.isOpen||n.config.static||n.config.inline||V()}function N(e){return function(t){var a=n.config["_"+e+"Date"]=n.parseDate(t,n.config.dateFormat),s=n.config["_"+("min"===e?"max":"min")+"Date"];void 0!==a&&(n["min"===e?"minDateHasTime":"maxDateHasTime"]=a.getHours()>0||a.getMinutes()>0||a.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter(function(e){return M(e)}),n.selectedDates.length||"min"!==e||l(a),Z()),n.daysContainer&&(z(),void 0!==a?n.currentYearElement[e]=a.getFullYear().toString():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=!!s&&void 0!==a&&s.getFullYear()===a.getFullYear())}}function R(){return n.config.wrap?e.querySelector("[data-input]"):e}function B(){"object"!=typeof n.config.locale&&void 0===FF.l10ns[n.config.locale]&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=TF(TF({},FF.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?FF.l10ns[n.config.locale]:void 0),CF.D="("+n.l10n.weekdays.shorthand.join("|")+")",CF.l="("+n.l10n.weekdays.longhand.join("|")+")",CF.M="("+n.l10n.months.shorthand.join("|")+")",CF.F="("+n.l10n.months.longhand.join("|")+")",CF.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")",void 0===TF(TF({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===FF.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=EF(n),n.parseDate=PF({config:n.config,l10n:n.l10n})}function V(e){if("function"!=typeof n.config.position){if(void 0!==n.calendarContainer){Y("onPreCalendarPosition");var t=e||n._positionElement,a=Array.prototype.reduce.call(n.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),s=n.calendarContainer.offsetWidth,r=n.config.position.split(" "),i=r[0],o=r.length>1?r[1]:null,l=t.getBoundingClientRect(),c=window.innerHeight-l.bottom,u="above"===i||"below"!==i&&c<a&&l.top>a,d=window.pageYOffset+l.top+(u?-a-2:t.offsetHeight+2);if(mF(n.calendarContainer,"arrowTop",!u),mF(n.calendarContainer,"arrowBottom",u),!n.config.inline){var h=window.pageXOffset+l.left,p=!1,f=!1;"center"===o?(h-=(s-l.width)/2,p=!0):"right"===o&&(h-=s-l.width,f=!0),mF(n.calendarContainer,"arrowLeft",!p&&!f),mF(n.calendarContainer,"arrowCenter",p),mF(n.calendarContainer,"arrowRight",f);var m=window.document.body.offsetWidth-(window.pageXOffset+l.right),g=h+s>window.document.body.offsetWidth,v=m+s>window.document.body.offsetWidth;if(mF(n.calendarContainer,"rightMost",g),!n.config.static)if(n.calendarContainer.style.top=d+"px",g)if(v){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(s){continue}e=n;break}}return null!=e?e:(a=document.createElement("style"),document.head.appendChild(a),a.sheet);var a}();if(void 0===y)return;var b=window.document.body.offsetWidth,x=Math.max(0,b/2-s/2),w=y.cssRules.length,_="{left:"+l.left+"px;right:auto;}";mF(n.calendarContainer,"rightMost",!1),mF(n.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+_,w),n.calendarContainer.style.left=x+"px",n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=m+"px";else n.calendarContainer.style.left=h+"px",n.calendarContainer.style.right="auto"}}}else n.config.position(n,e)}function z(){n.config.noCalendar||n.isMobile||(_(),Q(),w())}function U(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function q(e){e.preventDefault(),e.stopPropagation();var t=yF(xF(e),function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")});if(void 0!==t){var a=t,s=n.latestSelectedDateObj=new Date(a.dateObj.getTime()),r=(s.getMonth()<n.currentMonth||s.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=a,"single"===n.config.mode)n.selectedDates=[s];else if("multiple"===n.config.mode){var i=X(s);i?n.selectedDates.splice(parseInt(i),1):n.selectedDates.push(s)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=s,n.selectedDates.push(s),0!==AF(s,n.selectedDates[0],!0)&&n.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(o(),r){var l=n.currentYear!==s.getFullYear();n.currentYear=s.getFullYear(),n.currentMonth=s.getMonth(),l&&(Y("onYearChange"),_()),Y("onMonthChange")}if(Q(),w(),Z(),r||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():v(a),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){var c="single"===n.config.mode&&!n.config.enableTime,u="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(c||u)&&U()}h()}}n.parseDate=PF({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=d,n._setHoursFromDate=l,n._positionCalendar=V,n.changeMonth=P,n.changeYear=D,n.clear=function(e,t){void 0===e&&(e=!0);void 0===t&&(t=!0);n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===t&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){var a=MF(n.config);c(a.hours,a.minutes,a.seconds)}n.redraw(),e&&Y("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));Y("onClose")},n.onMouseOver=L,n._createElement=gF,n.createDay=g,n.destroy=function(){void 0!==n.config&&Y("onDestroy");for(var e=n._handlers.length;e--;)n._handlers[e].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var t=n.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete n[e]}catch(t){}})},n.isEnabled=M,n.jumpToDate=p,n.updateValue=Z,n.open=function(e,t){void 0===t&&(t=n._positionElement);if(!0===n.isMobile){if(e){e.preventDefault();var a=xF(e);a&&a.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void Y("onOpen")}if(n._input.disabled||n.config.inline)return;var s=n.isOpen;n.isOpen=!0,s||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),Y("onOpen"),V(t));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==e&&n.timeContainer.contains(e.relatedTarget)||setTimeout(function(){return n.hourElement.select()},50))},n.redraw=z,n.set=function(e,t){if(null!==e&&"object"==typeof e)for(var a in Object.assign(n.config,e),e)void 0!==H[a]&&H[a].forEach(function(e){return e()});else n.config[e]=t,void 0!==H[e]?H[e].forEach(function(e){return e()}):lF.indexOf(e)>-1&&(n.config[e]=fF(t));n.redraw(),Z(!0)},n.setDate=function(e,t,a){void 0===t&&(t=!1);void 0===a&&(a=n.config.dateFormat);if(0!==e&&!e||e instanceof Array&&0===e.length)return n.clear(t);W(e,a),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),p(void 0,t),l(),0===n.selectedDates.length&&n.clear(!1);Z(t),t&&Y("onChange")},n.toggle=function(e){if(!0===n.isOpen)return n.close();n.open(e)};var H={locale:[B,E],showMonths:[C,r,S],minDate:[p],maxDate:[p],positionElement:[K],clickOpens:[function(){!0===n.config.clickOpens?(d(n._input,"focus",n.open),d(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function W(e,t){var a=[];if(e instanceof Array)a=e.map(function(e){return n.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)a=[n.parseDate(e,t)];else if("string"==typeof e)switch(n.config.mode){case"single":case"time":a=[n.parseDate(e,t)];break;case"multiple":a=e.split(n.config.conjunction).map(function(e){return n.parseDate(e,t)});break;case"range":a=e.split(n.l10n.rangeSeparator).map(function(e){return n.parseDate(e,t)})}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));n.selectedDates=n.config.allowInvalidPreload?a:a.filter(function(e){return e instanceof Date&&M(e,!1)}),"range"===n.config.mode&&n.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function $(e){return e.slice().map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?n.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:n.parseDate(e.from,void 0),to:n.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function K(){n._positionElement=n.config.positionElement||n._input}function Y(e,t){if(void 0!==n.config){var a=n.config[e];if(void 0!==a&&a.length>0)for(var s=0;a[s]&&s<a.length;s++)a[s](n.selectedDates,n.input.value,n,t);"onChange"===e&&(n.input.dispatchEvent(G("change")),n.input.dispatchEvent(G("input")))}}function G(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function X(e){for(var t=0;t<n.selectedDates.length;t++){var a=n.selectedDates[t];if(a instanceof Date&&0===AF(a,e))return""+t}return!1}function Q(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach(function(e,t){var a=new Date(n.currentYear,n.currentMonth,1);a.setMonth(n.currentMonth+t),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[t].textContent=_F(a.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=a.getMonth().toString(),e.value=a.getFullYear().toString()}),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function J(e){var t=e||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map(function(e){return n.formatDate(e,t)}).filter(function(e,t,a){return"range"!==n.config.mode||n.config.enableTime||a.indexOf(e)===t}).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function Z(e){void 0===e&&(e=!0),void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=J(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=J(n.config.altFormat)),!1!==e&&Y("onValueUpdate")}function ee(e){var t=xF(e),a=n.prevMonthNav.contains(t),s=n.nextMonthNav.contains(t);a||s?P(a?-1:1):n.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):t.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=e,n.isOpen=!1,function(){var a=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=TF(TF({},JSON.parse(JSON.stringify(e.dataset||{}))),t),i={};n.config.parseDate=r.parseDate,n.config.formatDate=r.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(e){n.config._enable=$(e)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(e){n.config._disable=$(e)}});var o="time"===r.mode;if(!r.dateFormat&&(r.enableTime||o)){var l=FF.defaultConfig.dateFormat||cF.dateFormat;i.dateFormat=r.noCalendar||o?"H:i"+(r.enableSeconds?":S":""):l+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||o)&&!r.altFormat){var c=FF.defaultConfig.altFormat||cF.altFormat;i.altFormat=r.noCalendar||o?"h:i"+(r.enableSeconds?":S K":" K"):c+" h:i"+(r.enableSeconds?":S":"")+" K"}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:N("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:N("max")});var u=function(e){return function(t){n.config["min"===e?"_minTime":"_maxTime"]=n.parseDate(t,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:u("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:u("max")}),"time"===r.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,i,r);for(var d=0;d<a.length;d++)n.config[a[d]]=!0===n.config[a[d]]||"true"===n.config[a[d]];lF.filter(function(e){return void 0!==n.config[e]}).forEach(function(e){n.config[e]=fF(n.config[e]||[]).map(s)}),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(d=0;d<n.config.plugins.length;d++){var h=n.config.plugins[d](n)||{};for(var p in h)lF.indexOf(p)>-1?n.config[p]=fF(h[p]).map(s).concat(n.config[p]):void 0===r[p]&&(n.config[p]=h[p])}r.altInputClass||(n.config.altInputClass=R().className+" "+n.config.altInputClass);Y("onParseConfig")}(),B(),function(){if(n.input=R(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=gF(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");K()}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var e=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);e&&W(e,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=n.currentMonth),void 0===t&&(t=n.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]}},n.isMobile||function(){var e=window.document.createDocumentFragment();if(n.calendarContainer=gF("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(e.appendChild((n.monthNav=gF("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=gF("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=gF("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,C(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(e){n.__hidePrevMonthArrow!==e&&(mF(n.prevMonthNav,"flatpickr-disabled",e),n.__hidePrevMonthArrow=e)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(e){n.__hideNextMonthArrow!==e&&(mF(n.nextMonthNav,"flatpickr-disabled",e),n.__hideNextMonthArrow=e)}}),n.currentYearElement=n.yearElements[0],Q(),n.monthNav)),n.innerContainer=gF("div","flatpickr-innerContainer"),n.config.weekNumbers){var t=function(){n.calendarContainer.classList.add("hasWeeks");var e=gF("div","flatpickr-weekwrapper");e.appendChild(gF("span","flatpickr-weekday",n.l10n.weekAbbreviation));var t=gF("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),a=t.weekWrapper,s=t.weekNumbers;n.innerContainer.appendChild(a),n.weekNumbers=s,n.weekWrapper=a}n.rContainer=gF("div","flatpickr-rContainer"),n.rContainer.appendChild(S()),n.daysContainer||(n.daysContainer=gF("div","flatpickr-days"),n.daysContainer.tabIndex=-1),w(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)}n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var e=MF(n.config);n.timeContainer=gF("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var t=gF("span","flatpickr-time-separator",":"),a=bF("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=a.getElementsByTagName("input")[0];var s=bF("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=s.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=dF(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),n.minuteElement.value=dF(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():e.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(a),n.timeContainer.appendChild(t),n.timeContainer.appendChild(s),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var r=bF("flatpickr-second");n.secondElement=r.getElementsByTagName("input")[0],n.secondElement.value=dF(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():e.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(gF("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(r)}n.config.time_24hr||(n.amPM=gF("span","flatpickr-am-pm",n.l10n.amPM[hF((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());mF(n.calendarContainer,"rangeMode","range"===n.config.mode),mF(n.calendarContainer,"animate",!0===n.config.animate),mF(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(e);var r=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!r&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var i=gF("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(i,n.element),i.appendChild(n.element),n.altInput&&i.appendChild(n.altInput),i.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+e+"]"),function(t){return d(t,"click",n[e])})});if(n.isMobile)return void function(){var e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=gF("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(t){}d(n.mobileInput,"change",function(e){n.setDate(xF(e).value,!1,n.mobileFormatStr),Y("onChange"),Y("onClose")})}();var e=pF(F,50);n._debouncedChange=pF(h,300),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&d(n.daysContainer,"mouseover",function(e){"range"===n.config.mode&&L(xF(e))});d(n._input,"keydown",j),void 0!==n.calendarContainer&&d(n.calendarContainer,"keydown",j);n.config.inline||n.config.static||d(window,"resize",e);void 0!==window.ontouchstart?d(window.document,"touchstart",O):d(window.document,"mousedown",O);d(window.document,"focus",O,{capture:!0}),!0===n.config.clickOpens&&(d(n._input,"focus",n.open),d(n._input,"click",n.open));void 0!==n.daysContainer&&(d(n.monthNav,"click",ee),d(n.monthNav,["keyup","increment"],u),d(n.daysContainer,"click",q));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){var t=function(e){return xF(e).select()};d(n.timeContainer,["increment"],i),d(n.timeContainer,"blur",i,{capture:!0}),d(n.timeContainer,"click",f),d([n.hourElement,n.minuteElement],["focus","click"],t),void 0!==n.secondElement&&d(n.secondElement,"focus",function(){return n.secondElement&&n.secondElement.select()}),void 0!==n.amPM&&d(n.amPM,"click",function(e){i(e)})}n.config.allowInput&&d(n._input,"blur",I)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&l(n.config.noCalendar?n.latestSelectedDateObj:void 0),Z(!1)),r();var a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&a&&V(),Y("onReady")}(),n}function LF(e,t){for(var n=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement}),a=[],s=0;s<n.length;s++){var r=n[s];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=jF(r,t||{}),a.push(r._flatpickr)}catch(uV){console.error(uV)}}return 1===a.length?a[0]:a}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return LF(this,e)},HTMLElement.prototype.flatpickr=function(e){return LF([this],e)});var FF=function(e,t){return"string"==typeof e?LF(window.document.querySelectorAll(e),t):e instanceof Node?LF([e],t):LF(e,t)};FF.defaultConfig={},FF.l10ns={en:TF({},uF),default:TF({},uF)},FF.localize=function(e){FF.l10ns.default=TF(TF({},FF.l10ns.default),e)},FF.setDefaults=function(e){FF.defaultConfig=TF(TF({},FF.defaultConfig),e)},FF.parseDate=PF({}),FF.formatDate=EF({}),FF.compareDates=AF,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return LF(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=FF);const NF=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"];function RF(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function BF(e){return e instanceof Array?e:[e]}function VF(e){return e&&e.length?e:null}const zF=[...NF,"onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"],UF=["locale","showMonths"],qF=An({name:"FlatPickr",compatConfig:{MODE:3},render(){return ar("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput})},emits:["blur","update:modelValue",...zF.map(RF)],props:{modelValue:{type:[String,Number,Date,Array,null],required:!0},config:{type:Object,default:()=>({defaultDate:null,wrap:!1})},events:{type:Array,default:()=>NF},disabled:{type:Boolean,default:!1}},data:()=>({fp:null}),mounted(){this.fp||(this.fp=FF(this.getElem(),this.prepareConfig()),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0}))},methods:{prepareConfig(){let e=Object.assign({},this.config);this.events.forEach(t=>{let n=FF.defaultConfig[t]||[];e[t]=BF(e[t]||[]).concat(n,(...e)=>{this.$emit(RF(t),...e)})});const t=this.onClose.bind(this);return e.onClose=BF(e.onClose||[]).concat(t),e.defaultDate=this.modelValue||e.defaultDate,e},getElem(){return this.config.wrap?this.$el.parentNode:this.$el},onInput(e){const t=e.target;Zt().then(()=>{this.$emit("update:modelValue",VF(t.value))})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(e){this.$emit("blur",VF(e.target.value))},onClose(e,t){this.$emit("update:modelValue",t)},watchDisabled(e){e?this.fpInput().setAttribute("disabled",""):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(e){if(!this.fp)return;let t=Object.assign({},e);zF.forEach(e=>{delete t[e]}),this.fp.set(t),UF.forEach(e=>{void 0!==t[e]&&this.fp.set(e,t[e])})}},modelValue(e){var t;this.$el&&e!==VF(this.$el.value)&&(null===(t=this.fp)||void 0===t||t.setDate(e,!0))}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}});var HF=Object.defineProperty,WF=Object.defineProperties,$F=Object.getOwnPropertyDescriptors,KF=Object.getOwnPropertySymbols,YF=Object.prototype.hasOwnProperty,GF=Object.prototype.propertyIsEnumerable,XF=(e,t,n)=>t in e?HF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QF=(e,t)=>{for(var n in t||(t={}))YF.call(t,n)&&XF(e,n,t[n]);if(KF)for(var n of KF(t))GF.call(t,n)&&XF(e,n,t[n]);return e},JF=(e,t)=>WF(e,$F(t));const ZF={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(e){this.autoscroll&&e&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var e;const t=(null==(e=this.$refs.dropdownMenu)?void 0:e.children[this.typeAheadPointer])||!1;if(t){const e=this.getDropdownViewport(),{top:n,bottom:a,height:s}=t.getBoundingClientRect();if(n<e.top)return this.$refs.dropdownMenu.scrollTop=t.offsetTop;if(a>e.bottom)return this.$refs.dropdownMenu.scrollTop=t.offsetTop-(e.height-s)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},eN={data:()=>({typeAheadPointer:-1}),watch:{filteredOptions(){for(let e=0;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},open(e){e&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let e=this.typeAheadPointer-1;e>=0;e--)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadDown(){for(let e=this.typeAheadPointer+1;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadSelect(){const e=this.filteredOptions[this.typeAheadPointer];e&&this.selectable(e)&&this.select(e)},typeAheadToLastSelected(){this.typeAheadPointer=0!==this.selectedValue.length?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},tN={props:{loading:{type:Boolean,default:!1}},data:()=>({mutableLoading:!1}),watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(e){this.mutableLoading=e}},methods:{toggleLoading(e=null){return this.mutableLoading=null==e?!this.mutableLoading:e}}},nN=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n},aN={},sN={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},rN=[Os("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1)];const iN=nN(aN,[["render",function(e,t){return bs(),ks("svg",sN,rN)}]]),oN={},lN={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},cN=[Os("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1)];const uN={Deselect:iN,OpenIndicator:nN(oN,[["render",function(e,t){return bs(),ks("svg",lN,cN)}]])},dN={mounted(e,{instance:t}){if(t.appendToBody){const{height:n,top:a,left:s,width:r}=t.$refs.toggle.getBoundingClientRect();let i=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset;e.unbindPosition=t.calculatePosition(e,t,{width:r+"px",left:i+s+"px",top:o+a+n+"px"}),document.body.appendChild(e)}},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&"function"==typeof e.unbindPosition&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}};let hN=0;const pN={components:QF({},uN),directives:{appendToBody:dN},mixins:[ZF,eN,tN],compatConfig:{MODE:3},emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:()=>({})},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:e=>e},selectable:{type:Function,default:e=>!0},getOptionLabel:{type:Function,default(e){return"object"==typeof e?e.hasOwnProperty(this.label)?e[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not exist in options object ').concat(JSON.stringify(e),".\nhttps://vue-select.org/api/props.html#getoptionlabel")):e}},getOptionKey:{type:Function,default(e){if("object"!=typeof e)return e;try{return e.hasOwnProperty("id")?e.id:function(e){const t={};return Object.keys(e).sort().forEach(n=>{t[n]=e[n]}),JSON.stringify(t)}(e)}catch(t){return console.warn("[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey",e,t)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:(e,t,n)=>(t||"").toLocaleLowerCase().indexOf(n.toLocaleLowerCase())>-1},filter:{type:Function,default(e,t){return e.filter(e=>{let n=this.getOptionLabel(e);return"number"==typeof n&&(n=n.toString()),this.filterBy(e,n,t)})}},createOption:{type:Function,default(e){return"object"==typeof this.optionList[0]?{[this.label]:e}:e}},resetOnOptionsChange:{default:!1,validator:e=>["function","boolean"].includes(typeof e)},clearSearchOnBlur:{type:Function,default:function({clearSearchOnSelect:e,multiple:t}){return e&&!t}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:()=>[13]},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:(e,t)=>e},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:n,top:a,left:s}){e.style.top=a,e.style.left=s,e.style.width=n}},dropdownShouldOpen:{type:Function,default:({noDrop:e,open:t,mutableLoading:n})=>!e&&(t&&!n)},uid:{type:[String,Number],default:()=>++hN}},data:()=>({search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}),computed:{isReducingValues(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues(){return void 0===this.modelValue||this.isReducingValues},selectedValue(){let e=this.modelValue;return this.isTrackingValues&&(e=this.$data._value),null!=e&&""!==e?[].concat(e):[]},optionList(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope(){const e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:QF({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:()=>this.isComposing=!0,compositionend:()=>this.isComposing=!1,keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:e=>this.search=e.target.value}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:e,listFooter:e,header:JF(QF({},e),{deselect:this.deselect}),footer:JF(QF({},e),{deselect:this.deselect})}},childComponents(){return QF(QF({},uN),this.components)},stateClasses(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching(){return!!this.search},dropdownOpen(){return this.dropdownShouldOpen(this)},searchPlaceholder(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions(){const e=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return e;const t=this.search.length?this.filter(e,this.search,this):e;if(this.taggable&&this.search.length){const e=this.createOption(this.search);this.optionExists(e)||t.unshift(e)}return t},isValueEmpty(){return 0===this.selectedValue.length},showClearButton(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options(e,t){!this.taggable&&(()=>"function"==typeof this.resetOnOptionsChange?this.resetOnOptionsChange(e,t,this.selectedValue):this.resetOnOptionsChange)()&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler(e){this.isTrackingValues&&this.setInternalValueFromOptions(e)}},multiple(){this.clearSelection()},open(e){this.$emit(e?"open":"close")}},created(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions(e){Array.isArray(e)?this.$data._value=e.map(e=>this.findOptionFromReducedValue(e)):this.$data._value=this.findOptionFromReducedValue(e)},select(e){this.$emit("option:selecting",e),this.isOptionSelected(e)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(e):(this.taggable&&!this.optionExists(e)&&(this.$emit("option:created",e),this.pushTag(e)),this.multiple&&(e=this.selectedValue.concat(e)),this.updateValue(e),this.$emit("option:selected",e)),this.onAfterSelect(e)},deselect(e){this.$emit("option:deselecting",e),this.updateValue(this.selectedValue.filter(t=>!this.optionComparator(t,e))),this.$emit("option:deselected",e)},clearSelection(){this.updateValue(this.multiple?[]:null)},onAfterSelect(e){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue(e){void 0===this.modelValue&&(this.$data._value=e),null!==e&&(e=Array.isArray(e)?e.map(e=>this.reduce(e)):this.reduce(e)),this.$emit("update:modelValue",e)},toggleDropdown(e){const t=e.target!==this.searchEl;t&&e.preventDefault();const n=[...this.deselectButtons||[],this.$refs.clearButton];void 0===this.searchEl||n.filter(Boolean).some(t=>t.contains(e.target)||t===e.target)?e.preventDefault():this.open&&t?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected(e){return this.selectedValue.some(t=>this.optionComparator(t,e))},isOptionDeselectable(e){return this.isOptionSelected(e)&&this.deselectFromDropdown},optionComparator(e,t){return this.getOptionKey(e)===this.getOptionKey(t)},findOptionFromReducedValue(e){const t=[...this.options,...this.pushedTags].filter(t=>JSON.stringify(this.reduce(t))===JSON.stringify(e));return 1===t.length?t[0]:t.find(e=>this.optionComparator(e,this.$data._value))||e},closeSearchOptions(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){let e=null;this.multiple&&(e=[...this.selectedValue.slice(0,this.selectedValue.length-1)]),this.updateValue(e)}},optionExists(e){return this.optionList.some(t=>this.optionComparator(t,e))},normalizeOptionForSlot(e){return"object"==typeof e?e:{[this.label]:e}},pushTag(e){this.pushedTags.push(e)},onEscape(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur(){if(!this.mousedown||this.searching){const{clearSearchOnSelect:e,multiple:t}=this;return this.clearSearchOnBlur({clearSearchOnSelect:e,multiple:t})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus(){this.open=!0,this.$emit("search:focus")},onMousedown(){this.mousedown=!0},onMouseUp(){this.mousedown=!1},onSearchKeyDown(e){const t=e=>(e.preventDefault(),!this.isComposing&&this.typeAheadSelect()),n={8:e=>this.maybeDeleteValue(),9:e=>this.onTab(),27:e=>this.onEscape(),38:e=>(e.preventDefault(),this.typeAheadUp()),40:e=>(e.preventDefault(),this.typeAheadDown())};this.selectOnKeyCodes.forEach(e=>n[e]=t);const a=this.mapKeydown(n,this);if("function"==typeof a[e.keyCode])return a[e.keyCode](e)}}},fN=["dir"],mN=["id","aria-expanded","aria-owns"],gN={ref:"selectedOptions",class:"vs__selected-options"},vN=["disabled","title","aria-label","onClick"],yN={ref:"actions",class:"vs__actions"},bN=["disabled"],xN={class:"vs__spinner"},wN=["id"],_N=["id","aria-selected","onMouseover","onClick"],kN={key:0,class:"vs__no-options"},CN=Is(" Sorry, no matching options. "),SN=["id"];const EN=nN(pN,[["render",function(e,t,n,a,s,r){const i=ta("directives","append-to-body");return bs(),ks("div",{dir:n.dir,class:Y(["v-select",r.stateClasses])},[sa(e.$slots,"header",G(Ms(r.scope.header))),Os("div",{id:"vs".concat(n.uid,"__combobox"),ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":r.dropdownOpen.toString(),"aria-owns":"vs".concat(n.uid,"__listbox"),"aria-label":"Search for option",onMousedown:t[1]||(t[1]=e=>r.toggleDropdown(e))},[Os("div",gN,[(bs(!0),ks(ps,null,aa(r.selectedValue,(t,a)=>sa(e.$slots,"selected-option-container",{option:r.normalizeOptionForSlot(t),deselect:r.deselect,multiple:n.multiple,disabled:n.disabled},()=>[(bs(),ks("span",{key:n.getOptionKey(t),class:"vs__selected"},[sa(e.$slots,"selected-option",G(Ms(r.normalizeOptionForSlot(t))),()=>[Is(te(n.getOptionLabel(t)),1)]),n.multiple?(bs(),ks("button",{key:0,ref_for:!0,ref:e=>s.deselectButtons[a]=e,disabled:n.disabled,type:"button",class:"vs__deselect",title:"Deselect ".concat(n.getOptionLabel(t)),"aria-label":"Deselect ".concat(n.getOptionLabel(t)),onClick:e=>r.deselect(t)},[(bs(),Cs(ea(r.childComponents.Deselect)))],8,vN)):Ls("",!0)]))])),256)),sa(e.$slots,"search",G(Ms(r.scope.search)),()=>[Os("input",Bs({class:"vs__search"},r.scope.search.attributes,ia(r.scope.search.events)),null,16)])],512),Os("div",yN,[dn(Os("button",{ref:"clearButton",disabled:n.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:t[0]||(t[0]=(...e)=>r.clearSelection&&r.clearSelection(...e))},[(bs(),Cs(ea(r.childComponents.Deselect)))],8,bN),[[Dr,r.showClearButton]]),sa(e.$slots,"open-indicator",G(Ms(r.scope.openIndicator)),()=>[n.noDrop?Ls("",!0):(bs(),Cs(ea(r.childComponents.OpenIndicator),G(Bs({key:0},r.scope.openIndicator.attributes)),null,16))]),sa(e.$slots,"spinner",G(Ms(r.scope.spinner)),()=>[dn(Os("div",xN,"Loading...",512),[[Dr,e.mutableLoading]])])],512)],40,mN),Ds(gr,{name:n.transition},{default:un(()=>[r.dropdownOpen?dn((bs(),ks("ul",{id:"vs".concat(n.uid,"__listbox"),ref:"dropdownMenu",key:"vs".concat(n.uid,"__listbox"),class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:t[2]||(t[2]=hi((...e)=>r.onMousedown&&r.onMousedown(...e),["prevent"])),onMouseup:t[3]||(t[3]=(...e)=>r.onMouseUp&&r.onMouseUp(...e))},[sa(e.$slots,"list-header",G(Ms(r.scope.listHeader))),(bs(!0),ks(ps,null,aa(r.filteredOptions,(t,a)=>(bs(),ks("li",{id:"vs".concat(n.uid,"__option-").concat(a),key:n.getOptionKey(t),role:"option",class:Y(["vs__dropdown-option",{"vs__dropdown-option--deselect":r.isOptionDeselectable(t)&&a===e.typeAheadPointer,"vs__dropdown-option--selected":r.isOptionSelected(t),"vs__dropdown-option--highlight":a===e.typeAheadPointer,"vs__dropdown-option--disabled":!n.selectable(t)}]),"aria-selected":a===e.typeAheadPointer||null,onMouseover:s=>n.selectable(t)?e.typeAheadPointer=a:null,onClick:hi(e=>n.selectable(t)?r.select(t):null,["prevent","stop"])},[sa(e.$slots,"option",G(Ms(r.normalizeOptionForSlot(t))),()=>[Is(te(n.getOptionLabel(t)),1)])],42,_N))),128)),0===r.filteredOptions.length?(bs(),ks("li",kN,[sa(e.$slots,"no-options",G(Ms(r.scope.noOptions)),()=>[CN])])):Ls("",!0),sa(e.$slots,"list-footer",G(Ms(r.scope.listFooter)))],40,wN)),[[i]]):(bs(),ks("ul",{key:1,id:"vs".concat(n.uid,"__listbox"),role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,SN))]),_:3},8,["name"]),sa(e.$slots,"footer",G(Ms(r.scope.footer)))],10,fN)}]]),PN={class:"space-y-4 md:space-y-6"},AN={class:"flex items-center justify-between"},ON={class:"flex items-center gap-2"},DN={class:"relative"},MN={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden z-50"},TN={key:0,class:"fixed bottom-0 left-0 right-0 bg-white rounded-t-2xl border-t p-4 md:p-6 z-50 max-h-[85vh] overflow-y-auto",style:{"border-color":"var(--fluxr-green-light)","box-shadow":"0 -4px 20px rgba(0, 0, 0, 0.1)"}},IN={class:"flex items-center justify-between mb-4"},jN={class:"grid grid-cols-2 gap-2 md:gap-4 mb-3 md:mb-4"},LN={class:"mb-3 md:mb-4"},FN={class:"relative"},NN={key:0,class:"absolute z-10 mt-1 w-full md:w-64 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden"},RN={key:0,class:"grid grid-cols-2 gap-2 md:gap-4 mb-3 md:mb-4"},BN={class:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4 mb-4"},VN={class:"mb-4"},zN={class:"flex flex-col"},UN={class:"font-medium"},qN={class:"text-xs text-gray-500"},HN={class:"flex gap-2 sticky bottom-0 bg-white pt-4 -mx-4 md:-mx-6 px-4 md:px-6 pb-2 border-t border-gray-100"},WN=["disabled"],$N={key:0,class:"bg-white rounded-lg border border-gray-200 p-4 md:p-6"},KN={class:"grid grid-cols-2 md:grid-cols-5 gap-4 md:gap-6"},YN={class:"text-center md:border-r border-gray-200 last:border-r-0"},GN={class:"text-base md:text-lg font-bold",style:{color:"var(--fluxr-primary)"}},XN={class:"text-center md:border-r border-gray-200 last:border-r-0"},QN={class:"text-base md:text-lg font-bold",style:{color:"var(--fluxr-primary)"}},JN={class:"text-center md:border-r border-gray-200 last:border-r-0 col-span-2 md:col-span-1 border-t md:border-t-0 pt-4 md:pt-0"},ZN={class:"text-base md:text-lg font-bold",style:{color:"var(--fluxr-primary)"}},eR={class:"text-center md:border-r border-gray-200 last:border-r-0"},tR={class:"text-base md:text-lg font-bold",style:{color:"var(--fluxr-primary)"}},nR={class:"text-center"},aR={class:"text-base md:text-lg font-bold text-red-600"},sR={key:1,class:"flex items-center justify-center py-12"},rR={key:2,class:"hidden md:block bg-white rounded-lg border border-gray-200 p-4 md:p-6"},iR={class:"flex items-center justify-between mb-4"},oR={class:"text-xs text-gray-500"},lR={style:{height:"400px"}},cR={key:3,class:"hidden md:flex bg-white rounded-lg border border-gray-200 p-4 md:p-6 items-center justify-center",style:{"min-height":"400px"}},uR={key:4,class:"hidden md:block bg-white rounded-lg border border-gray-200 p-8 text-center"},dR={__name:"SalesSummary",setup(e){rL.register(NL,zL,pL,bL,jL,vL);const t=At(!0),n=At(!1),a=At(!1),s=At(!1),r=At({gross_sales:0,discounts:0,net_sales:0,gross_profits:0,refunds:0}),i=At([]),o=At([]),l=At([]),c=At([]),u=At([]),d=At([]),h=At([]),p=At({start_date:"",end_date:"",time_range:"all_day",start_time:"",end_time:""}),f={dateFormat:"Y-m-d",allowInput:!0,locale:{firstDayOfWeek:1}},m=()=>{const e=new Date,t=new Date(e.getTime()-6048e5);p.value={start_date:t.toISOString().split("T")[0],end_date:e.toISOString().split("T")[0],time_range:"all_day",start_time:"",end_time:""}},g=nr(()=>"all_day"===p.value.time_range?"All Day":"custom"===p.value.time_range?p.value.start_time&&p.value.end_time?"".concat(p.value.start_time," - ").concat(p.value.end_time):"Custom Time":"All Day"),v=e=>{p.value.time_range=e,"all_day"===e&&(p.value.start_time="",p.value.end_time=""),n.value=!1},y=e=>new Intl.NumberFormat("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),b=nr(()=>{const e=i.value.map(e=>new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),t=i.value.map(e=>parseFloat(e.net_sales)),n=t.map(e=>e>=0?"rgb(34, 197, 94)":"rgb(239, 68, 68)"),a=t.map(e=>e>=0?"rgb(22, 163, 74)":"rgb(220, 38, 38)");return{labels:e,datasets:[{label:"Net Sales",data:t,backgroundColor:n,borderColor:a,borderWidth:1,borderRadius:4}]}}),x={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:13},callbacks:{label:e=>"$"+y(e.parsed.y)}}},scales:{y:{ticks:{callback:e=>"$"+y(e),color:"rgb(107, 114, 128)"},grid:{color:"rgba(107, 114, 128, 0.1)",lineWidth:e=>0===e.tick.value?2:1}},x:{ticks:{color:"rgb(107, 114, 128)",maxRotation:45,minRotation:0},grid:{display:!1}}}},w=async()=>{t.value=!0;try{const e=new URLSearchParams({start_date:p.value.start_date,end_date:p.value.end_date});"custom"===p.value.time_range&&(p.value.start_time&&e.append("start_time",p.value.start_time),p.value.end_time&&e.append("end_time",p.value.end_time)),c.value.forEach(t=>{e.append("branch_ids[]",t.id)}),u.value.forEach(t=>{e.append("cashier_ids[]",t.id)}),d.value.forEach(t=>{e.append("product_ids[]",t.id)});const t="https://pos-dev.xash.co.zw/api",n=await zh.get("".concat(t,"/manager/reports/sales-summary?").concat(e.toString()));r.value=n.metrics,i.value=n.daily_breakdown,o.value=n.branches,l.value=n.cashiers,n.products&&(h.value=n.products)}catch(e){console.error("Error fetching report:",e)}finally{t.value=!1}},_=async()=>{await w(),a.value=!1},k=()=>{m(),c.value=[],u.value=[],d.value=[],w()},C=async e=>{s.value=!1;try{"csv"===e?S():"excel"===e?E():"pdf"===e&&P()}catch(t){console.error("Export error:",t),alert("Failed to export report. Please try again.")}},S=()=>{const e=i.value.map(e=>[e.date,e.gross_sales,e.discounts,e.net_sales,e.gross_profits,e.refunds||0]);let t=["Date","Gross Sales","Discounts","Net Sales","Gross Profits","Refunds"].join(",")+"\n";e.forEach(e=>{t+=e.join(",")+"\n"}),t+="\n",t+="Summary,,,,\n",t+="Total Gross Sales,".concat(r.value.gross_sales,",,,\n"),t+="Total Discounts,".concat(r.value.discounts,",,,\n"),t+="Total Net Sales,".concat(r.value.net_sales,",,,\n"),t+="Total Gross Profits,".concat(r.value.gross_profits,",,,\n"),t+="Total Refunds,".concat(r.value.refunds,",,,\n"),A(t,"sales-summary.csv","text/csv")},E=()=>{const e=i.value.map(e=>[e.date,e.gross_sales,e.discounts,e.net_sales,e.gross_profits,e.refunds||0]);let t=["Date","Gross Sales","Discounts","Net Sales","Gross Profits","Refunds"].join("\t")+"\n";e.forEach(e=>{t+=e.join("\t")+"\n"}),t+="\n",t+="Summary\t\t\t\t\n",t+="Total Gross Sales\t".concat(r.value.gross_sales,"\t\t\t\n"),t+="Total Discounts\t".concat(r.value.discounts,"\t\t\t\n"),t+="Total Net Sales\t".concat(r.value.net_sales,"\t\t\t\n"),t+="Total Gross Profits\t".concat(r.value.gross_profits,"\t\t\t\n"),t+="Total Refunds\t".concat(r.value.refunds,"\t\t\t\n"),A(t,"sales-summary.xls","application/vnd.ms-excel")},P=()=>{let e="\nSALES SUMMARY REPORT\nDate Range: ".concat(p.value.start_date," to ").concat(p.value.end_date,"\nGenerated: ").concat((new Date).toLocaleString(),"\n\n================================================================\n\nSUMMARY METRICS:\nGross Sales:     $").concat(y(r.value.gross_sales),"\nDiscounts:       $").concat(y(r.value.discounts),"\nNet Sales:       $").concat(y(r.value.net_sales),"\nGross Profits:   $").concat(y(r.value.gross_profits),"\nRefunds:         $").concat(y(r.value.refunds),"\n\n================================================================\n\nDAILY BREAKDOWN:\n\nDate          | Gross Sales | Discounts  | Net Sales  | Profits    | Refunds\n--------------------------------------------------------------------------\n");i.value.forEach(t=>{e+="".concat(t.date.padEnd(14),"| $").concat(y(t.gross_sales).padEnd(12),"| $").concat(y(t.discounts).padEnd(11),"| $").concat(y(t.net_sales).padEnd(11),"| $").concat(y(t.gross_profits).padEnd(11),"| $").concat(y(t.refunds||0),"\n")}),e+="\n================================================================\n",e+="\nGenerated by XASH POS System",A(e,"sales-summary.txt","text/plain")},A=(e,t,n)=>{const a=new Blob([e],{type:n}),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)};return Un(()=>{m(),w()}),(e,m)=>(bs(),ks("div",PN,[Os("div",AN,[m[23]||(m[23]=Os("div",null,[Os("h1",{class:"text-lg sm:text-2xl font-bold text-gray-900"},"Sales Summary Report"),Os("p",{class:"text-xs sm:text-sm text-gray-600 mt-1"},"Analyze your sales performance")],-1)),Os("div",ON,[Os("div",DN,[Os("button",{onClick:m[0]||(m[0]=e=>s.value=!s.value),class:"px-3 md:px-4 py-2 text-xs md:text-sm font-medium rounded-lg transition-all duration-200 flex items-center gap-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 shadow-sm"},[...m[17]||(m[17]=[Os("i",{class:"fas fa-download"},null,-1),Os("span",{class:"hidden sm:inline"},"Export",-1),Os("i",{class:"fas fa-chevron-down text-xs"},null,-1)])]),s.value?(bs(),ks("div",MN,[Os("button",{onClick:m[1]||(m[1]=e=>C("pdf")),class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors"},[...m[18]||(m[18]=[Os("i",{class:"fas fa-file-pdf text-red-500 w-5"},null,-1),Os("span",null,"Export as PDF",-1)])]),Os("button",{onClick:m[2]||(m[2]=e=>C("csv")),class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors border-t border-gray-100"},[...m[19]||(m[19]=[Os("i",{class:"fas fa-file-csv text-success w-5"},null,-1),Os("span",null,"Export as CSV",-1)])]),Os("button",{onClick:m[3]||(m[3]=e=>C("excel")),class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors border-t border-gray-100"},[...m[20]||(m[20]=[Os("i",{class:"fas fa-file-excel text-success w-5"},null,-1),Os("span",null,"Export as Excel",-1)])])])):Ls("",!0)]),Os("button",{onClick:m[4]||(m[4]=e=>a.value=!a.value),class:"px-3 md:px-4 py-2 text-xs md:text-sm font-medium rounded-lg transition-all duration-200 flex items-center gap-2 bg-primary text-white hover:bg-primary-dark shadow-sm"},[m[21]||(m[21]=Os("i",{class:"fas fa-filter"},null,-1)),m[22]||(m[22]=Os("span",{class:"hidden sm:inline"},"Filters",-1)),Os("i",{class:Y(["fas fa-chevron-down text-xs",a.value?"fa-rotate-180":""])},null,2)])])]),Ds(gr,{name:"modal-backdrop"},{default:un(()=>[a.value?(bs(),ks("div",{key:0,onClick:m[5]||(m[5]=e=>a.value=!1),class:"fixed inset-0 bg-black/30 z-40",style:{"backdrop-filter":"blur(4px)"}})):Ls("",!0)]),_:1}),Ds(gr,{name:"slide-up"},{default:un(()=>[a.value?(bs(),ks("div",TN,[Os("div",IN,[m[25]||(m[25]=Os("h2",{class:"text-base md:text-lg font-semibold text-gray-900"},"Filters",-1)),Os("button",{onClick:m[6]||(m[6]=e=>a.value=!1),class:"p-2 hover:bg-gray-100 rounded-lg transition-colors"},[...m[24]||(m[24]=[Os("i",{class:"fas fa-times text-gray-500"},null,-1)])])]),Os("div",jN,[Os("div",null,[m[26]||(m[26]=Os("label",{class:"block text-xs md:text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),Ds(Tt(qF),{modelValue:p.value.start_date,"onUpdate:modelValue":m[7]||(m[7]=e=>p.value.start_date=e),config:f,class:"w-full px-2 md:px-3 py-1.5 md:py-2 text-xs md:text-sm border border-gray300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Select start date"},null,8,["modelValue"])]),Os("div",null,[m[27]||(m[27]=Os("label",{class:"block text-xs md:text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),Ds(Tt(qF),{modelValue:p.value.end_date,"onUpdate:modelValue":m[8]||(m[8]=e=>p.value.end_date=e),config:f,class:"w-full px-2 md:px-3 py-1.5 md:py-2 text-xs md:text-sm border border-gray300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Select end date"},null,8,["modelValue"])])]),Os("div",LN,[m[31]||(m[31]=Os("label",{class:"block text-xs md:text-sm font-medium text-gray-700 mb-1"},"Time Range",-1)),Os("div",FN,[Os("button",{onClick:m[9]||(m[9]=e=>n.value=!n.value),type:"button",class:"w-full md:w-auto px-3 py-1.5 md:py-2 text-xs md:text-sm border border-gray-300 rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary flex items-center justify-between"},[Os("span",null,te(g.value),1),m[28]||(m[28]=Os("i",{class:"fas fa-chevron-down ml-2 text-xs"},null,-1))]),n.value?(bs(),ks("div",NN,[Os("button",{onClick:m[10]||(m[10]=e=>v("all_day")),type:"button",class:Y(["w-full px-3 py-2 text-left text-xs md:text-sm hover:bg-gray-100 transition-colors",{"text-white":"all_day"===p.value.time_range}]),style:q("all_day"===p.value.time_range?"background: var(--fluxr-primary);":"")},[...m[29]||(m[29]=[Os("i",{class:"fas fa-clock mr-2"},null,-1),Is(" All Day ",-1)])],6),Os("button",{onClick:m[11]||(m[11]=e=>v("custom")),type:"button",class:Y(["w-full px-3 py-2 text-left text-xs md:text-sm hover:bg-gray-100 transition-colors",{"text-white":"custom"===p.value.time_range}]),style:q("custom"===p.value.time_range?"background: var(--fluxr-primary);":"")},[...m[30]||(m[30]=[Os("i",{class:"fas fa-clock mr-2"},null,-1),Is(" Custom Time ",-1)])],6)])):Ls("",!0)])]),"custom"===p.value.time_range?(bs(),ks("div",RN,[Os("div",null,[m[32]||(m[32]=Os("label",{class:"block text-xs md:text-sm font-medium text-gray-700 mb-1"},"Start Time",-1)),dn(Os("input",{"onUpdate:modelValue":m[12]||(m[12]=e=>p.value.start_time=e),type:"time",class:"w-full px-2 md:px-3 py-1.5 md:py-2 text-xs md:text-sm border border-gray300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[ei,p.value.start_time]])]),Os("div",null,[m[33]||(m[33]=Os("label",{class:"block text-xs md:text-sm font-medium text-gray-700 mb-1"},"End Time",-1)),dn(Os("input",{"onUpdate:modelValue":m[13]||(m[13]=e=>p.value.end_time=e),type:"time",class:"w-full px-2 md:px-3 py-1.5 md:py-2 text-xs md:text-sm border border-gray300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[ei,p.value.end_time]])])])):Ls("",!0),Os("div",BN,[Os("div",null,[m[34]||(m[34]=Os("label",{class:"block text-xs md:text-sm font-medium text-gray-700 mb-1"},"Branches",-1)),Ds(Tt(EN),{modelValue:c.value,"onUpdate:modelValue":m[14]||(m[14]=e=>c.value=e),options:o.value,multiple:"",label:"name",reduce:e=>e,placeholder:"Search and select branches",class:"custom-v-select"},null,8,["modelValue","options","reduce"])]),Os("div",null,[m[35]||(m[35]=Os("label",{class:"block text-xs md:text-sm font-medium text-gray-700 mb-1"},"Cashiers",-1)),Ds(Tt(EN),{modelValue:u.value,"onUpdate:modelValue":m[15]||(m[15]=e=>u.value=e),options:l.value,multiple:"",label:"name",reduce:e=>e,placeholder:"Search and select cashiers",class:"custom-v-select"},null,8,["modelValue","options","reduce"])])]),Os("div",VN,[m[36]||(m[36]=Os("label",{class:"block text-xs md:text-sm font-medium text-gray-700 mb-1"},"Products (Optional)",-1)),Ds(Tt(EN),{modelValue:d.value,"onUpdate:modelValue":m[16]||(m[16]=e=>d.value=e),options:h.value,multiple:"",label:"name",reduce:e=>e,placeholder:"Search and select products",class:"custom-v-select"},{option:un(({name:e,sku:t})=>[Os("div",zN,[Os("span",UN,te(e),1),Os("span",qN,"SKU: "+te(t),1)])]),_:1},8,["modelValue","options","reduce"])]),Os("div",HN,[Os("button",{onClick:_,disabled:t.value,class:"flex-1 px-3 md:px-4 py-2 md:py-2.5 text-xs md:text-sm font-medium text-white rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all",style:{background:"linear-gradient(to bottom right, var(--fluxr-primary), var(--fluxr-primary-dark))"}},[m[37]||(m[37]=Os("i",{class:"fas fa-check mr-1"},null,-1)),Is(" "+te(t.value?"Loading...":"Apply Filters"),1)],8,WN),Os("button",{onClick:k,class:"px-3 md:px-4 py-2 md:py-2.5 text-xs md:text-sm font-medium bg-gray-300 text-gray-900 rounded-lg hover:bg-gray-400 transition-colors"},[...m[38]||(m[38]=[Os("i",{class:"fas fa-redo mr-1"},null,-1),Is(" Reset ",-1)])])])])):Ls("",!0)]),_:1}),t.value?(bs(),ks("div",sR,[...m[44]||(m[44]=[Os("i",{class:"fas fa-spinner fa-spin text-4xl",style:{color:"var(--fluxr-primary)"}},null,-1)])])):(bs(),ks("div",$N,[Os("div",KN,[Os("div",YN,[m[39]||(m[39]=Os("p",{class:"text-xs md:text-sm text-gray-500 mb-1"},"Gross Sales",-1)),Os("p",GN,"$"+te(y(r.value.gross_sales)),1)]),Os("div",XN,[m[40]||(m[40]=Os("p",{class:"text-xs md:text-sm text-gray-500 mb-1"},"Discounts",-1)),Os("p",QN,"$"+te(y(r.value.discounts)),1)]),Os("div",JN,[m[41]||(m[41]=Os("p",{class:"text-xs md:text-sm text-gray-500 mb-1"},"Net Sales",-1)),Os("p",ZN,"$"+te(y(r.value.net_sales)),1)]),Os("div",eR,[m[42]||(m[42]=Os("p",{class:"text-xs md:text-sm text-gray-500 mb-1"},"Gross Profits",-1)),Os("p",tR,"$"+te(y(r.value.gross_profits)),1)]),Os("div",nR,[m[43]||(m[43]=Os("p",{class:"text-xs md:text-sm text-gray-500 mb-1"},"Refunds",-1)),Os("p",aR,"$"+te(y(r.value.refunds)),1)])])])),!t.value&&i.value.length>0?(bs(),ks("div",rR,[Os("div",iR,[m[46]||(m[46]=Os("h2",{class:"text-base md:text-lg font-semibold text-gray-900"},"Daily Sales Trend",-1)),Os("div",oR,[m[45]||(m[45]=Os("i",{class:"fas fa-chart-bar mr-1"},null,-1)),Is(" "+te(i.value.length)+" days ",1)])]),Os("div",lR,[Ds(Tt(oF),{data:b.value,options:x},null,8,["data"])])])):t.value?(bs(),ks("div",cR,[...m[47]||(m[47]=[Os("i",{class:"fas fa-spinner fa-spin text-4xl",style:{color:"var(--fluxr-primary)"}},null,-1)])])):(bs(),ks("div",uR,[...m[48]||(m[48]=[Os("i",{class:"fas fa-chart-bar text-4xl md:text-5xl text-gray-300 mb-3"},null,-1),Os("p",{class:"text-sm md:text-base text-gray-500"},"No sales data available for the selected filters",-1)])]))]))}},hR={class:"space-y-6"},pR={class:"flex items-start gap-3"},fR={class:"flex-shrink-0"},mR={class:"flex-1 min-w-0"},gR={key:0,class:"flex items-center justify-center py-12"},vR={key:1,class:"bg-white rounded-lg border border-gray-100 p-8 md:p-12 text-center"},yR={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"},bR={class:"flex items-start gap-4"},xR={class:"flex-1 min-w-0"},wR={class:"font-semibold text-gray-800 truncate"},_R={class:"text-sm text-gray-500 truncate"},kR={class:"text-sm text-gray-500"},CR={class:"mt-4 pt-4 border-t border-gray-100"},SR={class:"flex items-center justify-between mb-3"},ER={class:"text-sm font-semibold text-gray-800"},PR={class:"flex items-center justify-between mb-3"},AR={class:"flex items-center gap-2"},OR=["onClick"],DR=["onClick"],MR={class:"bg-white rounded-lg max-w-md w-full"},TR={key:0,class:"text-xs text-red-600 mt-1"},IR={key:0,class:"text-xs text-red-600 mt-1"},jR={key:0,class:"text-xs text-red-600 mt-1"},LR={key:0,class:"text-xs text-red-600 mt-1"},FR={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},NR={class:"text-sm text-red-600"},RR={class:"flex gap-3 pt-4"},BR=["disabled"],VR={key:0,class:"fas fa-spinner fa-spin"},zR={class:"bg-white rounded-lg max-w-md w-full"},UR={key:0,class:"text-xs text-red-600 mt-1"},qR={key:0,class:"text-xs text-red-600 mt-1"},HR={key:0,class:"text-xs text-red-600 mt-1"},WR={class:"pt-2 border-t border-gray-100"},$R={class:"flex items-center justify-between mb-2"},KR={key:0},YR={key:0,class:"text-xs text-red-600 mt-1"},GR={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},XR={class:"text-sm text-red-600"},QR={class:"flex gap-3 pt-4"},JR=["disabled"],ZR={key:0,class:"fas fa-spinner fa-spin"},eB={class:"bg-white rounded-lg max-w-md w-full"},tB={class:"p-6 text-center"},nB={class:"text-2xl font-bold text-gray-800 mb-2"},aB={class:"text-gray-600 mb-6"},sB={class:"p-4 bg-success-light border border-success rounded-lg mb-6"},rB={class:"text-sm text-gray-600 mb-2"},iB={class:"text-3xl font-bold text-success tracking-widest"},oB={class:"bg-white rounded-lg max-w-md w-full"},lB={class:"p-6"},cB={class:"flex items-center gap-3 mb-4"},uB={class:"text-xl font-bold text-gray-800"},dB={class:"text-gray-600 mb-6"},hB={key:0,class:"block mt-2 text-sm text-red-600"},pB={class:"flex gap-3"},fB=["disabled"],mB={key:0,class:"fas fa-spinner fa-spin"},gB={__name:"cashiers",setup(e){const t="https://pos-dev.xash.co.zw/api",n=At(!0),a=At([]),s=At(!1),r=At(!1),i=At(""),o=At({name:"",email:"",phone_number:"",pin:""}),l=At({}),c=At(!1),u=At(!1),d=At(""),h=At({id:null,name:"",email:"",phone_number:"",pin:""}),p=At({}),f=At(!1),m=At(!1),g=At(""),v=At(""),y=At("create"),b=At(!1),x=At(null),w=At(!1),_=At({show:!1,type:"success",title:"",message:""});function k(e,t,n){_.value={show:!0,type:e,title:t,message:n},setTimeout(()=>{_.value.show=!1},4e3)}async function C(){n.value=!0;try{const e=await zh.get("".concat(t,"/manager/users"));a.value=e}catch(e){console.error("Failed to fetch cashiers:",e),k("error","Error","Failed to load cashiers")}finally{n.value=!1}}function S(){o.value={name:"",email:"",phone_number:"",pin:""},l.value={},i.value="",s.value=!0}function E(){s.value=!1}async function P(){var e,n,a,s;if(o.value.name&&o.value.email&&o.value.phone_number&&o.value.pin)if(4===o.value.pin.length&&/^[0-9]{4}$/.test(o.value.pin)){r.value=!0,i.value="",l.value={};try{const e=await zh.post("".concat(t,"/manager/users"),o.value);g.value=e.pin,v.value=o.value.name,y.value="create",E(),m.value=!0,await C()}catch(c){console.error("Failed to create cashier:",c),c.errors&&(l.value={name:null==(e=c.errors.name)?void 0:e[0],email:null==(n=c.errors.email)?void 0:n[0],phone_number:null==(a=c.errors.phone_number)?void 0:a[0],pin:null==(s=c.errors.pin)?void 0:s[0]}),i.value=c.message||"Failed to create cashier. Please try again.",k("error","Error","Failed to create cashier")}finally{r.value=!1}}else i.value="PIN must be exactly 4 digits";else i.value="Please fill in all required fields"}function A(){m.value=!1,g.value="",v.value="",y.value="create"}function O(){c.value=!1,f.value=!1}async function D(){var e,n,a,s;if(!h.value.name||!h.value.email||!h.value.phone_number)return void(d.value="Please fill in all required fields");if(f.value&&h.value.pin&&(4!==h.value.pin.length||!/^[0-9]{4}$/.test(h.value.pin)))return void(d.value="PIN must be exactly 4 digits");u.value=!0,d.value="",p.value={};const r=h.value.name,i={name:h.value.name,email:h.value.email,phone_number:h.value.phone_number};f.value&&h.value.pin&&(i.pin=h.value.pin);try{const e=await zh.put("".concat(t,"/manager/users/").concat(h.value.id),i);O(),e.pin?(g.value=e.pin,v.value=r,y.value="update",m.value=!0):k("success","Success","Cashier updated successfully"),await C()}catch(o){console.error("Failed to update cashier:",o),o.errors&&(p.value={name:null==(e=o.errors.name)?void 0:e[0],email:null==(n=o.errors.email)?void 0:n[0],phone_number:null==(a=o.errors.phone_number)?void 0:a[0],pin:null==(s=o.errors.pin)?void 0:s[0]}),d.value=o.message||"Failed to update cashier. Please try again.",k("error","Error","Failed to update cashier")}finally{u.value=!1}}function M(){b.value=!1,x.value=null}async function T(){if(x.value){w.value=!0,x.value.name,x.value.is_active;try{const e=await zh.post("".concat(t,"/manager/users/").concat(x.value.id,"/toggle-status"));M(),k("success","Success",e.message),await C()}catch(e){console.error("Failed to toggle status:",e),k("error","Error",e.message||"Failed to update cashier status")}finally{w.value=!1}}}return Un(()=>{C()}),(e,t)=>{var k,C,I,j,L,F,N;return bs(),ks("div",hR,[Ds(gr,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:un(()=>[_.value.show?(bs(),ks("div",{key:0,class:Y(["fixed top-4 right-4 z-[60] max-w-sm w-full rounded-lg p-4","success"===_.value.type?"bg-success-light border border-success":"bg-danger-light border border-danger"])},[Os("div",pR,[Os("div",fR,[Os("i",{class:Y(["success"===_.value.type?"fas fa-check-circle text-success":"fas fa-exclamation-circle text-danger","text-lg"])},null,2)]),Os("div",mR,[Os("p",{class:Y(["text-sm font-medium","success"===_.value.type?"text-success":"text-danger"])},te(_.value.title),3),Os("p",{class:Y(["text-sm mt-1","success"===_.value.type?"text-success":"text-danger"])},te(_.value.message),3)]),Os("button",{onClick:t[0]||(t[0]=e=>_.value.show=!1),class:Y(["flex-shrink-0","success"===_.value.type?"text-success hover:text-success":"text-danger hover:text-danger"])},[...t[10]||(t[10]=[Os("i",{class:"fas fa-times"},null,-1)])],2)])],2)):Ls("",!0)]),_:1}),Os("div",{class:"flex items-center justify-between gap-2"},[t[12]||(t[12]=Os("div",null,[Os("h1",{class:"text-lg md:text-2xl font-bold text-gray-800"},"Cashier Management"),Os("p",{class:"text-xs md:text-sm text-gray-600"},"Manage your branch cashiers")],-1)),Os("button",{onClick:S,class:"px-2 md:px-4 py-1.5 md:py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all flex items-center gap-1 md:gap-2 font-medium text-xs md:text-sm flex-shrink-0"},[...t[11]||(t[11]=[Os("i",{class:"fas fa-plus"},null,-1),Os("span",{class:"hidden md:inline"},"Add",-1),Is(" Cashier ",-1)])])]),n.value?(bs(),ks("div",gR,[...t[13]||(t[13]=[Os("i",{class:"fas fa-spinner fa-spin text-4xl text-primary"},null,-1)])])):0===a.value.length?(bs(),ks("div",vR,[t[15]||(t[15]=Os("i",{class:"fas fa-users text-4xl md:text-5xl text-gray-300 mb-4"},null,-1)),t[16]||(t[16]=Os("p",{class:"text-base md:text-lg text-gray-500 mb-4"},"No cashiers found",-1)),Os("button",{onClick:S,class:"px-3 md:px-4 py-1.5 md:py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition inline-flex items-center gap-2 text-xs md:text-sm"},[...t[14]||(t[14]=[Os("i",{class:"fas fa-plus"},null,-1),Is(" Add Your First Cashier ",-1)])])])):(bs(),ks("div",yR,[(bs(!0),ks(ps,null,aa(a.value,e=>(bs(),ks("div",{key:e.id,class:"bg-white rounded-lg border border-gray-100 transition p-4 md:p-6"},[Os("div",bR,[t[17]||(t[17]=Os("div",{class:"w-14 h-14 bg-primary-light rounded-full flex items-center justify-center flex-shrink-0"},[Os("i",{class:"fas fa-user text-primary text-xl"})],-1)),Os("div",xR,[Os("h3",wR,te(e.name),1),Os("p",_R,te(e.email),1),Os("p",kR,te(e.phone_number),1)])]),Os("div",CR,[Os("div",SR,[t[18]||(t[18]=Os("span",{class:"text-sm text-gray-600"},"Total Sales",-1)),Os("span",ER,te(e.total_sales||0),1)]),Os("div",PR,[Os("span",{class:Y(["px-2 py-1 text-xs font-medium rounded-full",e.is_active?"status-success":"status-failed"])},te(e.is_active?"Active":"Inactive"),3)]),Os("div",AR,[Os("button",{onClick:t=>function(e){h.value={id:e.id,name:e.name,email:e.email,phone_number:e.phone_number,pin:""},p.value={},d.value="",f.value=!1,c.value=!0}(e),class:"flex-1 text-xs px-3 py-1.5 rounded-lg transition font-medium bg-primary-light text-primary hover:bg-primary hover:text-white"},[...t[19]||(t[19]=[Os("i",{class:"fas fa-edit mr-1"},null,-1),Is("Edit ",-1)])],8,OR),Os("button",{onClick:t=>function(e){x.value=e,b.value=!0}(e),class:Y(["flex-1 text-xs px-3 py-1.5 rounded-lg transition font-medium",e.is_active?"bg-danger-light text-danger hover:bg-danger hover:text-white":"bg-success-light text-success hover:bg-success hover:text-white"])},te(e.is_active?"Deactivate":"Activate"),11,DR)])])]))),128))])),s.value?(bs(),ks("div",{key:3,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:hi(E,["self"])},[Os("div",MR,[Os("div",{class:"p-6 border-b border-gray-100"},[Os("div",{class:"flex items-center justify-between"},[t[21]||(t[21]=js('<div class="flex items-center gap-3"><div class="w-12 h-12 bg-primary-light rounded-lg flex items-center justify-center"><i class="fas fa-user-plus text-primary text-xl"></i></div><div><h2 class="text-xl font-bold text-gray-800">Add New Cashier</h2><p class="text-sm text-gray-500">Create a new cashier account</p></div></div>',1)),Os("button",{onClick:E,class:"text-gray-400 hover:text-gray-600 p-2"},[...t[20]||(t[20]=[Os("i",{class:"fas fa-times text-xl"},null,-1)])])])]),Os("form",{onSubmit:hi(P,["prevent"]),class:"p-6 space-y-4"},[Os("div",null,[t[22]||(t[22]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Full Name *",-1)),dn(Os("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.value.name=e),type:"text",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all",placeholder:"John Doe"},null,512),[[ei,o.value.name]]),l.value.name?(bs(),ks("p",TR,te(l.value.name),1)):Ls("",!0)]),Os("div",null,[t[23]||(t[23]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email *",-1)),dn(Os("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.value.email=e),type:"email",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all",placeholder:"john@example.com"},null,512),[[ei,o.value.email]]),l.value.email?(bs(),ks("p",IR,te(l.value.email),1)):Ls("",!0)]),Os("div",null,[t[24]||(t[24]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phone Number *",-1)),dn(Os("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.value.phone_number=e),type:"tel",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all",placeholder:"+1234567890"},null,512),[[ei,o.value.phone_number]]),l.value.phone_number?(bs(),ks("p",jR,te(l.value.phone_number),1)):Ls("",!0)]),Os("div",null,[t[25]||(t[25]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"4-Digit PIN *",-1)),dn(Os("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.value.pin=e),type:"text",required:"",maxlength:"4",pattern:"[0-9]{4}",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all text-center text-lg font-semibold tracking-widest",placeholder:"****"},null,512),[[ei,o.value.pin]]),t[26]||(t[26]=Os("p",{class:"text-xs text-gray-500 mt-1"},"4-digit numeric PIN for login",-1)),l.value.pin?(bs(),ks("p",LR,te(l.value.pin),1)):Ls("",!0)]),i.value?(bs(),ks("div",FR,[Os("p",NR,te(i.value),1)])):Ls("",!0),Os("div",RR,[Os("button",{type:"button",onClick:E,class:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium"}," Cancel "),Os("button",{type:"submit",disabled:r.value,class:"flex-1 px-4 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"},[r.value?(bs(),ks("i",VR)):Ls("",!0),Is(" "+te(r.value?"Creating...":"Create Cashier"),1)],8,BR)])],32)])])):Ls("",!0),c.value?(bs(),ks("div",{key:4,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:hi(O,["self"])},[Os("div",zR,[Os("div",{class:"p-6 border-b border-gray-100"},[Os("div",{class:"flex items-center justify-between"},[t[28]||(t[28]=js('<div class="flex items-center gap-3"><div class="w-12 h-12 bg-primary-light rounded-lg flex items-center justify-center"><i class="fas fa-user-edit text-primary text-xl"></i></div><div><h2 class="text-xl font-bold text-gray-800">Edit Cashier</h2><p class="text-sm text-gray-500">Update cashier information</p></div></div>',1)),Os("button",{onClick:O,class:"text-gray-400 hover:text-gray-600 p-2"},[...t[27]||(t[27]=[Os("i",{class:"fas fa-times text-xl"},null,-1)])])])]),Os("form",{onSubmit:hi(D,["prevent"]),class:"p-6 space-y-4"},[Os("div",null,[t[29]||(t[29]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Full Name *",-1)),dn(Os("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>h.value.name=e),type:"text",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all",placeholder:"John Doe"},null,512),[[ei,h.value.name]]),p.value.name?(bs(),ks("p",UR,te(p.value.name),1)):Ls("",!0)]),Os("div",null,[t[30]||(t[30]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email *",-1)),dn(Os("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>h.value.email=e),type:"email",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all",placeholder:"john@example.com"},null,512),[[ei,h.value.email]]),p.value.email?(bs(),ks("p",qR,te(p.value.email),1)):Ls("",!0)]),Os("div",null,[t[31]||(t[31]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phone Number *",-1)),dn(Os("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>h.value.phone_number=e),type:"tel",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all",placeholder:"+1234567890"},null,512),[[ei,h.value.phone_number]]),p.value.phone_number?(bs(),ks("p",HR,te(p.value.phone_number),1)):Ls("",!0)]),Os("div",WR,[Os("div",$R,[t[32]||(t[32]=Os("label",{class:"block text-sm font-medium text-gray-700"},"Change PIN (Optional)",-1)),Os("button",{type:"button",onClick:t[8]||(t[8]=e=>f.value=!f.value),class:"text-xs text-primary hover:text-primary-dark font-medium"},te(f.value?"Cancel":"Change PIN"),1)]),f.value?(bs(),ks("div",KR,[dn(Os("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>h.value.pin=e),type:"text",maxlength:"4",pattern:"[0-9]{4}",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-green-500 focus:bg-white focus:border-green-500 transition-all text-center text-lg font-semibold tracking-widest",placeholder:"****"},null,512),[[ei,h.value.pin]]),t[33]||(t[33]=Os("p",{class:"text-xs text-gray-500 mt-1"},"Enter new 4-digit PIN",-1)),p.value.pin?(bs(),ks("p",YR,te(p.value.pin),1)):Ls("",!0)])):Ls("",!0)]),d.value?(bs(),ks("div",GR,[Os("p",XR,te(d.value),1)])):Ls("",!0),Os("div",QR,[Os("button",{type:"button",onClick:O,class:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium"}," Cancel "),Os("button",{type:"submit",disabled:u.value,class:"flex-1 px-4 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"},[u.value?(bs(),ks("i",ZR)):Ls("",!0),Is(" "+te(u.value?"Updating...":"Update Cashier"),1)],8,JR)])],32)])])):Ls("",!0),m.value?(bs(),ks("div",{key:5,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:hi(A,["self"])},[Os("div",eB,[Os("div",tB,[t[35]||(t[35]=Os("div",{class:"w-16 h-16 bg-success-light rounded-full flex items-center justify-center mx-auto mb-4"},[Os("i",{class:"fas fa-check text-success text-2xl"})],-1)),Os("h2",nB,te("create"===y.value?"Cashier Created!":"PIN Updated!"),1),Os("p",aB,te("create"===y.value?"".concat(v.value," has been added successfully"):"PIN for ".concat(v.value," has been updated")),1),Os("div",sB,[Os("p",rB,te("create"===y.value?"Login PIN:":"New PIN:"),1),Os("p",iB,te(g.value),1),t[34]||(t[34]=Os("p",{class:"text-xs text-gray-500 mt-2"},"Share this PIN with the cashier securely",-1))]),Os("button",{onClick:A,class:"w-full px-4 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium"}," Got it ")])])])):Ls("",!0),b.value?(bs(),ks("div",{key:6,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:hi(M,["self"])},[Os("div",oB,[Os("div",lB,[Os("div",cB,[Os("div",{class:Y(["w-12 h-12 rounded-lg flex items-center justify-center",(null==(k=x.value)?void 0:k.is_active)?"bg-danger-light":"bg-success-light"])},[Os("i",{class:Y(["text-xl",(null==(C=x.value)?void 0:C.is_active)?"fas fa-ban text-danger":"fas fa-check text-success"])},null,2)],2),Os("div",null,[Os("h2",uB,te((null==(I=x.value)?void 0:I.is_active)?"Deactivate":"Activate")+" Cashier? ",1)])]),Os("p",dB,[Is(" Are you sure you want to "+te((null==(j=x.value)?void 0:j.is_active)?"deactivate":"activate")+" ",1),Os("strong",null,te(null==(L=x.value)?void 0:L.name),1),t[36]||(t[36]=Is("? ",-1)),(null==(F=x.value)?void 0:F.is_active)?(bs(),ks("span",hB," They will not be able to log in or make sales. ")):Ls("",!0)]),Os("div",pB,[Os("button",{onClick:M,class:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium"}," Cancel "),Os("button",{onClick:T,disabled:w.value,class:Y(["flex-1 px-4 py-3 text-white rounded-lg transition font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",(null==(N=x.value)?void 0:N.is_active)?"bg-danger hover:bg-danger":"bg-success hover:bg-success"])},[w.value?(bs(),ks("i",mB)):Ls("",!0),Is(" "+te(w.value?"Processing...":"Confirm"),1)],10,fB)])])])])):Ls("",!0)])}}},vB={class:"space-y-6"},yB={class:"flex items-start gap-3"},bB={class:"flex-shrink-0"},xB={class:"flex-1 min-w-0"},wB={class:"bg-white rounded-lg shadow-sm border border-gray-100 p-6"},_B={class:"flex items-start gap-4"},kB={class:"flex-1 min-w-0"},CB={class:"text-xl md:text-2xl font-bold text-gray-800 truncate"},SB={class:"text-sm text-gray-600 mt-1"},EB={class:"flex flex-wrap gap-2 mt-3"},PB={class:"inline-flex items-center gap-1.5 px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full"},AB={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},OB={class:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-100 p-6"},DB={class:"flex items-center justify-between mb-6"},MB={class:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg"},TB={class:"flex-1"},IB={key:1,class:"font-semibold text-gray-800"},jB={class:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg"},LB={class:"flex-1"},FB={key:1,class:"font-semibold text-gray-800"},NB={class:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg"},RB={class:"flex-1"},BB={key:1,class:"font-semibold text-gray-800"},VB={class:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg"},zB={class:"flex-1"},UB={class:"font-semibold text-gray-800"},qB={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},HB={class:"text-sm text-red-600"},WB={key:1,class:"flex gap-3 pt-4"},$B=["disabled"],KB={key:0,class:"fas fa-spinner fa-spin"},YB={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},GB={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},XB={class:"text-sm text-red-600"},QB={class:"flex gap-3 pt-4"},JB=["disabled"],ZB={key:0,class:"fas fa-spinner fa-spin"},eV={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},tV={class:"p-6"},nV={class:"flex gap-3"},aV={__name:"profile",setup(e){Ll();const t=mp(),n=nr(()=>t.user),a="https://pos-dev.xash.co.zw/api",s=At({show:!1,type:"success",title:"",message:""});function r(e,t,n){s.value={show:!0,type:e,title:t,message:n},setTimeout(()=>{s.value.show=!1},4e3)}const i=At(!1),o=At(!1),l=At(""),c=At({name:"",email:"",phone_number:""});function u(){var e,t,a;c.value={name:(null==(e=n.value)?void 0:e.name)||"",email:(null==(t=n.value)?void 0:t.email)||"",phone_number:(null==(a=n.value)?void 0:a.phone_number)||""},l.value="",i.value=!0}function d(){i.value=!1,l.value=""}async function h(){if(c.value.name&&c.value.email&&c.value.phone_number){o.value=!0,l.value="";try{const e=await zh.put("".concat(a,"/pos/me"),c.value);t.user=e.user,localStorage.setItem("user",JSON.stringify(e.user)),i.value=!1,r("success","Success","Profile updated successfully")}catch(e){console.error("Failed to update profile:",e),l.value=e.message||"Failed to update profile. Please try again.",r("error","Error","Failed to update profile")}finally{o.value=!1}}else l.value="All fields are required"}const p=At(!1),f=At({current_pin:"",new_pin:"",new_pin_confirmation:""}),m=At(""),g=At(!1);function v(){f.value={current_pin:"",new_pin:"",new_pin_confirmation:""},m.value="",p.value=!0}function y(){p.value=!1,f.value={current_pin:"",new_pin:"",new_pin_confirmation:""},m.value=""}async function b(){if(f.value.current_pin&&f.value.new_pin&&f.value.new_pin_confirmation)if(4===f.value.new_pin.length&&/^[0-9]{4}$/.test(f.value.new_pin))if(f.value.new_pin===f.value.new_pin_confirmation){g.value=!0,m.value="";try{await zh.post("".concat(a,"/pos/pin/change"),f.value),y(),r("success","Success","PIN changed successfully")}catch(e){console.error("Failed to change PIN:",e),m.value=e.message||"Failed to change PIN. Please try again.",r("error","Error","Failed to change PIN")}finally{g.value=!1}}else m.value="New PIN and confirmation do not match";else m.value="New PIN must be exactly 4 digits";else m.value="All fields are required"}const x=At(!1);function w(){x.value=!0}async function _(){x.value=!1,await t.logout()}return(e,t)=>{var a,r,k,C,S,E,P,A,O;return bs(),ks(ps,null,[Os("div",vB,[Ds(gr,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:un(()=>[s.value.show?(bs(),ks("div",{key:0,class:Y(["fixed top-4 right-4 z-[60] max-w-sm w-full rounded-lg shadow-lg p-4","success"===s.value.type?"bg-success-light border border-success":"bg-danger-light border border-danger"])},[Os("div",yB,[Os("div",bB,[Os("i",{class:Y(["success"===s.value.type?"fas fa-check-circle text-success":"fas fa-exclamation-circle text-red-500","text-lg"])},null,2)]),Os("div",xB,[Os("p",{class:Y(["text-sm font-medium","success"===s.value.type?"text-success":"text-red-800"])},te(s.value.title),3),Os("p",{class:Y(["text-sm mt-1","success"===s.value.type?"text-success":"text-red-600"])},te(s.value.message),3)]),Os("button",{onClick:t[0]||(t[0]=e=>s.value.show=!1),class:Y(["flex-shrink-0","success"===s.value.type?"text-success hover:opacity-70":"text-red-400 hover:text-red-600"])},[...t[9]||(t[9]=[Os("i",{class:"fas fa-times"},null,-1)])],2)])],2)):Ls("",!0)]),_:1}),Os("div",wB,[Os("div",_B,[t[12]||(t[12]=Os("div",{class:"w-16 h-16 md:w-20 md:h-20 bg-primary-light rounded-xl flex items-center justify-center flex-shrink-0"},[Os("i",{class:"fas fa-user-circle text-primary text-3xl md:text-4xl"})],-1)),Os("div",kB,[Os("h1",CB,te((null==(a=n.value)?void 0:a.name)||"Manager"),1),Os("p",SB,te(null==(r=n.value)?void 0:r.email),1),Os("div",EB,[t[11]||(t[11]=Os("span",{class:"inline-flex items-center gap-1.5 px-3 py-1 bg-primary-light text-primary text-xs font-medium rounded-full"},[Os("i",{class:"fas fa-user-tie"}),Is(" Manager ")],-1)),Os("span",PB,[t[10]||(t[10]=Os("i",{class:"fas fa-building"},null,-1)),Is(" "+te((null==(C=null==(k=n.value)?void 0:k.branch)?void 0:C.name)||"No Branch"),1)])])])])]),Os("div",AB,[Os("div",OB,[Os("div",DB,[t[14]||(t[14]=Os("div",{class:"flex items-center gap-3"},[Os("div",{class:"w-10 h-10 bg-primary-light rounded-lg flex items-center justify-center"},[Os("i",{class:"fas fa-id-card text-primary"})]),Os("h3",{class:"text-lg font-semibold text-gray-800"},"Account Information")],-1)),i.value?Ls("",!0):(bs(),ks("button",{key:0,onClick:u,class:"px-4 py-2 text-sm font-medium bg-primary text-white rounded-lg hover:bg-primary-dark transition"},[...t[13]||(t[13]=[Os("i",{class:"fas fa-edit mr-1"},null,-1),Is("Edit ",-1)])]))]),Os("form",{onSubmit:hi(h,["prevent"]),class:"space-y-4"},[Os("div",MB,[t[16]||(t[16]=Os("div",{class:"w-10 h-10 bg-white rounded-lg flex items-center justify-center border border-gray-200"},[Os("i",{class:"fas fa-user text-primary"})],-1)),Os("div",TB,[t[15]||(t[15]=Os("p",{class:"text-xs text-gray-500 uppercase font-medium mb-1"},"Full Name",-1)),i.value?dn((bs(),ks("input",{key:0,"onUpdate:modelValue":t[1]||(t[1]=e=>c.value.name=e),type:"text",required:"",class:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all font-semibold"},null,512)),[[ei,c.value.name]]):(bs(),ks("p",IB,te((null==(S=n.value)?void 0:S.name)||"Not set"),1))])]),Os("div",jB,[t[18]||(t[18]=Os("div",{class:"w-10 h-10 bg-white rounded-lg flex items-center justify-center border border-gray-200"},[Os("i",{class:"fas fa-envelope text-primary"})],-1)),Os("div",LB,[t[17]||(t[17]=Os("p",{class:"text-xs text-gray-500 uppercase font-medium mb-1"},"Email Address",-1)),i.value?dn((bs(),ks("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=e=>c.value.email=e),type:"email",required:"",class:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all font-semibold"},null,512)),[[ei,c.value.email]]):(bs(),ks("p",FB,te((null==(E=n.value)?void 0:E.email)||"Not set"),1))])]),Os("div",NB,[t[20]||(t[20]=Os("div",{class:"w-10 h-10 bg-white rounded-lg flex items-center justify-center border border-gray-200"},[Os("i",{class:"fas fa-phone text-primary"})],-1)),Os("div",RB,[t[19]||(t[19]=Os("p",{class:"text-xs text-gray-500 uppercase font-medium mb-1"},"Phone Number",-1)),i.value?dn((bs(),ks("input",{key:0,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value.phone_number=e),type:"tel",required:"",class:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:border-primary transition-all font-semibold"},null,512)),[[ei,c.value.phone_number]]):(bs(),ks("p",BB,te((null==(P=n.value)?void 0:P.phone_number)||"Not set"),1))])]),Os("div",VB,[t[22]||(t[22]=Os("div",{class:"w-10 h-10 bg-white rounded-lg flex items-center justify-center border border-gray-200"},[Os("i",{class:"fas fa-building text-primary"})],-1)),Os("div",zB,[t[21]||(t[21]=Os("p",{class:"text-xs text-gray-500 uppercase font-medium mb-1"},"Branch Assignment",-1)),Os("p",UB,te((null==(O=null==(A=n.value)?void 0:A.branch)?void 0:O.name)||"No branch assigned"),1)])]),l.value?(bs(),ks("div",qB,[Os("p",HB,te(l.value),1)])):Ls("",!0),i.value?(bs(),ks("div",WB,[Os("button",{type:"button",onClick:d,class:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium"}," Cancel "),Os("button",{type:"submit",disabled:o.value,class:"flex-1 px-4 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"},[o.value?(bs(),ks("i",KB)):Ls("",!0),Is(" "+te(o.value?"Saving...":"Save Changes"),1)],8,$B)])):Ls("",!0)],32)]),Os("div",{class:"space-y-6"},[Os("div",{class:"bg-white rounded-lg shadow-sm border border-gray-100 p-6"},[t[24]||(t[24]=Os("div",{class:"flex items-center gap-3 mb-4"},[Os("div",{class:"w-10 h-10 bg-primary-light rounded-lg flex items-center justify-center"},[Os("i",{class:"fas fa-shield-alt text-primary"})]),Os("h3",{class:"text-lg font-semibold text-gray-800"},"Security")],-1)),Os("div",{class:"space-y-3"},[Os("button",{onClick:v,class:"w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition"},[...t[23]||(t[23]=[js('<div class="flex items-center gap-3"><div class="w-8 h-8 bg-primary-light rounded-lg flex items-center justify-center"><i class="fas fa-key text-primary text-sm"></i></div><div class="text-left"><p class="text-sm font-medium text-gray-800">Change PIN</p><p class="text-xs text-gray-500">Update login PIN</p></div></div><i class="fas fa-chevron-right text-gray-400 text-sm"></i>',2)])])])]),Os("div",{class:"bg-white rounded-lg shadow-sm border border-red-100 p-6"},[t[26]||(t[26]=Os("div",{class:"flex items-center gap-3 mb-4"},[Os("div",{class:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center"},[Os("i",{class:"fas fa-power-off text-red-600"})]),Os("h3",{class:"text-lg font-semibold text-red-600"},"Sign Out")],-1)),Os("button",{onClick:w,class:"w-full flex items-center justify-center gap-2 p-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium"},[...t[25]||(t[25]=[Os("i",{class:"fas fa-sign-out-alt"},null,-1),Is(" Logout ",-1)])])])])])]),p.value?(bs(),ks("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:hi(y,["self"])},[Os("div",YB,[Os("div",{class:"p-6 border-b border-gray-100"},[Os("div",{class:"flex items-center justify-between"},[t[28]||(t[28]=js('<div class="flex items-center gap-3"><div class="w-12 h-12 bg-primary-light rounded-lg flex items-center justify-center"><i class="fas fa-key text-primary text-xl"></i></div><div><h2 class="text-xl font-bold text-gray-800">Change PIN</h2><p class="text-sm text-gray-500">Update your login PIN</p></div></div>',1)),Os("button",{onClick:y,class:"text-gray-400 hover:text-gray-600 p-2"},[...t[27]||(t[27]=[Os("i",{class:"fas fa-times text-xl"},null,-1)])])])]),Os("form",{onSubmit:hi(b,["prevent"]),class:"p-6 space-y-4"},[Os("div",null,[t[29]||(t[29]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Current PIN *",-1)),dn(Os("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>f.value.current_pin=e),type:"password",maxlength:"4",pattern:"[0-9]{4}",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all text-center text-lg font-semibold tracking-widest",placeholder:"****"},null,512),[[ei,f.value.current_pin]])]),Os("div",null,[t[30]||(t[30]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"New PIN *",-1)),dn(Os("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>f.value.new_pin=e),type:"password",maxlength:"4",pattern:"[0-9]{4}",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all text-center text-lg font-semibold tracking-widest",placeholder:"****"},null,512),[[ei,f.value.new_pin]]),t[31]||(t[31]=Os("p",{class:"text-xs text-gray-500 mt-1"},"Must be 4 digits",-1))]),Os("div",null,[t[32]||(t[32]=Os("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Confirm New PIN *",-1)),dn(Os("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>f.value.new_pin_confirmation=e),type:"password",maxlength:"4",pattern:"[0-9]{4}",required:"",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-primary focus:bg-white focus:border-primary transition-all text-center text-lg font-semibold tracking-widest",placeholder:"****"},null,512),[[ei,f.value.new_pin_confirmation]])]),m.value?(bs(),ks("div",GB,[Os("p",XB,te(m.value),1)])):Ls("",!0),Os("div",QB,[Os("button",{type:"button",onClick:y,class:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium"}," Cancel "),Os("button",{type:"submit",disabled:g.value,class:"flex-1 px-4 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"},[g.value?(bs(),ks("i",ZB)):Ls("",!0),Is(" "+te(g.value?"Updating...":"Update PIN"),1)],8,JB)])],32)])])):Ls("",!0),x.value?(bs(),ks("div",{key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[8]||(t[8]=hi(e=>x.value=!1,["self"]))},[Os("div",eV,[Os("div",tV,[t[34]||(t[34]=js('<div class="flex items-center gap-3 mb-4"><div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"><i class="fas fa-sign-out-alt text-red-600 text-xl"></i></div><div><h2 class="text-xl font-bold text-gray-800">Confirm Logout</h2></div></div><p class="text-gray-600 mb-6"> Are you sure you want to logout? You will need to login again to access your account. </p>',2)),Os("div",nV,[Os("button",{onClick:t[7]||(t[7]=e=>x.value=!1),class:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium"}," Cancel "),Os("button",{onClick:_,class:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium flex items-center justify-center gap-2"},[...t[33]||(t[33]=[Os("i",{class:"fas fa-sign-out-alt"},null,-1),Is(" Logout ",-1)])])])])])])):Ls("",!0)],64)}}},sV=function(e){const t=_l(e.routes,e),n=e.parseQuery||Go,a=e.stringifyQuery||Xo,s=e.history,r=al(),i=al(),o=al(),l=Ot(jo);let c=jo;eo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ao.bind(null,e=>""+e),d=ao.bind(null,So),h=ao.bind(null,Eo);function p(e,r){if(r=no({},r||l.value),"string"==typeof e){const a=Ao(n,e,r.path),i=t.resolve({path:a.path},r),o=s.createHref(a.fullPath);return no(a,i,{params:h(i.params),hash:Eo(a.hash),redirectedFrom:void 0,href:o})}let i;if(null!=e.path)i=no({},e,{path:Ao(n,e.path,r.path).path});else{const t=no({},e.params);for(const e in t)null==t[e]&&delete t[e];i=no({},e,{params:d(t)}),r.params=d(r.params)}const o=t.resolve(i,r),c=e.hash||"";o.params=u(h(o.params));const p=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(a,no({},e,{hash:(f=c,_o(f).replace(yo,"{").replace(xo,"}").replace(go,"^")),path:o.path}));var f;const m=s.createHref(p);return no({fullPath:p,hash:c,query:a===Xo?Qo(e.query):e.query||{}},o,{redirectedFrom:void 0,href:m})}function f(e){return"string"==typeof e?Ao(n,e,l.value.path):no({},e)}function m(e,t){if(c!==e)return Ko(Wo.NAVIGATION_CANCELLED,{from:t,to:e})}function g(e){return y(e)}function v(e,t){const n=e.matched[e.matched.length-1];if(n&&n.redirect){const{redirect:a}=n;let s="function"==typeof a?a(e,t):a;return"string"==typeof s&&(s=s.includes("?")||s.includes("#")?s=f(s):{path:s},s.params={}),no({query:e.query,hash:e.hash,params:null!=s.path?{}:e.params},s)}}function y(e,t){const n=c=p(e),s=l.value,r=e.state,i=e.force,o=!0===e.replace,u=v(n,s);if(u)return y(no(f(u),{state:"object"==typeof u?no({},r,u.state):r,force:i,replace:o}),t||n);const d=n;let h;return d.redirectedFrom=t,!i&&function(e,t,n){const a=t.matched.length-1,s=n.matched.length-1;return a>-1&&a===s&&Do(t.matched[a],n.matched[s])&&Mo(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(a,s,n)&&(h=Ko(Wo.NAVIGATION_DUPLICATED,{to:d,from:s}),M(s,s,!0,!1)),(h?Promise.resolve(h):w(d,s)).catch(e=>Yo(e)?Yo(e,Wo.NAVIGATION_GUARD_REDIRECT)?e:D(e):O(e,d,s)).then(e=>{if(e){if(Yo(e,Wo.NAVIGATION_GUARD_REDIRECT))return y(no({replace:o},f(e.to),{state:"object"==typeof e.to?no({},r,e.to.state):r,force:i}),t||d)}else e=k(d,s,!0,o,r);return _(d,s,e),e})}function b(e,t){const n=m(e,t);return n?Promise.reject(n):Promise.resolve()}function x(e){const t=j.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function w(e,t){let n;const[a,s,o]=function(e,t){const n=[],a=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const r=t.matched[i];r&&(e.matched.find(e=>Do(e,r))?a.push(r):n.push(r));const o=e.matched[i];o&&(t.matched.find(e=>Do(e,o))||s.push(o))}return[n,a,s]}(e,t);n=rl(a.reverse(),"beforeRouteLeave",e,t);for(const r of a)r.leaveGuards.forEach(a=>{n.push(sl(a,e,t))});const l=b.bind(null,e,t);return n.push(l),F(n).then(()=>{n=[];for(const a of r.list())n.push(sl(a,e,t));return n.push(l),F(n)}).then(()=>{n=rl(s,"beforeRouteUpdate",e,t);for(const a of s)a.updateGuards.forEach(a=>{n.push(sl(a,e,t))});return n.push(l),F(n)}).then(()=>{n=[];for(const a of o)if(a.beforeEnter)if(ro(a.beforeEnter))for(const s of a.beforeEnter)n.push(sl(s,e,t));else n.push(sl(a.beforeEnter,e,t));return n.push(l),F(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=rl(o,"beforeRouteEnter",e,t,x),n.push(l),F(n))).then(()=>{n=[];for(const a of i.list())n.push(sl(a,e,t));return n.push(l),F(n)}).catch(e=>Yo(e,Wo.NAVIGATION_CANCELLED)?e:Promise.reject(e))}function _(e,t,n){o.list().forEach(a=>x(()=>a(e,t,n)))}function k(e,t,n,a,r){const i=m(e,t);if(i)return i;const o=t===jo,c=eo?history.state:{};n&&(a||o?s.replace(e.fullPath,no({scroll:o&&c&&c.scroll},r)):s.push(e.fullPath,r)),l.value=e,M(e,t,n,o),D()}let C;function S(){C||(C=s.listen((e,t,n)=>{if(!L.listening)return;const a=p(e),r=v(a,L.currentRoute.value);if(r)return void y(no(r,{replace:!0,force:!0}),a).catch(so);c=a;const i=l.value;var o,u;eo&&(o=Uo(i.fullPath,n.delta),u=Vo(),qo.set(o,u)),w(a,i).catch(e=>Yo(e,Wo.NAVIGATION_ABORTED|Wo.NAVIGATION_CANCELLED)?e:Yo(e,Wo.NAVIGATION_GUARD_REDIRECT)?(y(no(f(e.to),{force:!0}),a).then(e=>{Yo(e,Wo.NAVIGATION_ABORTED|Wo.NAVIGATION_DUPLICATED)&&!n.delta&&n.type===Lo.pop&&s.go(-1,!1)}).catch(so),Promise.reject()):(n.delta&&s.go(-n.delta,!1),O(e,a,i))).then(e=>{(e=e||k(a,i,!1))&&(n.delta&&!Yo(e,Wo.NAVIGATION_CANCELLED)?s.go(-n.delta,!1):n.type===Lo.pop&&Yo(e,Wo.NAVIGATION_ABORTED|Wo.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),_(a,i,e)}).catch(so)}))}let E,P=al(),A=al();function O(e,t,n){D(e);const a=A.list();return a.length?a.forEach(a=>a(e,t,n)):console.error(e),Promise.reject(e)}function D(e){return E||(E=!e,S(),P.list().forEach(([t,n])=>e?n(e):t()),P.reset()),e}function M(t,n,a,s){const{scrollBehavior:r}=e;if(!eo||!r)return Promise.resolve();const i=!a&&function(e){const t=qo.get(e);return qo.delete(e),t}(Uo(t.fullPath,0))||(s||!a)&&history.state&&history.state.scroll||null;return Zt().then(()=>r(t,n,i)).then(e=>e&&zo(e)).catch(e=>O(e,t,n))}const T=e=>s.go(e);let I;const j=new Set,L={currentRoute:l,listening:!0,addRoute:function(e,n){let a,s;return Ho(e)?(a=t.getRecordMatcher(e),s=n):s=e,t.addRoute(s,a)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map(e=>e.record)},resolve:p,options:e,push:g,replace:function(e){return g(no(f(e),{replace:!0}))},go:T,back:()=>T(-1),forward:()=>T(1),beforeEach:r.add,beforeResolve:i.add,afterEach:o.add,onError:A.add,isReady:function(){return E&&l.value!==jo?Promise.resolve():new Promise((e,t)=>{P.add([e,t])})},install(e){e.component("RouterLink",Dl),e.component("RouterView",jl),e.config.globalProperties.$router=L,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Tt(l)}),eo&&!I&&l.value===jo&&(I=!0,g(s.location).catch(e=>{}));const t={};for(const a in jo)Object.defineProperty(t,a,{get:()=>l.value[a],enumerable:!0});e.provide(el,L),e.provide(tl,gt(t)),e.provide(nl,l);const n=e.unmount;j.add(e),e.unmount=function(){j.delete(e),j.size<1&&(c=jo,C&&C(),C=null,l.value=jo,I=!1,E=!1),n()}}};function F(e){return e.reduce((e,t)=>e.then(()=>x(t)),Promise.resolve())}return L}({history:function(e){const t=ll(e=No(e)),n=function(e,t,n,a){let s=[],r=[],i=null;const o=({state:r})=>{const o=il(e,location),l=n.value,c=t.value;let u=0;if(r){if(n.value=o,t.value=r,i&&i===l)return void(i=null);u=c?r.position-c.position:0}else a(o);s.forEach(e=>{e(n.value,l,{delta:u,type:Lo.pop,direction:u?u>0?Fo.forward:Fo.back:Fo.unknown})})};function l(){if("hidden"===document.visibilityState){const{history:e}=window;if(!e.state)return;e.replaceState(no({},e.state,{scroll:Vo()}),"")}}return window.addEventListener("popstate",o),window.addEventListener("pagehide",l),document.addEventListener("visibilitychange",l),{pauseListeners:function(){i=n.value},listen:function(e){s.push(e);const t=()=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)};return r.push(t),t},destroy:function(){for(const e of r)e();r=[],window.removeEventListener("popstate",o),window.removeEventListener("pagehide",l),document.removeEventListener("visibilitychange",l)}}}(e,t.state,t.location,t.replace),a=no({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:Bo.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}("/"),routes:[{path:"/",name:"welcome",component:tf,meta:{requiresAuth:!1}},{path:"/auth",component:Sp,children:[{path:"login",name:"login",component:wf,meta:{requiresAuth:!1}}]},{path:"/login",redirect:"/auth/login"},{path:"/pos",meta:{requiresAuth:!0,role:"cashier"},children:[{path:"",redirect:"/pos/dashboard"},{path:"dashboard",name:"pos-dashboard",component:Lm},{path:"sell",name:"pos-sell",component:fx},{path:"sales",name:"pos-sales",component:yw},{path:"products",name:"pos-products",component:Bw},{path:"profile",name:"pos-profile",component:p_}]},{path:"/manager",component:Wp,meta:{requiresAuth:!0,role:"manager"},children:[{path:"",redirect:"/manager/dashboard"},{path:"dashboard",name:"manager-dashboard",component:Pk},{path:"sales",name:"manager-sales",component:sS},{path:"products",name:"manager-products",component:EP},{path:"products/:id",name:"manager-product-detail",component:wA},{path:"inventory",name:"manager-inventory",component:cD},{path:"reports",redirect:"/manager/reports/sales-summary"},{path:"reports/sales-summary",name:"manager-reports-sales-summary",component:dR},{path:"cashiers",name:"manager-cashiers",component:gB},{path:"profile",name:"manager-profile",component:aV}]},{path:"/dashboard",redirect:e=>{var t;return"manager"===(null==(t=mp().user)?void 0:t.role)?"/manager/dashboard":"/pos/dashboard"}},{path:"/:pathMatch(.*)*",redirect:"/"}]});sV.beforeEach(async(e,t,n)=>{if(Fh().clear(),e.meta.requiresAuth){const t=mp();if(!t.token||!t.user)return t.returnUrl=e.fullPath,n("/auth/login");if(e.meta.role&&t.user.role!==e.meta.role){if("manager"===t.user.role)return n("/manager/dashboard");if("cashier"===t.user.role)return n("/pos/dashboard")}}if("login"===e.name||"welcome"===e.name){const e=mp();if(e.token&&e.user)return"manager"===e.user.role?n("/manager/dashboard"):n("/pos/dashboard")}n()});const rV=function(){const e=oe(!0),t=e.run(()=>At({}));let n=[],a=[];const s=Ct({install(e){Li(s),s._a=e,e.provide(Fi,s),e.config.globalProperties.$pinia=s,a.forEach(e=>n.push(e)),a=[]},use(e){return this._a?n.push(e):a.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}();((...e)=>{const t=(gi||(gi=Wa(mi))).createApp(...e),{mount:n}=t;return t.mount=e=>{const a=function(e){if(w(e)){return document.querySelector(e)}return e}(e);if(!a)return;const s=t._component;x(s)||s.render||s.template||(s.template=a.innerHTML),1===a.nodeType&&(a.textContent="");const r=n(a,!1,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),r},t})(Ii).use(sV).use(rV).mount("#app");const iV=mp(rV),oV=vp(rV),lV=_p(rV),cV=kp(rV);(async()=>{try{await async function(){try{return await up.open(),!0}catch(e){return!1}}(),await oV.initialize();const e=iV.user;e&&"manager"!==e.role&&(lV.getProducts().catch(()=>{}),lV.getCategories().catch(()=>{}),cV.startAutoSync(),await cV.getPendingSales())}catch(e){}iV.checkAuth()||await sV.push("/auth/login")})();export{mg as B,wi as C,bi as E,bg as L,Si as W,s as __vite_legacy_guard};
