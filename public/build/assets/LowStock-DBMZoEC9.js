import{r as w,c as k,w as v,a as t,b as S,d as l,o as r,F as i,e as c,t as a,f as L,g as d,h,u as I,l as B,n as f,j as C}from"./app-C6lt1uQR.js";import{_ as F}from"./AdminLayout-CmvtP4AP.js";import"./NavLink-CZ7tcFJn.js";import"./useFlashMessages-DqH0SBLZ.js";const M={class:"space-y-6"},A={class:"card p-6"},T={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},j={class:"md:col-span-3"},H=["value"],N={class:"card overflow-hidden"},V={class:"overflow-x-auto"},q={class:"w-full"},D={class:"bg-white dark:bg-slate-900 divide-y divide-gray-200 dark:divide-slate-700"},O={key:0},P={class:"px-6 py-4"},U={class:"font-medium text-gray-900 dark:text-white"},z={class:"text-sm text-gray-500 dark:text-gray-400"},E={class:"px-6 py-4"},G={class:"px-2.5 py-1 text-xs font-medium bg-gray-100 dark:bg-slate-700 rounded"},K={class:"px-6 py-4 text-right"},R={class:"text-lg font-semibold text-orange-600 dark:text-orange-400"},$={class:"px-6 py-4 text-right"},J={class:"text-sm text-gray-600 dark:text-gray-400"},Q={class:"px-6 py-4 text-center"},W={class:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},X={key:0,class:"px-6 py-4 border-t border-gray-200 dark:border-slate-700"},Y={class:"flex items-center justify-between"},Z={class:"text-sm text-gray-700 dark:text-gray-300"},tt={class:"font-medium"},et={class:"font-medium"},st={class:"font-medium"},rt={class:"flex gap-2"},at=["innerHTML"],xt={__name:"LowStock",props:{lowStockItems:Object,branches:Array,filters:Object},setup(o){var g;const n=w({branch_id:((g=o.filters)==null?void 0:g.branch_id)||""}),x=()=>{C.get(route("admin.inventory.low-stock"),n,{preserveState:!0,preserveScroll:!0})},_=()=>{n.branch_id="",x()};return(lt,e)=>(r(),k(F,{"page-title":"Low Stock Alerts"},{default:v(()=>[t("div",M,[e[10]||(e[10]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Low Stock Alerts"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Products below reorder level")],-1)),t("div",A,[t("div",T,[t("div",j,[e[2]||(e[2]=t("label",{class:"label"},"Branch",-1)),S(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.branch_id=s),class:"input-field",onChange:x},[e[1]||(e[1]=t("option",{value:""},"All Branches",-1)),(r(!0),l(i,null,c(o.branches,s=>(r(),l("option",{key:s.id,value:s.id},a(s.name),9,H))),128))],544),[[L,n.branch_id]])]),t("div",{class:"flex items-end"},[t("button",{onClick:_,class:"btn-secondary w-full"},[...e[3]||(e[3]=[t("i",{class:"fas fa-times mr-2"},null,-1),d("Clear Filter ",-1)])])])])]),t("div",N,[t("div",V,[t("table",q,[e[5]||(e[5]=t("thead",{class:"bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Product"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-40"},"Branch"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-32"},"Current"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-32"},"Reorder Level"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-32"},"Shortage")])],-1)),t("tbody",D,[o.lowStockItems.data.length===0?(r(),l("tr",O,[...e[4]||(e[4]=[t("td",{colspan:"5",class:"px-6 py-12 text-center"},[t("i",{class:"fas fa-check-circle text-6xl text-emerald-500 mb-4"}),t("p",{class:"text-lg font-medium text-gray-900 dark:text-white mb-1"},"All Stock Levels Good!"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"No products are below reorder level")],-1)])])):h("",!0),(r(!0),l(i,null,c(o.lowStockItems.data,s=>{var p,u,y,m,b;return r(),l("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50"},[t("td",P,[t("p",U,a((p=s.product)==null?void 0:p.name),1),t("p",z,"SKU: "+a((u=s.product)==null?void 0:u.sku),1)]),t("td",E,[t("span",G,a((y=s.branch)==null?void 0:y.name),1)]),t("td",K,[t("span",R,a(s.quantity),1)]),t("td",$,[t("span",J,a(((m=s.product)==null?void 0:m.reorder_level)||0),1)]),t("td",Q,[t("span",W," -"+a(Math.max(0,(((b=s.product)==null?void 0:b.reorder_level)||0)-s.quantity)),1)])])}),128))])])]),o.lowStockItems.data.length>0?(r(),l("div",X,[t("div",Y,[t("p",Z,[e[6]||(e[6]=d(" Showing ",-1)),t("span",tt,a(o.lowStockItems.from),1),e[7]||(e[7]=d(" to ",-1)),t("span",et,a(o.lowStockItems.to),1),e[8]||(e[8]=d(" of ",-1)),t("span",st,a(o.lowStockItems.total),1),e[9]||(e[9]=d(" results ",-1))]),t("div",rt,[(r(!0),l(i,null,c(o.lowStockItems.links,s=>(r(),l(i,{key:s.label},[s.url?(r(),k(I(B),{key:0,href:s.url,class:f(["px-3 py-1 text-sm rounded-lg border",s.active?"bg-emerald-600 text-white border-emerald-600":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(r(),l("span",{key:1,class:f(["px-3 py-1 text-sm rounded-lg border opacity-50 cursor-not-allowed bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600"]),innerHTML:s.label},null,8,at))],64))),128))])])])):h("",!0)])])]),_:1}))}};export{xt as default};
