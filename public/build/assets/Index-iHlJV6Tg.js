import{r as R,c as B,w as f,a as t,i as k,u as b,l as m,g as n,b as _,v as L,d as r,o as a,F as c,e as p,t as l,f as M,h as u,n as x,j as F}from"./app-xtd10Mqh.js";import{_ as H}from"./AdminLayout-CiSsArE9.js";import{c as $}from"./useFlashMessages-uyAZyciG.js";import"./NavLink-DvhtSBKV.js";const z={class:"space-y-6"},E={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},O={class:"card p-6"},Y={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},q={class:"lg:col-span-2"},G={class:"relative"},J=["value"],K={class:"lg:hidden space-y-4"},P={class:"flex items-start justify-between mb-4"},Q={class:"flex items-center gap-3"},W={class:"w-12 h-12 rounded-full bg-gradient-to-br from-brand-400 via-brand-500 to-brand-500 flex items-center justify-center text-white font-bold text-lg shadow-lg"},X={class:"font-semibold text-gray-900 dark:text-white"},Z={class:"text-sm text-gray-500 dark:text-gray-400"},tt={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-0.5"},et={class:"space-y-2 mb-4"},st={class:"flex items-center gap-2"},at={key:0,class:"flex items-start gap-2"},rt={class:"flex flex-wrap gap-1"},lt={class:"flex gap-2 pt-3 border-t border-gray-200 dark:border-slate-700"},nt=["onClick"],dt={key:0,class:"card p-12 text-center"},ot={class:"hidden lg:block card overflow-hidden"},it={class:"overflow-x-auto"},ut={class:"w-full"},xt={class:"bg-white dark:bg-slate-900 divide-y divide-gray-200 dark:divide-slate-700"},ct={key:0},gt={colspan:"5",class:"px-6 py-12 text-center"},ft={class:"flex flex-col items-center justify-center text-gray-500 dark:text-gray-400"},bt={class:"px-6 py-4"},mt={class:"flex items-center gap-3"},pt={class:"w-10 h-10 rounded-full bg-gradient-to-br from-brand-400 via-brand-500 to-brand-500 flex items-center justify-center text-white font-bold shadow-lg ring-2 ring-white dark:ring-slate-900"},yt={class:"font-medium text-gray-900 dark:text-white"},kt={class:"text-sm text-gray-500 dark:text-gray-400"},ht={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-0.5"},vt={class:"px-6 py-4"},wt={class:"px-6 py-4"},_t={class:"flex flex-wrap gap-1"},jt={key:0,class:"px-2 py-1 text-xs bg-brand-100 dark:bg-brand-900/30 text-brand-700 dark:text-brand-400 rounded font-medium"},At={key:1,class:"text-gray-400 text-sm italic"},Ct={class:"px-6 py-4"},Ut={class:"px-6 py-4"},Tt={class:"flex items-center justify-center gap-2"},St=["onClick"],Nt={key:0,class:"px-6 py-4 border-t border-gray-200 dark:border-slate-700"},Bt={class:"flex items-center justify-between"},Mt={class:"text-sm text-gray-700 dark:text-gray-300"},Ft={class:"font-medium"},Vt={class:"font-medium"},Dt={class:"font-medium"},It={class:"flex gap-2"},Rt=["innerHTML"],Et={__name:"Index",props:{users:Object,branches:Array,filters:Object,roles:Array},setup(o){var U,T,S;const v=o,i=R({search:((U=v.filters)==null?void 0:U.search)||"",role:((T=v.filters)==null?void 0:T.role)||"",status:((S=v.filters)==null?void 0:S.status)||""});let j=null;const V=()=>{clearTimeout(j),j=setTimeout(()=>{h()},500)},h=()=>{F.get(route("admin.users.index"),i,{preserveState:!0,preserveScroll:!0})},D=()=>{i.search="",i.role="",i.status="",h()},A=d=>({admin:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",manager:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",cashier:"bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-400",stockist:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"})[d]||"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",I=d=>({admin:"fas fa-user-shield",manager:"fas fa-user-tie",cashier:"fas fa-cash-register",stockist:"fas fa-boxes"})[d]||"fas fa-user",C=async d=>{(await $({title:"Delete User?",text:`Are you sure you want to delete ${d.name}? This action cannot be undone.`,icon:"warning",confirmButtonText:"Yes, delete it!"})).isConfirmed&&F.delete(route("admin.users.destroy",d.id),{preserveScroll:!0})};return(d,e)=>(a(),B(H,{"page-title":"Users"},{default:f(()=>[t("div",z,[t("div",E,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Users Management"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage staff members and their permissions")],-1)),k(b(m),{href:d.route("admin.users.create"),class:"btn-primary"},{default:f(()=>[...e[3]||(e[3]=[t("i",{class:"fas fa-user-plus mr-2"},null,-1),n("Add New User ",-1)])]),_:1},8,["href"])]),t("div",O,[t("div",Y,[t("div",q,[e[6]||(e[6]=t("label",{class:"label"},"Search",-1)),t("div",G,[e[5]||(e[5]=t("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.search=s),type:"text",class:"input-field pl-10",placeholder:"Search by name, email, or phone...",onInput:V},null,544),[[L,i.search]])])]),t("div",null,[e[8]||(e[8]=t("label",{class:"label"},"Role",-1)),_(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.role=s),class:"input-field",onChange:h},[e[7]||(e[7]=t("option",{value:""},"All Roles",-1)),(a(!0),r(c,null,p(o.roles,s=>(a(),r("option",{key:s.value,value:s.value},l(s.label),9,J))),128))],544),[[M,i.role]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"label"},"Status",-1)),_(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>i.status=s),class:"input-field",onChange:h},[...e[9]||(e[9]=[t("option",{value:""},"All Status",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],544),[[M,i.status]])]),t("div",{class:"lg:col-span-4 flex justify-end gap-2"},[t("button",{onClick:D,class:"btn-secondary"},[...e[11]||(e[11]=[t("i",{class:"fas fa-times mr-2"},null,-1),n("Clear Filters ",-1)])])])])]),t("div",K,[(a(!0),r(c,null,p(o.users.data,s=>{var y;return a(),r("div",{key:s.id,class:"card p-4 hover:shadow-lg transition-shadow"},[t("div",P,[t("div",Q,[t("div",W,l(s.name.charAt(0).toUpperCase()),1),t("div",null,[t("p",X,l(s.name),1),t("p",Z,l(s.email),1),s.phone_number?(a(),r("p",tt,[e[12]||(e[12]=t("i",{class:"fas fa-phone mr-1"},null,-1)),n(l(s.phone_number),1)])):u("",!0)])]),t("span",{class:x(["px-2 py-1 text-xs font-medium rounded-full",s.is_active?"bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"])},l(s.is_active?"Active":"Inactive"),3)]),t("div",et,[t("div",st,[e[13]||(e[13]=t("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Role:",-1)),t("span",{class:x(["px-2 py-0.5 text-xs font-medium rounded-full capitalize",A(s.role)])},l(s.role),3)]),(y=s.branches)!=null&&y.length?(a(),r("div",at,[e[14]||(e[14]=t("span",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Branches:",-1)),t("div",rt,[(a(!0),r(c,null,p(s.branches,g=>(a(),r("span",{key:g.id,class:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded"},l(g.name),1))),128))])])):u("",!0)]),t("div",lt,[k(b(m),{href:d.route("admin.users.edit",s.id),class:"flex-1 btn-secondary text-center"},{default:f(()=>[...e[15]||(e[15]=[t("i",{class:"fas fa-edit mr-1"},null,-1),n("Edit ",-1)])]),_:1},8,["href"]),t("button",{onClick:g=>C(s),class:"flex-1 btn-danger"},[...e[16]||(e[16]=[t("i",{class:"fas fa-trash mr-1"},null,-1),n("Delete ",-1)])],8,nt)])])}),128)),o.users.data.length===0?(a(),r("div",dt,[e[18]||(e[18]=t("i",{class:"fas fa-users text-6xl text-gray-300 dark:text-gray-600 mb-4"},null,-1)),e[19]||(e[19]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"No users found",-1)),e[20]||(e[20]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-4"},"Try adjusting your filters or add a new user",-1)),k(b(m),{href:d.route("admin.users.create"),class:"btn-primary inline-flex items-center"},{default:f(()=>[...e[17]||(e[17]=[t("i",{class:"fas fa-user-plus mr-2"},null,-1),n("Add New User ",-1)])]),_:1},8,["href"])])):u("",!0)]),t("div",ot,[t("div",it,[t("table",ut,[e[28]||(e[28]=t("thead",{class:"bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"User"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32"},"Role"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Branches"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-28"},"Status"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32"},"Actions")])],-1)),t("tbody",xt,[o.users.data.length===0?(a(),r("tr",ct,[t("td",gt,[t("div",ft,[e[22]||(e[22]=t("i",{class:"fas fa-users text-6xl mb-4 opacity-50"},null,-1)),e[23]||(e[23]=t("p",{class:"text-lg font-medium mb-1"},"No users found",-1)),e[24]||(e[24]=t("p",{class:"text-sm mb-4"},"Try adjusting your filters or add a new user",-1)),k(b(m),{href:d.route("admin.users.create"),class:"btn-primary"},{default:f(()=>[...e[21]||(e[21]=[t("i",{class:"fas fa-user-plus mr-2"},null,-1),n("Add New User ",-1)])]),_:1},8,["href"])])])])):u("",!0),(a(!0),r(c,null,p(o.users.data,s=>{var y,g,N;return a(),r("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors"},[t("td",bt,[t("div",mt,[t("div",pt,l(s.name.charAt(0).toUpperCase()),1),t("div",null,[t("p",yt,l(s.name),1),t("p",kt,l(s.email),1),s.phone_number?(a(),r("p",ht,[e[25]||(e[25]=t("i",{class:"fas fa-phone mr-1"},null,-1)),n(l(s.phone_number),1)])):u("",!0)])])]),t("td",vt,[t("span",{class:x(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium capitalize whitespace-nowrap",A(s.role)])},[t("i",{class:x([I(s.role),"mr-1.5"])},null,2),n(" "+l(s.role),1)],2)]),t("td",wt,[t("div",_t,[(a(!0),r(c,null,p((y=s.branches)==null?void 0:y.slice(0,2),w=>(a(),r("span",{key:w.id,class:"px-2 py-1 text-xs bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded font-medium"},l(w.name),1))),128)),((g=s.branches)==null?void 0:g.length)>2?(a(),r("span",jt," +"+l(s.branches.length-2)+" more ",1)):u("",!0),(N=s.branches)!=null&&N.length?u("",!0):(a(),r("span",At,"No branches"))])]),t("td",Ct,[t("span",{class:x(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",s.is_active?"bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"])},[t("i",{class:x([s.is_active?"fas fa-check-circle":"fas fa-times-circle","mr-1.5"])},null,2),n(" "+l(s.is_active?"Active":"Inactive"),1)],2)]),t("td",Ut,[t("div",Tt,[k(b(m),{href:d.route("admin.users.edit",s.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-lg text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 transition-colors",title:"Edit User"},{default:f(()=>[...e[26]||(e[26]=[t("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:w=>C(s),class:"inline-flex items-center justify-center w-8 h-8 rounded-lg text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 transition-colors",title:"Delete User"},[...e[27]||(e[27]=[t("i",{class:"fas fa-trash"},null,-1)])],8,St)])])])}),128))])])]),o.users.data.length>0?(a(),r("div",Nt,[t("div",Bt,[t("p",Mt,[e[29]||(e[29]=n(" Showing ",-1)),t("span",Ft,l(o.users.from),1),e[30]||(e[30]=n(" to ",-1)),t("span",Vt,l(o.users.to),1),e[31]||(e[31]=n(" of ",-1)),t("span",Dt,l(o.users.total),1),e[32]||(e[32]=n(" results ",-1))]),t("div",It,[(a(!0),r(c,null,p(o.users.links,s=>(a(),r(c,{key:s.label},[s.url?(a(),B(b(m),{key:0,href:s.url,class:x(["px-3 py-1 text-sm rounded-lg border transition-colors",s.active?"bg-brand-600 text-white border-brand-600":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(a(),r("span",{key:1,class:x(["px-3 py-1 text-sm rounded-lg border opacity-50 cursor-not-allowed","bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600"]),innerHTML:s.label},null,8,Rt))],64))),128))])])])):u("",!0)])])]),_:1}))}};export{Et as default};
