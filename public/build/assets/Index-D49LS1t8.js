import{s as g,m as U,k as A,c as O,w as $,a as e,d as n,h as x,g as f,o as d,F as w,e as h,t as i,n as z,p as B,b as p,u as r,v as b,f as F,q as P,j as T}from"./app-DHqUTiQs.js";import{_ as I}from"./AdminLayout-BtulkRvh.js";import"./NavLink-De0s0I7C.js";import"./useFlashMessages-BBgF2e5c.js";const L={class:"space-y-6"},q={class:"card overflow-hidden"},G={class:"w-full"},H={class:"py-3 px-4"},J={class:"flex items-center gap-3"},K={class:"font-medium text-gray-900 dark:text-white"},Q={class:"py-3 px-4 text-gray-600 dark:text-gray-400"},R={class:"py-3 px-4 text-gray-900 dark:text-white"},W={class:"py-3 px-4"},X={class:"py-3 px-4 text-right"},Y={class:"flex items-center justify-end gap-2"},Z=["onClick"],ee=["onClick"],te={key:0,class:"text-center py-12"},se={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},ae={class:"relative bg-white dark:bg-slate-900 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl"},re={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},le={key:0,class:"text-red-500 text-sm mt-1"},oe=["value"],de={key:0,class:"flex items-center gap-2"},ne={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-slate-700"},ie=["disabled"],ue={key:1,class:"fixed inset-0 z-50 flex items-center justify-center"},xe={class:"relative bg-white dark:bg-slate-900 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl"},pe={class:"text-gray-600 dark:text-gray-400 mb-6"},ce={class:"flex justify-end gap-3"},fe={__name:"Index",props:{categories:Object,parentCategories:Array,filters:Object},setup(y){const k=y,c=g(!1),u=g(!1),v=g(null),o=g(null),s=U({name:"",parent_id:"",description:"",sort_order:0,is_active:!0}),j=A(()=>o.value?k.parentCategories.filter(l=>l.id!==o.value.id):k.parentCategories),D=()=>{o.value=null,s.reset(),s.clearErrors(),c.value=!0},M=l=>{o.value=l,s.name=l.name,s.parent_id=l.parent_id||"",s.description=l.description||"",s.sort_order=l.sort_order||0,s.is_active=l.is_active,s.clearErrors(),c.value=!0},m=()=>{c.value=!1,o.value=null,s.reset()},S=()=>{o.value?s.put(route("admin.categories.update",o.value.id),{onSuccess:()=>m()}):s.post(route("admin.categories.store"),{onSuccess:()=>m()})},V=l=>{v.value=l,u.value=!0},E=()=>{T.delete(route("admin.categories.destroy",v.value.id),{onSuccess:()=>{u.value=!1}})};return(l,t)=>(d(),O(I,{"page-title":"Categories"},{default:$(()=>{var C;return[e("div",L,[e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[t[8]||(t[8]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Categories"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Organize your products")],-1)),e("button",{onClick:D,class:"btn-primary"},[...t[7]||(t[7]=[e("i",{class:"fas fa-plus mr-2"},null,-1),f(" Add Category ",-1)])])]),e("div",q,[e("table",G,[t[12]||(t[12]=e("thead",null,[e("tr",{class:"border-b border-gray-200 dark:border-slate-700"},[e("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-600 dark:text-gray-400"},"Category"),e("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-600 dark:text-gray-400"},"Parent"),e("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-600 dark:text-gray-400"},"Products"),e("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-600 dark:text-gray-400"},"Status"),e("th",{class:"text-right py-3 px-4 text-sm font-medium text-gray-600 dark:text-gray-400"},"Actions")])],-1)),e("tbody",null,[(d(!0),n(w,null,h(y.categories.data,a=>{var _;return d(),n("tr",{key:a.id,class:"border-b border-gray-100 dark:border-slate-800 hover:bg-gray-50 dark:hover:bg-slate-800"},[e("td",H,[e("div",J,[t[9]||(t[9]=e("div",{class:"w-10 h-10 bg-success-100 dark:bg-success-900/30 rounded-lg flex items-center justify-center"},[e("i",{class:"fas fa-folder text-success-600 dark:text-success-400"})],-1)),e("span",K,i(a.name),1)])]),e("td",Q,i(((_=a.parent)==null?void 0:_.name)||"-"),1),e("td",R,i(a.products_count),1),e("td",W,[e("span",{class:z(["px-2 py-1 text-xs font-medium rounded-full",a.is_active?"bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-400":"bg-gray-100 text-gray-600"])},i(a.is_active?"Active":"Inactive"),3)]),e("td",X,[e("div",Y,[e("button",{onClick:N=>M(a),class:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg"},[...t[10]||(t[10]=[e("i",{class:"fas fa-edit"},null,-1)])],8,Z),e("button",{onClick:N=>V(a),class:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg"},[...t[11]||(t[11]=[e("i",{class:"fas fa-trash"},null,-1)])],8,ee)])])])}),128))])]),y.categories.data.length===0?(d(),n("div",te,[...t[13]||(t[13]=[e("i",{class:"fas fa-folder text-5xl text-gray-300 dark:text-gray-600 mb-4"},null,-1),e("p",{class:"text-gray-500 dark:text-gray-400"},"No categories yet",-1)])])):x("",!0)])]),c.value?(d(),n("div",se,[e("div",{class:"fixed inset-0 bg-black/50",onClick:m}),e("div",ae,[e("h3",re,i(o.value?"Edit Category":"Create Category"),1),e("form",{onSubmit:B(S,["prevent"]),class:"space-y-4"},[e("div",null,[t[14]||(t[14]=e("label",{class:"label"},"Category Name *",-1)),p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>r(s).name=a),type:"text",class:"input-field",placeholder:"Enter category name"},null,512),[[b,r(s).name]]),r(s).errors.name?(d(),n("p",le,i(r(s).errors.name),1)):x("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"label"},"Parent Category",-1)),p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>r(s).parent_id=a),class:"input-field"},[t[15]||(t[15]=e("option",{value:""},"None (Top Level)",-1)),(d(!0),n(w,null,h(j.value,a=>(d(),n("option",{key:a.id,value:a.id},i(a.name),9,oe))),128))],512),[[F,r(s).parent_id]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"label"},"Description",-1)),p(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>r(s).description=a),rows:"3",class:"input-field",placeholder:"Optional description"},null,512),[[b,r(s).description]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"label"},"Sort Order",-1)),p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>r(s).sort_order=a),type:"number",min:"0",class:"input-field",placeholder:"0"},null,512),[[b,r(s).sort_order]])]),o.value?(d(),n("div",de,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=a=>r(s).is_active=a),id:"is_active",class:"w-4 h-4 text-brand-600 rounded"},null,512),[[P,r(s).is_active]]),t[19]||(t[19]=e("label",{for:"is_active",class:"text-sm text-gray-700 dark:text-gray-300"},"Active",-1))])):x("",!0),e("div",ne,[e("button",{type:"button",onClick:m,class:"btn-secondary"},"Cancel"),e("button",{type:"submit",disabled:r(s).processing,class:"btn-primary"},i(o.value?"Update":"Create")+" Category ",9,ie)])],32)])])):x("",!0),u.value?(d(),n("div",ue,[e("div",{class:"fixed inset-0 bg-black/50",onClick:t[5]||(t[5]=a=>u.value=!1)}),e("div",xe,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Delete Category",-1)),e("p",pe,[t[20]||(t[20]=f("Delete ",-1)),e("strong",null,i((C=v.value)==null?void 0:C.name),1),t[21]||(t[21]=f("?",-1))]),e("div",ce,[e("button",{onClick:t[6]||(t[6]=a=>u.value=!1),class:"btn-secondary"},"Cancel"),e("button",{onClick:E,class:"btn-danger"},"Delete")])])])):x("",!0)]}),_:1}))}};export{fe as default};
