import{r as H,c as T,w as j,a as t,t as a,b as u,v as g,f as C,d as n,o as d,F as c,e as m,h as V,n as y,i as M,u as F,l as B,g as p,j as U}from"./app-hHih9BgC.js";import{_ as N}from"./AdminLayout-B4rk0_5R.js";import"./NavLink-faodrpPr.js";import"./useFlashMessages-Br0efLxG.js";const R={class:"space-y-6"},$={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},O={class:"card p-6"},z={class:"flex items-center justify-between"},I={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},P={class:"card p-6"},E={class:"flex items-center justify-between"},G={class:"text-2xl font-bold text-brand-600 dark:text-brand-400 mt-1"},W={class:"card p-6"},q={class:"flex items-center justify-between"},J={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},K={class:"card p-6"},Q={class:"flex items-center justify-between"},X={class:"text-2xl font-bold text-brand-600 dark:text-brand-400 mt-1"},Y={class:"card p-6"},Z={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},tt={class:"md:col-span-2"},et=["value"],st={class:"card overflow-hidden"},at={class:"overflow-x-auto"},rt={class:"w-full"},dt={class:"bg-white dark:bg-slate-900 divide-y divide-gray-200 dark:border-slate-700"},lt={key:0},nt={class:"px-6 py-4"},ot={class:"font-mono text-sm font-medium text-gray-900 dark:text-white"},it={class:"px-6 py-4 text-sm text-gray-900 dark:text-white whitespace-nowrap"},xt={class:"px-6 py-4"},ut={key:0},pt={class:"text-sm font-medium text-gray-900 dark:text-white"},ct={class:"text-xs text-gray-500 dark:text-gray-400"},gt={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},mt={class:"px-6 py-4"},yt={class:"px-2.5 py-1 text-xs font-medium bg-gray-100 dark:bg-slate-700 rounded"},ft={class:"px-6 py-4 text-right"},bt={class:"text-lg font-semibold text-gray-900 dark:text-white"},kt={class:"px-6 py-4"},ht={class:"px-2.5 py-1 text-xs font-medium capitalize bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded"},vt={class:"px-6 py-4 text-center"},_t={class:"px-6 py-4 text-center"},wt={key:0,class:"px-6 py-4 border-t border-gray-200 dark:border-slate-700"},St={class:"flex items-center justify-between"},Tt={class:"text-sm text-gray-700 dark:text-gray-300"},jt={class:"font-medium"},Ct={class:"font-medium"},Vt={class:"font-medium"},Ft={class:"flex gap-2"},Bt=["innerHTML"],Mt={__name:"Index",props:{sales:Object,branches:Array,stats:Object,filters:Object},setup(r){var b,k,h,v,_,w;const o=r,l=H({search:((b=o.filters)==null?void 0:b.search)||"",status:((k=o.filters)==null?void 0:k.status)||"",branch_id:((h=o.filters)==null?void 0:h.branch_id)||"",date_from:((v=o.filters)==null?void 0:v.date_from)||"",date_to:((_=o.filters)==null?void 0:_.date_to)||"",payment_method:((w=o.filters)==null?void 0:w.payment_method)||""});let f=null;const L=()=>{clearTimeout(f),f=setTimeout(()=>{i()},500)},i=()=>{U.get(route("admin.sales.index"),l,{preserveState:!0,preserveScroll:!0})},D=x=>new Date(x).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),A=x=>{const e={completed:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-400",pending:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",cancelled:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",refunded:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"};return e[x]||e.pending};return(x,e)=>(d(),T(N,{"page-title":"Sales History"},{default:j(()=>[t("div",R,[e[27]||(e[27]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Sales History"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"View and manage all sales transactions")],-1)),t("div",$,[t("div",O,[t("div",z,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Sales",-1)),t("p",I,a(r.stats.total_sales.toLocaleString()),1)]),e[6]||(e[6]=t("div",{class:"w-12 h-12 bg-brand-100 dark:bg-brand-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-receipt text-xl text-brand-600 dark:text-brand-400"})],-1))])]),t("div",P,[t("div",E,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Revenue",-1)),t("p",G,"$"+a(r.stats.total_revenue.toFixed(2)),1)]),e[8]||(e[8]=t("div",{class:"w-12 h-12 bg-brand-100 dark:bg-brand-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-dollar-sign text-xl text-brand-600 dark:text-brand-400"})],-1))])]),t("div",W,[t("div",q,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Today's Sales",-1)),t("p",J,a(r.stats.today_sales.toLocaleString()),1)]),e[10]||(e[10]=t("div",{class:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-calendar-day text-xl text-gray-600 dark:text-gray-400"})],-1))])]),t("div",K,[t("div",Q,[t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Today's Revenue",-1)),t("p",X,"$"+a(r.stats.today_revenue.toFixed(2)),1)]),e[12]||(e[12]=t("div",{class:"w-12 h-12 bg-brand-100 dark:bg-brand-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-chart-line text-xl text-brand-600 dark:text-brand-400"})],-1))])])]),t("div",Y,[t("div",Z,[t("div",tt,[e[13]||(e[13]=t("label",{class:"label"},"Search",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.search=s),type:"text",class:"input-field",placeholder:"Receipt #, customer...",onInput:L},null,544),[[g,l.search]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"label"},"Status",-1)),u(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.status=s),class:"input-field",onChange:i},[...e[14]||(e[14]=[t("option",{value:""},"All",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"cancelled"},"Cancelled",-1),t("option",{value:"refunded"},"Refunded",-1)])],544),[[C,l.status]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"label"},"Branch",-1)),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.branch_id=s),class:"input-field",onChange:i},[e[16]||(e[16]=t("option",{value:""},"All Branches",-1)),(d(!0),n(c,null,m(r.branches,s=>(d(),n("option",{key:s.id,value:s.id},a(s.name),9,et))),128))],544),[[C,l.branch_id]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"label"},"From Date",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.date_from=s),type:"date",class:"input-field",onChange:i},null,544),[[g,l.date_from]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"label"},"To Date",-1)),u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.date_to=s),type:"date",class:"input-field",onChange:i},null,544),[[g,l.date_to]])])])]),t("div",st,[t("div",at,[t("table",rt,[e[22]||(e[22]=t("thead",{class:"bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Receipt #"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Customer"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-40"},"Branch"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-32"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-32"},"Payment"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-28"},"Status"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-24"},"Action")])],-1)),t("tbody",dt,[r.sales.data.length===0?(d(),n("tr",lt,[...e[20]||(e[20]=[t("td",{colspan:"8",class:"px-6 py-12 text-center"},[t("i",{class:"fas fa-receipt text-6xl text-gray-300 dark:text-gray-600 mb-4"}),t("p",{class:"text-lg font-medium text-gray-900 dark:text-white mb-1"},"No sales found"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Sales will appear here once transactions are completed")],-1)])])):V("",!0),(d(!0),n(c,null,m(r.sales.data,s=>{var S;return d(),n("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50"},[t("td",nt,[t("span",ot,a(s.receipt_number),1)]),t("td",it,a(D(s.created_at)),1),t("td",xt,[s.customer?(d(),n("div",ut,[t("p",pt,a(s.customer.name),1),t("p",ct,a(s.customer.phone),1)])):(d(),n("span",gt,"Walk-in"))]),t("td",mt,[t("span",yt,a((S=s.branch)==null?void 0:S.name),1)]),t("td",ft,[t("span",bt,"$"+a(parseFloat(s.total_amount).toFixed(2)),1)]),t("td",kt,[t("span",ht,a(s.payment_method),1)]),t("td",vt,[t("span",{class:y(A(s.status))},a(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3)]),t("td",_t,[M(F(B),{href:x.route("admin.sales.show",s.id),class:"btn-primary text-sm py-1.5 px-3"},{default:j(()=>[...e[21]||(e[21]=[t("i",{class:"fas fa-eye mr-1.5"},null,-1),p("View ",-1)])]),_:1},8,["href"])])])}),128))])])]),r.sales.data.length>0?(d(),n("div",wt,[t("div",St,[t("p",Tt,[e[23]||(e[23]=p(" Showing ",-1)),t("span",jt,a(r.sales.from),1),e[24]||(e[24]=p(" to ",-1)),t("span",Ct,a(r.sales.to),1),e[25]||(e[25]=p(" of ",-1)),t("span",Vt,a(r.sales.total),1),e[26]||(e[26]=p(" results ",-1))]),t("div",Ft,[(d(!0),n(c,null,m(r.sales.links,s=>(d(),n(c,{key:s.label},[s.url?(d(),T(F(B),{key:0,href:s.url,class:y(["px-3 py-1 text-sm rounded-lg border",s.active?"bg-brand-600 text-white border-brand-600":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(d(),n("span",{key:1,class:y(["px-3 py-1 text-sm rounded-lg border opacity-50 cursor-not-allowed bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600"]),innerHTML:s.label},null,8,Bt))],64))),128))])])])):V("",!0)])])]),_:1}))}};export{Mt as default};
