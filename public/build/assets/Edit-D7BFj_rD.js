import{s as f,E as q,m as E,k as R,c as te,w as U,i as A,a as e,d as o,h as g,T as se,o as a,t as d,u as s,l as D,g as x,p as B,b as n,n as y,v as c,F as V,e as P,f as F,q as k,j as I}from"./app-C6lt1uQR.js";import{_ as re}from"./AdminLayout-CmvtP4AP.js";import"./NavLink-CZ7tcFJn.js";import"./useFlashMessages-DqH0SBLZ.js";const le={key:0,class:"fixed top-4 right-4 z-50 max-w-sm w-full bg-red-50 dark:bg-red-900/90 border border-red-200 dark:border-red-800 rounded-lg shadow-lg p-4"},ae={class:"flex items-start gap-3"},oe={class:"flex-1 min-w-0"},ie={class:"text-sm text-red-600 dark:text-red-300 mt-1"},ne={class:"max-w-4xl mx-auto"},de={class:"mb-6"},ue={class:"card p-6"},pe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ce={class:"space-y-4"},ge={key:0,class:"text-red-500 text-sm mt-1"},me={class:"flex gap-2"},xe=["value"],be={key:0,class:"text-red-500 text-sm mt-1"},ye={class:"flex gap-2"},fe=["value"],ve={key:0,class:"text-red-500 text-sm mt-1"},ke={class:"space-y-4"},_e={key:0,class:"text-red-500 text-sm mt-1"},we={key:0,class:"text-red-500 text-sm mt-1"},Ce={key:0,class:"text-red-500 text-sm mt-1"},Ue={class:"flex items-center gap-3 mt-4 pt-4 border-t border-gray-200 dark:border-slate-700"},Ve={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Pe={class:"card p-6"},he={class:"flex items-start gap-4"},Se={class:"w-28 h-28 bg-gray-100 dark:bg-slate-800 rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300 dark:border-slate-600 shrink-0"},Me=["src"],je=["src"],qe={key:2,class:"fas fa-image text-2xl text-gray-400 dark:text-gray-600"},Ee={class:"flex-1"},Ae={class:"btn-secondary cursor-pointer inline-flex items-center text-sm"},Be={key:0,class:"text-red-500 text-sm mt-1"},Fe={class:"card p-6"},Ne={class:"grid grid-cols-2 gap-4"},Te={class:"relative"},$e={key:0,class:"text-red-500 text-sm mt-1"},Le={class:"relative"},Oe={key:0,class:"text-red-500 text-sm mt-1"},Re={key:0,class:"mt-4 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg"},De={class:"flex items-center justify-between text-sm"},Ie={class:"card p-6"},ze={class:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg"},Ge={class:"flex items-center gap-2 text-sm text-green-700 dark:text-green-400"},Ke={key:0,class:"space-y-3"},Qe={class:"grid grid-cols-1 sm:grid-cols-6 gap-3 items-end"},Je={class:"sm:col-span-2"},We=["onUpdate:modelValue"],He=["onUpdate:modelValue"],Xe=["onUpdate:modelValue"],Ye=["onUpdate:modelValue","placeholder"],Ze={class:"flex gap-2"},et=["onClick"],tt={class:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-3"},st=["onUpdate:modelValue"],rt={class:"flex items-end"},lt={class:"text-xs text-gray-500 dark:text-gray-400"},at={key:0},ot={key:1},it={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},nt={class:"card p-6"},dt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ut={class:"space-y-3"},pt={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors"},ct={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors"},gt={class:"grid grid-cols-2 gap-4"},mt={class:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-slate-700"},xt=["disabled"],bt={key:0},yt={key:1},ft={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},vt={class:"relative bg-white dark:bg-slate-900 rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl"},kt={key:0,class:"text-red-500 text-sm mt-1"},_t=["value"],wt={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-slate-700"},Ct=["disabled"],Ut={key:0},Vt={key:1},Pt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center"},ht={class:"relative bg-white dark:bg-slate-900 rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl"},St={class:"grid grid-cols-2 gap-4"},Mt={class:"col-span-2"},jt={key:0,class:"text-red-500 text-sm mt-1"},qt={key:0,class:"text-red-500 text-sm mt-1"},Et={class:"grid grid-cols-2 gap-4"},At={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg cursor-pointer"},Bt={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg cursor-pointer"},Ft={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-slate-700"},Nt=["disabled"],Tt={key:0},$t={key:1},It={__name:"Edit",props:{product:Object,categories:Array,units:Array,parentCategories:Array},setup(v){var L;const u=v,N=f([...u.categories]),h=f([...u.units]),S=f(!1),M=f(!1),j=f(null),_=f(!1),T=f("");q(()=>u.categories,i=>{N.value=[...i]},{deep:!0}),q(()=>u.units,i=>{h.value=[...i]},{deep:!0});const l=E({name:u.product.name,category_id:u.product.category_id||"",sku:u.product.sku||"",barcode:u.product.barcode||"",plu_code:u.product.plu_code||"",unit:u.product.unit,cost_price:u.product.cost_price,selling_price:u.product.selling_price,image:null,track_stock:u.product.track_stock,track_expiry:u.product.track_expiry,reorder_level:u.product.reorder_level||10,reorder_quantity:u.product.reorder_quantity||50,is_active:u.product.is_active,packaging:((L=u.product.product_units)==null?void 0:L.map(i=>({name:i.name,abbreviation:i.abbreviation,quantity:i.quantity,selling_price:i.selling_price,cost_price:i.cost_price,barcode:i.barcode})))||[]}),m=E({name:"",parent_id:"",description:"",sort_order:0}),p=E({name:"",abbreviation:"",category:"",is_base_unit:!1,allow_decimal:!0});q(()=>l.errors,i=>{if(Object.keys(i).length>0){const t=Object.values(i)[0];T.value=t,_.value=!0,setTimeout(()=>{_.value=!1},5e3)}},{deep:!0});const z=R(()=>u.parentCategories||u.categories.filter(i=>!i.parent_id)),$=R(()=>{const i=parseFloat(l.cost_price)||0,t=parseFloat(l.selling_price)||0;return i===0?0:(t-i)/i*100}),G=()=>{const i=h.value.find(t=>t.value===l.unit);return i?i.label:l.unit},K=i=>((parseFloat(l.selling_price)||0)*(i||1)).toFixed(2),Q=()=>{l.packaging.push({name:"",abbreviation:"",quantity:"",selling_price:"",cost_price:"",barcode:""})},J=i=>{l.packaging.splice(i,1)},W=i=>{const t=i.target.files[0];t&&(l.image=t,j.value=URL.createObjectURL(t))},H=()=>{m.reset(),m.clearErrors(),S.value=!0},w=()=>{S.value=!1,m.reset()},X=()=>{m.post(route("admin.categories.store"),{preserveScroll:!0,onSuccess:i=>{var r;const t=(r=i.props.flash)==null?void 0:r.created_category_id;w(),I.reload({only:["categories","parentCategories"],preserveScroll:!0,onSuccess:()=>{t&&(l.category_id=t)}})}})},Y=()=>{p.reset(),p.clearErrors(),M.value=!0},C=()=>{M.value=!1,p.reset()},Z=()=>{p.post(route("admin.units.store"),{preserveScroll:!0,onSuccess:i=>{var r;const t=(r=i.props.flash)==null?void 0:r.created_unit_abbreviation;C(),I.reload({only:["units"],preserveScroll:!0,onSuccess:()=>{t&&(l.unit=t)}})}})},ee=()=>{l.post(route("admin.products.update",u.product.id),{_method:"put"})};return(i,t)=>(a(),te(re,{"page-title":"Edit Product"},{default:U(()=>[A(se,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:U(()=>[_.value?(a(),o("div",le,[e("div",ae,[t[24]||(t[24]=e("div",{class:"shrink-0"},[e("i",{class:"fas fa-exclamation-circle text-red-500 dark:text-red-400 text-lg"})],-1)),e("div",oe,[t[22]||(t[22]=e("p",{class:"text-sm font-medium text-red-800 dark:text-red-200"},"Validation Error",-1)),e("p",ie,d(T.value),1)]),e("button",{onClick:t[0]||(t[0]=r=>_.value=!1),class:"shrink-0 text-red-400 hover:text-red-600 dark:hover:text-red-300"},[...t[23]||(t[23]=[e("i",{class:"fas fa-times"},null,-1)])])])])):g("",!0)]),_:1}),e("div",ne,[e("div",de,[A(s(D),{href:i.route("admin.products.index"),class:"inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4"},{default:U(()=>[...t[25]||(t[25]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),x(" Back to Products ",-1)])]),_:1},8,["href"]),t[26]||(t[26]=e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Edit Product",-1)),t[27]||(t[27]=e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Update product details and inventory settings",-1))]),e("form",{onSubmit:B(ee,["prevent"]),class:"space-y-6"},[e("div",ue,[t[38]||(t[38]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Basic Information",-1)),e("div",pe,[e("div",ce,[e("div",null,[t[28]||(t[28]=e("label",{class:"label"},"Product Name *",-1)),n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>s(l).name=r),type:"text",class:y(["input-field",s(l).errors.name&&"border-red-500 focus:border-red-500 focus:ring-red-500"]),placeholder:"Enter product name"},null,2),[[c,s(l).name]]),s(l).errors.name?(a(),o("p",ge,d(s(l).errors.name),1)):g("",!0)]),e("div",null,[t[31]||(t[31]=e("label",{class:"label"},"Category",-1)),e("div",me,[n(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>s(l).category_id=r),class:y(["input-field flex-1",s(l).errors.category_id&&"border-red-500 focus:border-red-500 focus:ring-red-500"])},[t[29]||(t[29]=e("option",{value:""},"Select category",-1)),(a(!0),o(V,null,P(N.value,r=>(a(),o("option",{key:r.id,value:r.id},d(r.name),9,xe))),128))],2),[[F,s(l).category_id]]),e("button",{type:"button",onClick:H,class:"btn-secondary px-3",title:"Add new category"},[...t[30]||(t[30]=[e("i",{class:"fas fa-plus"},null,-1)])])]),s(l).errors.category_id?(a(),o("p",be,d(s(l).errors.category_id),1)):g("",!0)]),e("div",null,[t[33]||(t[33]=e("label",{class:"label"},"Unit of Measure",-1)),e("div",ye,[n(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>s(l).unit=r),class:y(["input-field flex-1",s(l).errors.unit&&"border-red-500 focus:border-red-500 focus:ring-red-500"])},[(a(!0),o(V,null,P(h.value,r=>(a(),o("option",{key:r.value,value:r.value},d(r.label),9,fe))),128))],2),[[F,s(l).unit]]),e("button",{type:"button",onClick:Y,class:"btn-secondary px-3",title:"Add new unit"},[...t[32]||(t[32]=[e("i",{class:"fas fa-plus"},null,-1)])])]),s(l).errors.unit?(a(),o("p",ve,d(s(l).errors.unit),1)):g("",!0)])]),e("div",ke,[e("div",null,[t[34]||(t[34]=e("label",{class:"label"},"SKU",-1)),n(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>s(l).sku=r),type:"text",class:y(["input-field",s(l).errors.sku&&"border-red-500 focus:border-red-500 focus:ring-red-500"]),placeholder:"Optional"},null,2),[[c,s(l).sku]]),s(l).errors.sku?(a(),o("p",_e,d(s(l).errors.sku),1)):g("",!0)]),e("div",null,[t[35]||(t[35]=e("label",{class:"label"},"Barcode",-1)),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>s(l).barcode=r),type:"text",class:y(["input-field",s(l).errors.barcode&&"border-red-500 focus:border-red-500 focus:ring-red-500"]),placeholder:"Scan or enter barcode"},null,2),[[c,s(l).barcode]]),s(l).errors.barcode?(a(),o("p",we,d(s(l).errors.barcode),1)):g("",!0)]),e("div",null,[t[36]||(t[36]=e("label",{class:"label"},"PLU Code",-1)),n(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>s(l).plu_code=r),type:"text",class:y(["input-field",s(l).errors.plu_code&&"border-red-500 focus:border-red-500 focus:ring-red-500"]),placeholder:"Price look-up code",maxlength:"10"},null,2),[[c,s(l).plu_code]]),s(l).errors.plu_code?(a(),o("p",Ce,d(s(l).errors.plu_code),1)):g("",!0)])])]),e("div",Ue,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=r=>s(l).is_active=r),id:"is_active",class:"w-4 h-4 text-emerald-600 rounded"},null,512),[[k,s(l).is_active]]),t[37]||(t[37]=e("label",{for:"is_active",class:"text-sm text-gray-700 dark:text-gray-300"},"Product is active",-1))])]),e("div",Ve,[e("div",Pe,[t[41]||(t[41]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Product Image",-1)),e("div",he,[e("div",Se,[j.value?(a(),o("img",{key:0,src:j.value,alt:"Product preview",class:"w-full h-full object-cover"},null,8,Me)):v.product.image&&v.product.image.length>1?(a(),o("img",{key:1,src:`/storage/${v.product.image}`,alt:"Product",class:"w-full h-full object-cover"},null,8,je)):(a(),o("i",qe))]),e("div",Ee,[e("label",Ae,[t[39]||(t[39]=e("i",{class:"fas fa-upload mr-2"},null,-1)),x(" "+d(s(l).image||v.product.image?"Change":"Upload")+" ",1),e("input",{type:"file",onChange:W,accept:"image/*",class:"hidden"},null,32)]),t[40]||(t[40]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"PNG, JPG up to 2MB",-1)),s(l).errors.image?(a(),o("p",Be,d(s(l).errors.image),1)):g("",!0)])])]),e("div",Fe,[t[47]||(t[47]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Pricing",-1)),e("div",Ne,[e("div",null,[t[43]||(t[43]=e("label",{class:"label"},"Cost Price *",-1)),e("div",Te,[t[42]||(t[42]=e("span",{class:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500"},"$",-1)),n(e("input",{"onUpdate:modelValue":t[8]||(t[8]=r=>s(l).cost_price=r),type:"number",step:"0.01",class:y(["input-field pl-8",s(l).errors.cost_price&&"border-red-500 focus:border-red-500 focus:ring-red-500"]),placeholder:"0.00"},null,2),[[c,s(l).cost_price]])]),s(l).errors.cost_price?(a(),o("p",$e,d(s(l).errors.cost_price),1)):g("",!0)]),e("div",null,[t[45]||(t[45]=e("label",{class:"label"},"Selling Price *",-1)),e("div",Le,[t[44]||(t[44]=e("span",{class:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500"},"$",-1)),n(e("input",{"onUpdate:modelValue":t[9]||(t[9]=r=>s(l).selling_price=r),type:"number",step:"0.01",class:y(["input-field pl-8",s(l).errors.selling_price&&"border-red-500 focus:border-red-500 focus:ring-red-500"]),placeholder:"0.00"},null,2),[[c,s(l).selling_price]])]),s(l).errors.selling_price?(a(),o("p",Oe,d(s(l).errors.selling_price),1)):g("",!0)])]),s(l).cost_price>0&&s(l).selling_price>0?(a(),o("div",Re,[e("div",De,[t[46]||(t[46]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Profit Margin",-1)),e("span",{class:y([$.value>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400","font-medium"])},d($.value.toFixed(1))+"% ",3)])])):g("",!0)])]),e("div",Ie,[e("div",{class:"flex items-center justify-between mb-4"},[t[49]||(t[49]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Packaging Units"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Define how this product is sold (e.g., pack, carton, case)")],-1)),e("button",{type:"button",onClick:Q,class:"btn-secondary text-sm"},[...t[48]||(t[48]=[e("i",{class:"fas fa-plus mr-2"},null,-1),x("Add Packaging ",-1)])])]),e("div",ze,[e("div",Ge,[t[51]||(t[51]=e("i",{class:"fas fa-info-circle"},null,-1)),e("span",null,[t[50]||(t[50]=x("Base unit: ",-1)),e("strong",null,d(G()),1),x(" at $"+d(s(l).selling_price||"0.00")+" each",1)])])]),s(l).packaging.length>0?(a(),o("div",Ke,[(a(!0),o(V,null,P(s(l).packaging,(r,O)=>(a(),o("div",{key:O,class:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg"},[e("div",Qe,[e("div",Je,[t[52]||(t[52]=e("label",{class:"text-xs text-gray-600 dark:text-gray-400 mb-1 block"},"Name *",-1)),n(e("input",{"onUpdate:modelValue":b=>r.name=b,type:"text",class:"input-field text-sm",placeholder:"e.g., Pack, Carton"},null,8,We),[[c,r.name]])]),e("div",null,[t[53]||(t[53]=e("label",{class:"text-xs text-gray-600 dark:text-gray-400 mb-1 block"},"Abbrev.",-1)),n(e("input",{"onUpdate:modelValue":b=>r.abbreviation=b,type:"text",class:"input-field text-sm",placeholder:"e.g., pk",maxlength:"10"},null,8,He),[[c,r.abbreviation]])]),e("div",null,[t[54]||(t[54]=e("label",{class:"text-xs text-gray-600 dark:text-gray-400 mb-1 block"},"Qty *",-1)),n(e("input",{"onUpdate:modelValue":b=>r.quantity=b,type:"number",min:"1",class:"input-field text-sm",placeholder:"6"},null,8,Xe),[[c,r.quantity,void 0,{number:!0}]])]),e("div",null,[t[55]||(t[55]=e("label",{class:"text-xs text-gray-600 dark:text-gray-400 mb-1 block"},"Price (optional)",-1)),n(e("input",{"onUpdate:modelValue":b=>r.selling_price=b,type:"number",step:"0.01",class:"input-field text-sm",placeholder:K(r.quantity)},null,8,Ye),[[c,r.selling_price]])]),e("div",Ze,[e("button",{type:"button",onClick:b=>J(O),class:"p-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"Remove"},[...t[56]||(t[56]=[e("i",{class:"fas fa-trash"},null,-1)])],8,et)])]),e("div",tt,[e("div",null,[t[57]||(t[57]=e("label",{class:"text-xs text-gray-600 dark:text-gray-400 mb-1 block"},"Barcode (optional)",-1)),n(e("input",{"onUpdate:modelValue":b=>r.barcode=b,type:"text",class:"input-field text-sm",placeholder:"Package barcode"},null,8,st),[[c,r.barcode]])]),e("div",rt,[e("p",lt,[t[58]||(t[58]=e("i",{class:"fas fa-calculator mr-1"},null,-1)),x(" "+d(r.quantity||0)+" "+d(s(l).unit)+" = 1 "+d(r.name||"unit")+" ",1),r.selling_price?(a(),o("span",at," @ $"+d(r.selling_price),1)):r.quantity&&s(l).selling_price?(a(),o("span",ot," @ $"+d((r.quantity*parseFloat(s(l).selling_price||0)).toFixed(2)),1)):g("",!0)])])])]))),128))])):(a(),o("div",it,[...t[59]||(t[59]=[e("i",{class:"fas fa-box-open text-3xl mb-3 opacity-50"},null,-1),e("p",{class:"text-sm"},'No additional packaging defined. Click "Add Packaging" to create packs, cartons, etc.',-1)])]))]),e("div",nt,[t[68]||(t[68]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Inventory Settings",-1)),e("div",dt,[e("div",null,[t[62]||(t[62]=e("label",{class:"label mb-3"},"Tracking Options",-1)),e("div",ut,[e("label",pt,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=r=>s(l).track_stock=r),class:"w-4 h-4 text-emerald-600 rounded"},null,512),[[k,s(l).track_stock]]),t[60]||(t[60]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Track Stock"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Monitor inventory levels")],-1))]),e("label",ct,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=r=>s(l).track_expiry=r),class:"w-4 h-4 text-emerald-600 rounded"},null,512),[[k,s(l).track_expiry]]),t[61]||(t[61]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Track Expiry"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Monitor expiration dates")],-1))])])]),e("div",null,[t[67]||(t[67]=e("label",{class:"label mb-3"},"Reorder Settings",-1)),e("div",gt,[e("div",null,[t[63]||(t[63]=e("label",{class:"text-xs text-gray-600 dark:text-gray-400 mb-1 block"},"Reorder Level",-1)),n(e("input",{"onUpdate:modelValue":t[12]||(t[12]=r=>s(l).reorder_level=r),type:"number",class:"input-field",placeholder:"10"},null,512),[[c,s(l).reorder_level]]),t[64]||(t[64]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Alert when stock falls below",-1))]),e("div",null,[t[65]||(t[65]=e("label",{class:"text-xs text-gray-600 dark:text-gray-400 mb-1 block"},"Reorder Quantity",-1)),n(e("input",{"onUpdate:modelValue":t[13]||(t[13]=r=>s(l).reorder_quantity=r),type:"number",class:"input-field",placeholder:"50"},null,512),[[c,s(l).reorder_quantity]]),t[66]||(t[66]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Suggested order amount",-1))])])])])]),e("div",mt,[A(s(D),{href:i.route("admin.products.index"),class:"btn-secondary"},{default:U(()=>[...t[69]||(t[69]=[e("i",{class:"fas fa-times mr-2"},null,-1),x(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(l).processing,class:"btn-primary"},[s(l).processing?(a(),o("span",bt,[...t[70]||(t[70]=[e("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),x("Saving...",-1)])])):(a(),o("span",yt,[...t[71]||(t[71]=[e("i",{class:"fas fa-check mr-2"},null,-1),x("Save Changes",-1)])]))],8,xt)])],32)]),S.value?(a(),o("div",ft,[e("div",{class:"fixed inset-0 bg-black/50",onClick:w}),e("div",vt,[e("div",{class:"flex items-center justify-between mb-4"},[t[73]||(t[73]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Create Category",-1)),e("button",{onClick:w,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...t[72]||(t[72]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("form",{onSubmit:B(X,["prevent"]),class:"space-y-4"},[e("div",null,[t[74]||(t[74]=e("label",{class:"label"},"Category Name *",-1)),n(e("input",{"onUpdate:modelValue":t[14]||(t[14]=r=>s(m).name=r),type:"text",class:"input-field",placeholder:"Enter category name",autofocus:""},null,512),[[c,s(m).name]]),s(m).errors.name?(a(),o("p",kt,d(s(m).errors.name),1)):g("",!0)]),e("div",null,[t[76]||(t[76]=e("label",{class:"label"},"Parent Category",-1)),n(e("select",{"onUpdate:modelValue":t[15]||(t[15]=r=>s(m).parent_id=r),class:"input-field"},[t[75]||(t[75]=e("option",{value:""},"None (Top Level)",-1)),(a(!0),o(V,null,P(z.value,r=>(a(),o("option",{key:r.id,value:r.id},d(r.name),9,_t))),128))],512),[[F,s(m).parent_id]])]),e("div",null,[t[77]||(t[77]=e("label",{class:"label"},"Description",-1)),n(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=r=>s(m).description=r),rows:"2",class:"input-field",placeholder:"Optional description"},null,512),[[c,s(m).description]])]),e("div",wt,[e("button",{type:"button",onClick:w,class:"btn-secondary"},"Cancel"),e("button",{type:"submit",disabled:s(m).processing,class:"btn-primary"},[s(m).processing?(a(),o("span",Ut,[...t[78]||(t[78]=[e("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),x("Creating...",-1)])])):(a(),o("span",Vt,[...t[79]||(t[79]=[e("i",{class:"fas fa-plus mr-2"},null,-1),x("Create",-1)])]))],8,Ct)])],32)])])):g("",!0),M.value?(a(),o("div",Pt,[e("div",{class:"fixed inset-0 bg-black/50",onClick:C}),e("div",ht,[e("div",{class:"flex items-center justify-between mb-4"},[t[81]||(t[81]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Create Unit of Measure",-1)),e("button",{onClick:C,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...t[80]||(t[80]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("form",{onSubmit:B(Z,["prevent"]),class:"space-y-4"},[e("div",St,[e("div",Mt,[t[82]||(t[82]=e("label",{class:"label"},"Unit Name *",-1)),n(e("input",{"onUpdate:modelValue":t[17]||(t[17]=r=>s(p).name=r),type:"text",class:"input-field",placeholder:"e.g., Kilograms",autofocus:""},null,512),[[c,s(p).name]]),s(p).errors.name?(a(),o("p",jt,d(s(p).errors.name),1)):g("",!0)]),e("div",null,[t[83]||(t[83]=e("label",{class:"label"},"Abbreviation *",-1)),n(e("input",{"onUpdate:modelValue":t[18]||(t[18]=r=>s(p).abbreviation=r),type:"text",class:"input-field",placeholder:"e.g., kg",maxlength:"10"},null,512),[[c,s(p).abbreviation]]),s(p).errors.abbreviation?(a(),o("p",qt,d(s(p).errors.abbreviation),1)):g("",!0)]),e("div",null,[t[84]||(t[84]=e("label",{class:"label"},"Category",-1)),n(e("input",{"onUpdate:modelValue":t[19]||(t[19]=r=>s(p).category=r),type:"text",class:"input-field",placeholder:"e.g., Weight"},null,512),[[c,s(p).category]])])]),e("div",Et,[e("label",At,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[20]||(t[20]=r=>s(p).allow_decimal=r),class:"w-4 h-4 text-emerald-600 rounded"},null,512),[[k,s(p).allow_decimal]]),t[85]||(t[85]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Allow Decimals"),e("p",{class:"text-xs text-gray-500"},"e.g., 1.5 kg")],-1))]),e("label",Bt,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=r=>s(p).is_base_unit=r),class:"w-4 h-4 text-emerald-600 rounded"},null,512),[[k,s(p).is_base_unit]]),t[86]||(t[86]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Base Unit"),e("p",{class:"text-xs text-gray-500"},"Primary in category")],-1))])]),e("div",Ft,[e("button",{type:"button",onClick:C,class:"btn-secondary"},"Cancel"),e("button",{type:"submit",disabled:s(p).processing,class:"btn-primary"},[s(p).processing?(a(),o("span",Tt,[...t[87]||(t[87]=[e("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),x("Creating...",-1)])])):(a(),o("span",$t,[...t[88]||(t[88]=[e("i",{class:"fas fa-plus mr-2"},null,-1),x("Create",-1)])]))],8,Nt)])],32)])])):g("",!0)]),_:1}))}};export{It as default};
