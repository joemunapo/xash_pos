import{r as b,k as v,c as k,w,a as t,b as g,v as m,g as y,d as i,o,F as u,e as f,t as a,j as S}from"./app-hHih9BgC.js";import{_ as j}from"./AdminLayout-B4rk0_5R.js";import"./NavLink-faodrpPr.js";import"./useFlashMessages-Br0efLxG.js";const C={class:"space-y-6"},F={class:"card p-4"},B={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},D={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},N={class:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-200 dark:border-slate-700"},T={class:"font-semibold text-gray-900 dark:text-white"},$={class:"text-sm text-gray-500 dark:text-gray-400"},V={class:"space-y-3"},A={class:"flex justify-between"},I={class:"font-semibold text-gray-900 dark:text-white"},U={class:"flex justify-between"},E={class:"font-semibold text-gray-900 dark:text-white"},L={class:"flex justify-between"},M={class:"font-semibold text-gray-900 dark:text-white"},O={class:"flex justify-between"},P={class:"font-semibold text-gray-900 dark:text-white"},R={class:"card overflow-hidden"},q={class:"overflow-x-auto"},z={class:"w-full"},G={class:"divide-y divide-gray-200 dark:divide-slate-700"},H={class:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white"},J={class:"px-6 py-4 text-sm text-gray-900 dark:text-white text-right"},K={class:"px-6 py-4 text-sm text-gray-900 dark:text-white text-right"},Q={class:"px-6 py-4 text-sm text-gray-900 dark:text-white text-right"},W={class:"px-6 py-4 text-sm text-gray-900 dark:text-white text-right"},X={class:"px-6 py-4 text-sm font-medium text-brand-600 dark:text-brand-400 text-right"},st={__name:"BranchComparison",props:{branches:Array,filters:Object},setup(n){const x=n,r=b({start_date:x.filters.start_date,end_date:x.filters.end_date}),p=v(()=>x.branches.reduce((l,e)=>l+(e.total_sales||0),0)),c=()=>{S.get(route("admin.reports.branch-comparison"),r,{preserveState:!0,preserveScroll:!0})},_=()=>{r.start_date="",r.end_date="",c()},d=l=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l||0),h=l=>p.value===0?0:(l.total_sales/p.value*100).toFixed(1);return(l,e)=>(o(),k(j,{"page-title":"Branch Comparison"},{default:w(()=>[t("div",C,[e[12]||(e[12]=t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Branch Comparison"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Compare performance across all branches")])],-1)),t("div",F,[t("div",B,[t("div",null,[e[2]||(e[2]=t("label",{class:"label"},"Start Date",-1)),g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>r.start_date=s),type:"date",class:"input-field",onChange:c},null,544),[[m,r.start_date]])]),t("div",null,[e[3]||(e[3]=t("label",{class:"label"},"End Date",-1)),g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>r.end_date=s),type:"date",class:"input-field",onChange:c},null,544),[[m,r.end_date]])]),t("div",{class:"flex items-end"},[t("button",{onClick:_,class:"btn-secondary w-full h-[42px] justify-center"},[...e[4]||(e[4]=[t("i",{class:"fas fa-undo mr-2"},null,-1),y("Reset ",-1)])])])])]),t("div",D,[(o(!0),i(u,null,f(n.branches,s=>(o(),i("div",{key:s.id,class:"card p-6"},[t("div",N,[e[5]||(e[5]=t("div",{class:"w-12 h-12 bg-brand-100 dark:bg-brand-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-store text-xl text-brand-600 dark:text-brand-400"})],-1)),t("div",null,[t("h3",T,a(s.name),1),t("p",$,a(s.address||"No address"),1)])]),t("div",V,[t("div",A,[e[6]||(e[6]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Total Sales",-1)),t("span",I,"$"+a(d(s.total_sales)),1)]),t("div",U,[e[7]||(e[7]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Transactions",-1)),t("span",E,a(s.total_transactions),1)]),t("div",L,[e[8]||(e[8]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Avg. Sale",-1)),t("span",M,"$"+a(d(s.average_sale)),1)]),t("div",O,[e[9]||(e[9]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Items Sold",-1)),t("span",P,a(d(s.total_items)),1)])])]))),128))]),t("div",R,[e[11]||(e[11]=t("div",{class:"p-4 border-b border-gray-200 dark:border-slate-700"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},[t("i",{class:"fas fa-chart-bar mr-2 text-brand-500"}),y("Detailed Comparison ")])],-1)),t("div",q,[t("table",z,[e[10]||(e[10]=t("thead",{class:"bg-gray-50 dark:bg-slate-800"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Branch"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sales"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Transactions"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Avg. Sale"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Items"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Share")])],-1)),t("tbody",G,[(o(!0),i(u,null,f(n.branches,s=>(o(),i("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50"},[t("td",H,a(s.name),1),t("td",J,"$"+a(d(s.total_sales)),1),t("td",K,a(s.total_transactions),1),t("td",Q,"$"+a(d(s.average_sale)),1),t("td",W,a(d(s.total_items)),1),t("td",X,a(h(s))+"%",1)]))),128))])])])])])]),_:1}))}};export{st as default};
