import{x as A,s as x,m as y,c as C,w as D,a as e,h as u,b as g,d as l,o,F as E,e as q,n as F,g as d,t as i,p as w,u as t,v as m,L as v,N as B}from"./app-C6lt1uQR.js";import{U as M}from"./UserLayout-DFefiqEp.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-CZ7tcFJn.js";const R={class:"space-y-6"},$={class:"flex gap-2 border-b border-gray-200 dark:border-slate-700"},j=["onClick"],I={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},L={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},Y={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},z={class:"px-4 py-2.5 bg-gray-50 dark:bg-slate-700/50 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-400"},K={class:"flex justify-end"},G=["disabled"],H={key:0,class:"fas fa-spinner animate-spin mr-2"},J={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},O={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},Q={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},W={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},X={class:"flex justify-end"},Z=["disabled"],ee={key:0,class:"fas fa-spinner animate-spin mr-2"},re={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},te={key:0,class:"space-y-6"},se={key:1,class:"space-y-6"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},oe={class:"p-4 border border-gray-300 dark:border-gray-600 rounded-lg"},de=["disabled"],le={key:0,class:"fas fa-spinner animate-spin mr-2"},ne={class:"p-4 border border-red-300 dark:border-red-600 rounded-lg"},ie={class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"},ue={class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6 border border-gray-200 dark:border-slate-700"},be={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},ge={class:"flex gap-3"},me=["disabled"],pe={key:0,class:"fas fa-spinner animate-spin mr-2"},ce=A({__name:"Edit",props:{user:{},twoFactorEnabled:{type:Boolean},hasRecoveryCodes:{type:Boolean}},setup(k){const h=k,p=x("personal"),_=x(!1),f=x(!1),c=x(!1),S=[{id:"personal",label:"Personal Info",icon:"fa-user"},{id:"password",label:"Password",icon:"fa-lock"},{id:"security",label:"Security",icon:"fa-shield-alt"}],n=y({name:h.user.name,email:h.user.email}),a=y({current_password:"",password:"",password_confirmation:""}),b=y({password:""}),T=()=>{n.put(route("user.profile.update"),{preserveScroll:!0})},P=()=>{a.put(route("user.profile.password"),{preserveScroll:!0,onFinish:()=>{a.reset()}})},U=()=>{c.value=!0,y({password:""}).post(route("user.recovery-codes"),{preserveScroll:!0,onFinish:()=>{c.value=!1}})},V=()=>{b.delete(route("user.two-factor.disable"),{preserveScroll:!0,onFinish:()=>{f.value=!1,b.reset()}})};return(fe,r)=>(o(),C(M,null,{default:D(()=>[e("div",R,[r[31]||(r[31]=e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},[e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Profile Settings"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage your account information and security")])],-1)),e("div",$,[(o(),l(E,null,q(S,s=>e("button",{key:s.id,onClick:xe=>p.value=s.id,class:F(["px-4 py-3 font-medium border-b-2 transition-colors -mb-px",p.value===s.id?"border-emerald-600 dark:border-emerald-400 text-emerald-600 dark:text-emerald-400":"border-transparent text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"])},[e("i",{class:F(`fas ${s.icon} mr-2`)},null,2),d(" "+i(s.label),1)],10,j)),64))]),g(e("div",I,[r[14]||(r[14]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"Personal Information",-1)),e("form",{onSubmit:w(T,["prevent"]),class:"space-y-6"},[e("div",null,[r[10]||(r[10]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Full Name",-1)),g(e("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=s=>t(n).name=s),type:"text",class:"w-full px-4 py-2.5 border rounded-lg transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent dark:focus:ring-emerald-400",required:""},null,512),[[m,t(n).name]]),t(n).errors.name?(o(),l("p",L,[r[9]||(r[9]=e("i",{class:"fas fa-exclamation-circle mr-1.5"},null,-1)),d(" "+i(t(n).errors.name),1)])):u("",!0)]),e("div",null,[r[12]||(r[12]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Email Address",-1)),g(e("input",{id:"email","onUpdate:modelValue":r[1]||(r[1]=s=>t(n).email=s),type:"email",class:"w-full px-4 py-2.5 border rounded-lg transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent dark:focus:ring-emerald-400",required:""},null,512),[[m,t(n).email]]),t(n).errors.email?(o(),l("p",Y,[r[11]||(r[11]=e("i",{class:"fas fa-exclamation-circle mr-1.5"},null,-1)),d(" "+i(t(n).errors.email),1)])):u("",!0)]),e("div",null,[r[13]||(r[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Member Since",-1)),e("div",z,i(k.user.created_at),1)]),e("div",K,[e("button",{type:"submit",disabled:t(n).processing,class:"px-6 py-2.5 bg-emerald-600 dark:bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-700 dark:hover:bg-emerald-600 disabled:opacity-50 transition-all duration-300"},[t(n).processing?(o(),l("i",H)):u("",!0),d(" "+i(t(n).processing?"Saving...":"Save Changes"),1)],8,G)])],32)],512),[[v,p.value==="personal"]]),g(e("div",J,[r[21]||(r[21]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"Change Password",-1)),e("form",{onSubmit:w(P,["prevent"]),class:"space-y-6 max-w-md"},[e("div",null,[r[16]||(r[16]=e("label",{for:"current_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Current Password",-1)),g(e("input",{id:"current_password","onUpdate:modelValue":r[2]||(r[2]=s=>t(a).current_password=s),type:"password",class:"w-full px-4 py-2.5 border rounded-lg transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent dark:focus:ring-emerald-400",required:""},null,512),[[m,t(a).current_password]]),t(a).errors.current_password?(o(),l("p",O,[r[15]||(r[15]=e("i",{class:"fas fa-exclamation-circle mr-1.5"},null,-1)),d(" "+i(t(a).errors.current_password),1)])):u("",!0)]),e("div",null,[r[18]||(r[18]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"New Password",-1)),g(e("input",{id:"password","onUpdate:modelValue":r[3]||(r[3]=s=>t(a).password=s),type:"password",class:"w-full px-4 py-2.5 border rounded-lg transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent dark:focus:ring-emerald-400",required:""},null,512),[[m,t(a).password]]),t(a).errors.password?(o(),l("p",Q,[r[17]||(r[17]=e("i",{class:"fas fa-exclamation-circle mr-1.5"},null,-1)),d(" "+i(t(a).errors.password),1)])):u("",!0)]),e("div",null,[r[20]||(r[20]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Confirm Password",-1)),g(e("input",{id:"password_confirmation","onUpdate:modelValue":r[4]||(r[4]=s=>t(a).password_confirmation=s),type:"password",class:"w-full px-4 py-2.5 border rounded-lg transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent dark:focus:ring-emerald-400",required:""},null,512),[[m,t(a).password_confirmation]]),t(a).errors.password_confirmation?(o(),l("p",W,[r[19]||(r[19]=e("i",{class:"fas fa-exclamation-circle mr-1.5"},null,-1)),d(" "+i(t(a).errors.password_confirmation),1)])):u("",!0)]),e("div",X,[e("button",{type:"submit",disabled:t(a).processing,class:"px-6 py-2.5 bg-emerald-600 dark:bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-700 dark:hover:bg-emerald-600 disabled:opacity-50 transition-all duration-300"},[t(a).processing?(o(),l("i",ee)):u("",!0),d(" "+i(t(a).processing?"Updating...":"Update Password"),1)],8,Z)])],32)],512),[[v,p.value==="password"]]),g(e("div",re,[r[30]||(r[30]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"Two-Factor Authentication",-1)),k.twoFactorEnabled?(o(),l("div",se,[r[29]||(r[29]=e("div",{class:"p-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg"},[e("p",{class:"text-green-700 dark:text-green-300 flex items-center gap-2"},[e("i",{class:"fas fa-check-circle"}),e("span",null,"Two-factor authentication is enabled on your account.")])],-1)),e("div",ae,[e("div",oe,[r[24]||(r[24]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},[e("i",{class:"fas fa-key"}),d(" Recovery Codes ")],-1)),r[25]||(r[25]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Keep these codes in a safe place. You can use them to access your account if you lose access to your authenticator. ",-1)),e("button",{onClick:U,disabled:c.value,class:"w-full px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white font-medium rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 disabled:opacity-50 transition-colors text-sm"},[c.value?(o(),l("i",le)):u("",!0),d(" "+i(c.value?"Regenerating...":"Regenerate Codes"),1)],8,de)]),e("div",ne,[r[27]||(r[27]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},[e("i",{class:"fas fa-ban"}),d(" Disable 2FA ")],-1)),r[28]||(r[28]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Remove two-factor authentication from your account. This will reduce your account security. ",-1)),e("button",{onClick:r[6]||(r[6]=s=>f.value=!0),class:"w-full px-4 py-2 bg-red-600 dark:bg-red-500 text-white font-medium rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors text-sm"},[...r[26]||(r[26]=[e("i",{class:"fas fa-times mr-2"},null,-1),d(" Disable 2FA ",-1)])])])])])):(o(),l("div",te,[r[23]||(r[23]=e("div",{class:"p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg"},[e("p",{class:"text-blue-700 dark:text-blue-300 flex items-start gap-2"},[e("i",{class:"fas fa-shield-alt mt-0.5 flex-shrink-0"}),e("span",null,"Two-factor authentication adds an extra layer of security to your account. You'll need to enter a code from your authenticator app in addition to your password when signing in.")])],-1)),e("button",{onClick:r[5]||(r[5]=s=>_.value=!0),class:"px-6 py-3 bg-emerald-600 dark:bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-700 dark:hover:bg-emerald-600 transition-all duration-300 flex items-center gap-2"},[...r[22]||(r[22]=[e("i",{class:"fas fa-shield-check"},null,-1),d(" Enable Two-Factor Authentication ",-1)])])]))],512),[[v,p.value==="security"]])]),f.value?(o(),C(B,{key:0,to:"body"},[e("div",ie,[e("div",ue,[r[33]||(r[33]=e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Disable Two-Factor Authentication?",-1)),r[34]||(r[34]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Are you sure you want to disable two-factor authentication? Your account will be less secure. ",-1)),e("form",{onSubmit:w(V,["prevent"]),class:"space-y-4"},[e("div",null,[r[32]||(r[32]=e("label",{for:"disable_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Confirm with your password: ",-1)),g(e("input",{id:"disable_password","onUpdate:modelValue":r[7]||(r[7]=s=>t(b).password=s),type:"password",class:"w-full px-4 py-2.5 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-red-500",required:""},null,512),[[m,t(b).password]]),t(b).errors.password?(o(),l("p",be,i(t(b).errors.password),1)):u("",!0)]),e("div",ge,[e("button",{type:"button",onClick:r[8]||(r[8]=s=>f.value=!1),class:"flex-1 px-4 py-2.5 bg-gray-300 dark:bg-slate-700 text-gray-900 dark:text-white font-medium rounded-lg hover:bg-gray-400 dark:hover:bg-slate-600 transition-colors"}," Cancel "),e("button",{type:"submit",disabled:t(b).processing,class:"flex-1 px-4 py-2.5 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors"},[t(b).processing?(o(),l("i",pe)):u("",!0),d(" "+i(t(b).processing?"Disabling...":"Disable"),1)],8,me)])],32)])])])):u("",!0)]),_:1}))}}),he=N(ce,[["__scopeId","data-v-145a4475"]]);export{he as default};
