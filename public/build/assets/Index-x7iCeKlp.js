import{r as I,c as S,w as u,a as t,i as p,u as g,l as f,g as d,b as N,v as V,f as F,d as r,h as i,o as a,F as b,e as h,t as l,n as c,j as B}from"./app-hHih9BgC.js";import{_ as L}from"./AdminLayout-B4rk0_5R.js";import{c as H}from"./useFlashMessages-Br0efLxG.js";import"./NavLink-faodrpPr.js";const R={class:"space-y-6"},$={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},z={class:"card p-6"},E={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},O={class:"md:col-span-2"},Y={class:"lg:hidden space-y-4"},q={class:"flex items-start justify-between mb-4"},G={class:"flex items-center gap-3"},J={class:"w-12 h-12 rounded-full bg-gradient-to-br from-brand-400 via-brand-500 to-brand-500 flex items-center justify-center text-white font-bold text-lg shadow-lg"},K={class:"font-semibold text-gray-900 dark:text-white"},P={class:"text-sm text-gray-500 dark:text-gray-400"},Q={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-0.5"},W={class:"space-y-2 mb-4"},X={class:"flex items-center gap-2"},Z={key:0,class:"flex items-start gap-2"},tt={class:"flex flex-wrap gap-1"},et={class:"flex gap-2 pt-3 border-t border-gray-200 dark:border-slate-700"},st=["onClick"],at={key:0,class:"card p-12 text-center"},rt={class:"hidden lg:block card overflow-hidden"},lt={class:"overflow-x-auto"},dt={class:"w-full"},nt={class:"bg-white dark:bg-slate-900 divide-y divide-gray-200 dark:divide-slate-700"},ot={key:0},it={colspan:"5",class:"px-6 py-12 text-center"},ct={class:"flex flex-col items-center justify-center text-gray-500 dark:text-gray-400"},xt={class:"px-6 py-4"},ut={class:"flex items-center gap-3"},gt={class:"w-10 h-10 rounded-full bg-gradient-to-br from-brand-400 via-brand-500 to-brand-500 flex items-center justify-center text-white font-bold shadow-lg ring-2 ring-white dark:ring-slate-900"},ft={class:"font-medium text-gray-900 dark:text-white"},bt={class:"text-sm text-gray-500 dark:text-gray-400"},mt={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-0.5"},yt={class:"px-6 py-4"},pt={class:"px-6 py-4"},ht={class:"flex flex-wrap gap-1"},kt={key:0,class:"px-2 py-1 text-xs bg-brand-100 dark:bg-brand-900/30 text-brand-700 dark:text-brand-400 rounded font-medium"},vt={key:1,class:"text-gray-400 text-sm italic"},wt={class:"px-6 py-4"},_t={class:"px-6 py-4"},jt={class:"flex items-center justify-center gap-2"},At=["onClick"],Tt={key:0,class:"px-6 py-4 border-t border-gray-200 dark:border-slate-700"},Ut={class:"flex items-center justify-between"},Ct={class:"text-sm text-gray-700 dark:text-gray-300"},St={class:"font-medium"},Nt={class:"font-medium"},Bt={class:"font-medium"},Mt={class:"flex gap-2"},Dt=["innerHTML"],Ht={__name:"Index",props:{users:Object,branches:Array,filters:Object},setup(o){var T,U;const v=o,m=I({search:((T=v.filters)==null?void 0:T.search)||"",status:((U=v.filters)==null?void 0:U.status)||""});let w=null;const M=()=>{clearTimeout(w),w=setTimeout(()=>{_()},500)},_=()=>{B.get(route("admin.users.index"),m,{preserveState:!0,preserveScroll:!0})},j=n=>({admin:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",manager:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",cashier:"bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-400"})[n]||"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",D=n=>({admin:"fas fa-user-shield",manager:"fas fa-user-tie",cashier:"fas fa-cash-register"})[n]||"fas fa-user",A=async n=>{(await H({title:"Delete User?",text:`Are you sure you want to delete ${n.name}? This action cannot be undone.`,icon:"warning",confirmButtonText:"Yes, delete it!"})).isConfirmed&&B.delete(route("admin.users.destroy",n.id),{preserveScroll:!0})};return(n,e)=>(a(),S(L,{"page-title":"Users"},{default:u(()=>[t("div",R,[t("div",$,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Users Management"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage staff members and their permissions")],-1)),p(g(f),{href:n.route("admin.users.create"),class:"btn-primary"},{default:u(()=>[...e[2]||(e[2]=[t("i",{class:"fas fa-user-plus mr-2"},null,-1),d("Add New User ",-1)])]),_:1},8,["href"])]),t("div",z,[t("div",E,[t("div",O,[e[4]||(e[4]=t("label",{class:"label"},"Search",-1)),N(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.search=s),type:"text",class:"w-full px-4 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"Search by name, email, or phone...",onInput:M},null,544),[[V,m.search]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"label"},"Status",-1)),N(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>m.status=s),class:"input-field",onChange:_},[...e[5]||(e[5]=[t("option",{value:""},"All Status",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],544),[[F,m.status]])])])]),t("div",Y,[(a(!0),r(b,null,h(o.users.data,s=>{var y;return a(),r("div",{key:s.id,class:"card p-4 hover:shadow-lg transition-shadow"},[t("div",q,[t("div",G,[t("div",J,l(s.name.charAt(0).toUpperCase()),1),t("div",null,[t("p",K,l(s.name),1),t("p",P,l(s.email),1),s.phone_number?(a(),r("p",Q,[e[7]||(e[7]=t("i",{class:"fas fa-phone mr-1"},null,-1)),d(l(s.phone_number),1)])):i("",!0)])]),t("span",{class:c(["px-2 py-1 text-xs font-medium rounded-full",s.is_active?"bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"])},l(s.is_active?"Active":"Inactive"),3)]),t("div",W,[t("div",X,[e[8]||(e[8]=t("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Role:",-1)),t("span",{class:c(["px-2 py-0.5 text-xs font-medium rounded-full capitalize",j(s.role)])},l(s.role),3)]),(y=s.branches)!=null&&y.length?(a(),r("div",Z,[e[9]||(e[9]=t("span",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Branches:",-1)),t("div",tt,[(a(!0),r(b,null,h(s.branches,x=>(a(),r("span",{key:x.id,class:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded"},l(x.name),1))),128))])])):i("",!0)]),t("div",et,[p(g(f),{href:n.route("admin.users.edit",s.id),class:"flex-1 btn-secondary text-center"},{default:u(()=>[...e[10]||(e[10]=[t("i",{class:"fas fa-edit mr-1"},null,-1),d("Edit ",-1)])]),_:1},8,["href"]),t("button",{onClick:x=>A(s),class:"flex-1 btn-danger"},[...e[11]||(e[11]=[t("i",{class:"fas fa-trash mr-1"},null,-1),d("Delete ",-1)])],8,st)])])}),128)),o.users.data.length===0?(a(),r("div",at,[e[13]||(e[13]=t("i",{class:"fas fa-users text-6xl text-gray-300 dark:text-gray-600 mb-4"},null,-1)),e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"No users found",-1)),e[15]||(e[15]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-4"},"Try adjusting your filters or add a new user",-1)),p(g(f),{href:n.route("admin.users.create"),class:"btn-primary inline-flex items-center"},{default:u(()=>[...e[12]||(e[12]=[t("i",{class:"fas fa-user-plus mr-2"},null,-1),d("Add New User ",-1)])]),_:1},8,["href"])])):i("",!0)]),t("div",rt,[t("div",lt,[t("table",dt,[e[23]||(e[23]=t("thead",{class:"bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"User"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32"},"Role"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Branches"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-28"},"Status"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32"},"Actions")])],-1)),t("tbody",nt,[o.users.data.length===0?(a(),r("tr",ot,[t("td",it,[t("div",ct,[e[17]||(e[17]=t("i",{class:"fas fa-users text-6xl mb-4 opacity-50"},null,-1)),e[18]||(e[18]=t("p",{class:"text-lg font-medium mb-1"},"No users found",-1)),e[19]||(e[19]=t("p",{class:"text-sm mb-4"},"Try adjusting your filters or add a new user",-1)),p(g(f),{href:n.route("admin.users.create"),class:"btn-primary"},{default:u(()=>[...e[16]||(e[16]=[t("i",{class:"fas fa-user-plus mr-2"},null,-1),d("Add New User ",-1)])]),_:1},8,["href"])])])])):i("",!0),(a(!0),r(b,null,h(o.users.data,s=>{var y,x,C;return a(),r("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors"},[t("td",xt,[t("div",ut,[t("div",gt,l(s.name.charAt(0).toUpperCase()),1),t("div",null,[t("p",ft,l(s.name),1),t("p",bt,l(s.email),1),s.phone_number?(a(),r("p",mt,[e[20]||(e[20]=t("i",{class:"fas fa-phone mr-1"},null,-1)),d(l(s.phone_number),1)])):i("",!0)])])]),t("td",yt,[t("span",{class:c(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium capitalize whitespace-nowrap",j(s.role)])},[t("i",{class:c([D(s.role),"mr-1.5"])},null,2),d(" "+l(s.role),1)],2)]),t("td",pt,[t("div",ht,[(a(!0),r(b,null,h((y=s.branches)==null?void 0:y.slice(0,2),k=>(a(),r("span",{key:k.id,class:"px-2 py-1 text-xs bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded font-medium"},l(k.name),1))),128)),((x=s.branches)==null?void 0:x.length)>2?(a(),r("span",kt," +"+l(s.branches.length-2)+" more ",1)):i("",!0),(C=s.branches)!=null&&C.length?i("",!0):(a(),r("span",vt,"No branches"))])]),t("td",wt,[t("span",{class:c(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",s.is_active?"bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"])},[t("i",{class:c([s.is_active?"fas fa-check-circle":"fas fa-times-circle","mr-1.5"])},null,2),d(" "+l(s.is_active?"Active":"Inactive"),1)],2)]),t("td",_t,[t("div",jt,[p(g(f),{href:n.route("admin.users.edit",s.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-lg text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 transition-colors",title:"Edit User"},{default:u(()=>[...e[21]||(e[21]=[t("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["href"]),t("button",{onClick:k=>A(s),class:"inline-flex items-center justify-center w-8 h-8 rounded-lg text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 transition-colors",title:"Delete User"},[...e[22]||(e[22]=[t("i",{class:"fas fa-trash"},null,-1)])],8,At)])])])}),128))])])]),o.users.data.length>0?(a(),r("div",Tt,[t("div",Ut,[t("p",Ct,[e[24]||(e[24]=d(" Showing ",-1)),t("span",St,l(o.users.from),1),e[25]||(e[25]=d(" to ",-1)),t("span",Nt,l(o.users.to),1),e[26]||(e[26]=d(" of ",-1)),t("span",Bt,l(o.users.total),1),e[27]||(e[27]=d(" results ",-1))]),t("div",Mt,[(a(!0),r(b,null,h(o.users.links,s=>(a(),r(b,{key:s.label},[s.url?(a(),S(g(f),{key:0,href:s.url,class:c(["px-3 py-1 text-sm rounded-lg border transition-colors",s.active?"bg-brand-600 text-white border-brand-600":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(a(),r("span",{key:1,class:c(["px-3 py-1 text-sm rounded-lg border opacity-50 cursor-not-allowed","bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600"]),innerHTML:s.label},null,8,Dt))],64))),128))])])])):i("",!0)])])]),_:1}))}};export{Ht as default};
