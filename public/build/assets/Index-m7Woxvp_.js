import{r as R,c as B,w as m,a as e,i as k,u as f,l as p,g as d,b as _,v as L,d as r,o as a,F as c,e as y,t as l,f as M,h as u,n as x,j as F}from"./app-C6lt1uQR.js";import{_ as H}from"./AdminLayout-CmvtP4AP.js";import{c as $}from"./useFlashMessages-DqH0SBLZ.js";import"./NavLink-CZ7tcFJn.js";const z={class:"space-y-6"},E={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},O={class:"card p-6"},Y={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},q={class:"lg:col-span-2"},G={class:"relative"},J=["value"],K={class:"lg:hidden space-y-4"},P={class:"flex items-start justify-between mb-4"},Q={class:"flex items-center gap-3"},W={class:"w-12 h-12 rounded-full bg-gradient-to-br from-emerald-400 via-emerald-500 to-teal-500 flex items-center justify-center text-white font-bold text-lg shadow-lg"},X={class:"font-semibold text-gray-900 dark:text-white"},Z={class:"text-sm text-gray-500 dark:text-gray-400"},ee={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-0.5"},te={class:"space-y-2 mb-4"},se={class:"flex items-center gap-2"},ae={key:0,class:"flex items-start gap-2"},re={class:"flex flex-wrap gap-1"},le={class:"flex gap-2 pt-3 border-t border-gray-200 dark:border-slate-700"},de=["onClick"],ne={key:0,class:"card p-12 text-center"},oe={class:"hidden lg:block card overflow-hidden"},ie={class:"overflow-x-auto"},ue={class:"w-full"},xe={class:"bg-white dark:bg-slate-900 divide-y divide-gray-200 dark:divide-slate-700"},ce={key:0},ge={colspan:"5",class:"px-6 py-12 text-center"},me={class:"flex flex-col items-center justify-center text-gray-500 dark:text-gray-400"},fe={class:"px-6 py-4"},pe={class:"flex items-center gap-3"},ye={class:"w-10 h-10 rounded-full bg-gradient-to-br from-emerald-400 via-emerald-500 to-teal-500 flex items-center justify-center text-white font-bold shadow-lg ring-2 ring-white dark:ring-slate-900"},be={class:"font-medium text-gray-900 dark:text-white"},ke={class:"text-sm text-gray-500 dark:text-gray-400"},he={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-0.5"},ve={class:"px-6 py-4"},we={class:"px-6 py-4"},_e={class:"flex flex-wrap gap-1"},je={key:0,class:"px-2 py-1 text-xs bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 rounded font-medium"},Ae={key:1,class:"text-gray-400 text-sm italic"},Ce={class:"px-6 py-4"},Ue={class:"px-6 py-4"},Te={class:"flex items-center justify-center gap-2"},Se=["onClick"],Ne={key:0,class:"px-6 py-4 border-t border-gray-200 dark:border-slate-700"},Be={class:"flex items-center justify-between"},Me={class:"text-sm text-gray-700 dark:text-gray-300"},Fe={class:"font-medium"},Ve={class:"font-medium"},De={class:"font-medium"},Ie={class:"flex gap-2"},Re=["innerHTML"],Ee={__name:"Index",props:{users:Object,branches:Array,filters:Object,roles:Array},setup(o){var U,T,S;const v=o,i=R({search:((U=v.filters)==null?void 0:U.search)||"",role:((T=v.filters)==null?void 0:T.role)||"",status:((S=v.filters)==null?void 0:S.status)||""});let j=null;const V=()=>{clearTimeout(j),j=setTimeout(()=>{h()},500)},h=()=>{F.get(route("admin.users.index"),i,{preserveState:!0,preserveScroll:!0})},D=()=>{i.search="",i.role="",i.status="",h()},A=n=>({admin:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",manager:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",cashier:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",stockist:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"})[n]||"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",I=n=>({admin:"fas fa-user-shield",manager:"fas fa-user-tie",cashier:"fas fa-cash-register",stockist:"fas fa-boxes"})[n]||"fas fa-user",C=async n=>{(await $({title:"Delete User?",text:`Are you sure you want to delete ${n.name}? This action cannot be undone.`,icon:"warning",confirmButtonText:"Yes, delete it!"})).isConfirmed&&F.delete(route("admin.users.destroy",n.id),{preserveScroll:!0})};return(n,t)=>(a(),B(H,{"page-title":"Users"},{default:m(()=>[e("div",z,[e("div",E,[t[4]||(t[4]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Users Management"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage staff members and their permissions")],-1)),k(f(p),{href:n.route("admin.users.create"),class:"btn-primary"},{default:m(()=>[...t[3]||(t[3]=[e("i",{class:"fas fa-user-plus mr-2"},null,-1),d("Add New User ",-1)])]),_:1},8,["href"])]),e("div",O,[e("div",Y,[e("div",q,[t[6]||(t[6]=e("label",{class:"label"},"Search",-1)),e("div",G,[t[5]||(t[5]=e("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.search=s),type:"text",class:"input-field pl-10",placeholder:"Search by name, email, or phone...",onInput:V},null,544),[[L,i.search]])])]),e("div",null,[t[8]||(t[8]=e("label",{class:"label"},"Role",-1)),_(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.role=s),class:"input-field",onChange:h},[t[7]||(t[7]=e("option",{value:""},"All Roles",-1)),(a(!0),r(c,null,y(o.roles,s=>(a(),r("option",{key:s.value,value:s.value},l(s.label),9,J))),128))],544),[[M,i.role]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"label"},"Status",-1)),_(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.status=s),class:"input-field",onChange:h},[...t[9]||(t[9]=[e("option",{value:""},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)])],544),[[M,i.status]])]),e("div",{class:"lg:col-span-4 flex justify-end gap-2"},[e("button",{onClick:D,class:"btn-secondary"},[...t[11]||(t[11]=[e("i",{class:"fas fa-times mr-2"},null,-1),d("Clear Filters ",-1)])])])])]),e("div",K,[(a(!0),r(c,null,y(o.users.data,s=>{var b;return a(),r("div",{key:s.id,class:"card p-4 hover:shadow-lg transition-shadow"},[e("div",P,[e("div",Q,[e("div",W,l(s.name.charAt(0).toUpperCase()),1),e("div",null,[e("p",X,l(s.name),1),e("p",Z,l(s.email),1),s.phone_number?(a(),r("p",ee,[t[12]||(t[12]=e("i",{class:"fas fa-phone mr-1"},null,-1)),d(l(s.phone_number),1)])):u("",!0)])]),e("span",{class:x(["px-2 py-1 text-xs font-medium rounded-full",s.is_active?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"])},l(s.is_active?"Active":"Inactive"),3)]),e("div",te,[e("div",se,[t[13]||(t[13]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Role:",-1)),e("span",{class:x(["px-2 py-0.5 text-xs font-medium rounded-full capitalize",A(s.role)])},l(s.role),3)]),(b=s.branches)!=null&&b.length?(a(),r("div",ae,[t[14]||(t[14]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Branches:",-1)),e("div",re,[(a(!0),r(c,null,y(s.branches,g=>(a(),r("span",{key:g.id,class:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded"},l(g.name),1))),128))])])):u("",!0)]),e("div",le,[k(f(p),{href:n.route("admin.users.edit",s.id),class:"flex-1 btn-secondary text-center"},{default:m(()=>[...t[15]||(t[15]=[e("i",{class:"fas fa-edit mr-1"},null,-1),d("Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:g=>C(s),class:"flex-1 btn-danger"},[...t[16]||(t[16]=[e("i",{class:"fas fa-trash mr-1"},null,-1),d("Delete ",-1)])],8,de)])])}),128)),o.users.data.length===0?(a(),r("div",ne,[t[18]||(t[18]=e("i",{class:"fas fa-users text-6xl text-gray-300 dark:text-gray-600 mb-4"},null,-1)),t[19]||(t[19]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"No users found",-1)),t[20]||(t[20]=e("p",{class:"text-gray-500 dark:text-gray-400 mb-4"},"Try adjusting your filters or add a new user",-1)),k(f(p),{href:n.route("admin.users.create"),class:"btn-primary inline-flex items-center"},{default:m(()=>[...t[17]||(t[17]=[e("i",{class:"fas fa-user-plus mr-2"},null,-1),d("Add New User ",-1)])]),_:1},8,["href"])])):u("",!0)]),e("div",oe,[e("div",ie,[e("table",ue,[t[28]||(t[28]=e("thead",{class:"bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"User"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32"},"Role"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Branches"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-28"},"Status"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32"},"Actions")])],-1)),e("tbody",xe,[o.users.data.length===0?(a(),r("tr",ce,[e("td",ge,[e("div",me,[t[22]||(t[22]=e("i",{class:"fas fa-users text-6xl mb-4 opacity-50"},null,-1)),t[23]||(t[23]=e("p",{class:"text-lg font-medium mb-1"},"No users found",-1)),t[24]||(t[24]=e("p",{class:"text-sm mb-4"},"Try adjusting your filters or add a new user",-1)),k(f(p),{href:n.route("admin.users.create"),class:"btn-primary"},{default:m(()=>[...t[21]||(t[21]=[e("i",{class:"fas fa-user-plus mr-2"},null,-1),d("Add New User ",-1)])]),_:1},8,["href"])])])])):u("",!0),(a(!0),r(c,null,y(o.users.data,s=>{var b,g,N;return a(),r("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors"},[e("td",fe,[e("div",pe,[e("div",ye,l(s.name.charAt(0).toUpperCase()),1),e("div",null,[e("p",be,l(s.name),1),e("p",ke,l(s.email),1),s.phone_number?(a(),r("p",he,[t[25]||(t[25]=e("i",{class:"fas fa-phone mr-1"},null,-1)),d(l(s.phone_number),1)])):u("",!0)])])]),e("td",ve,[e("span",{class:x(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium capitalize whitespace-nowrap",A(s.role)])},[e("i",{class:x([I(s.role),"mr-1.5"])},null,2),d(" "+l(s.role),1)],2)]),e("td",we,[e("div",_e,[(a(!0),r(c,null,y((b=s.branches)==null?void 0:b.slice(0,2),w=>(a(),r("span",{key:w.id,class:"px-2 py-1 text-xs bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded font-medium"},l(w.name),1))),128)),((g=s.branches)==null?void 0:g.length)>2?(a(),r("span",je," +"+l(s.branches.length-2)+" more ",1)):u("",!0),(N=s.branches)!=null&&N.length?u("",!0):(a(),r("span",Ae,"No branches"))])]),e("td",Ce,[e("span",{class:x(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",s.is_active?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"])},[e("i",{class:x([s.is_active?"fas fa-check-circle":"fas fa-times-circle","mr-1.5"])},null,2),d(" "+l(s.is_active?"Active":"Inactive"),1)],2)]),e("td",Ue,[e("div",Te,[k(f(p),{href:n.route("admin.users.edit",s.id),class:"inline-flex items-center justify-center w-8 h-8 rounded-lg text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 transition-colors",title:"Edit User"},{default:m(()=>[...t[26]||(t[26]=[e("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["href"]),e("button",{onClick:w=>C(s),class:"inline-flex items-center justify-center w-8 h-8 rounded-lg text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 transition-colors",title:"Delete User"},[...t[27]||(t[27]=[e("i",{class:"fas fa-trash"},null,-1)])],8,Se)])])])}),128))])])]),o.users.data.length>0?(a(),r("div",Ne,[e("div",Be,[e("p",Me,[t[29]||(t[29]=d(" Showing ",-1)),e("span",Fe,l(o.users.from),1),t[30]||(t[30]=d(" to ",-1)),e("span",Ve,l(o.users.to),1),t[31]||(t[31]=d(" of ",-1)),e("span",De,l(o.users.total),1),t[32]||(t[32]=d(" results ",-1))]),e("div",Ie,[(a(!0),r(c,null,y(o.users.links,s=>(a(),r(c,{key:s.label},[s.url?(a(),B(f(p),{key:0,href:s.url,class:x(["px-3 py-1 text-sm rounded-lg border transition-colors",s.active?"bg-emerald-600 text-white border-emerald-600":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(a(),r("span",{key:1,class:x(["px-3 py-1 text-sm rounded-lg border opacity-50 cursor-not-allowed","bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600"]),innerHTML:s.label},null,8,Re))],64))),128))])])])):u("",!0)])])]),_:1}))}};export{Ee as default};
