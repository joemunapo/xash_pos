import{x as A,s as x,m as y,c as C,w as D,a as r,h as u,b as g,d as l,o,F as E,e as q,n as F,g as d,t as i,p as w,u as t,v as p,L as v,N as B}from"./app-DHqUTiQs.js";import{U as M}from"./UserLayout-AJm-Cs4Y.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-De0s0I7C.js";const R={class:"space-y-6"},$={class:"flex gap-2 border-b border-gray-200 dark:border-slate-700"},j=["onClick"],I={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},L={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},Y={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},z={class:"px-4 py-2.5 bg-gray-50 dark:bg-slate-700/50 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-400"},K={class:"flex justify-end"},G=["disabled"],H={key:0,class:"fas fa-spinner animate-spin mr-2"},J={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},O={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},Q={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},W={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},X={class:"flex justify-end"},Z=["disabled"],rr={key:0,class:"fas fa-spinner animate-spin mr-2"},er={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 border border-gray-200 dark:border-slate-700"},tr={key:0,class:"space-y-6"},sr={key:1,class:"space-y-6"},ar={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},or={class:"p-4 border border-gray-300 dark:border-gray-600 rounded-lg"},dr=["disabled"],lr={key:0,class:"fas fa-spinner animate-spin mr-2"},nr={class:"p-4 border border-red-300 dark:border-red-600 rounded-lg"},ir={class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"},ur={class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6 border border-gray-200 dark:border-slate-700"},br={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},gr={class:"flex gap-3"},pr=["disabled"],cr={key:0,class:"fas fa-spinner animate-spin mr-2"},mr=A({__name:"Edit",props:{user:{},twoFactorEnabled:{type:Boolean},hasRecoveryCodes:{type:Boolean}},setup(k){const h=k,c=x("personal"),_=x(!1),f=x(!1),m=x(!1),S=[{id:"personal",label:"Personal Info",icon:"fa-user"},{id:"password",label:"Password",icon:"fa-lock"},{id:"security",label:"Security",icon:"fa-shield-alt"}],n=y({name:h.user.name,email:h.user.email}),a=y({current_password:"",password:"",password_confirmation:""}),b=y({password:""}),T=()=>{n.put(route("user.profile.update"),{preserveScroll:!0})},P=()=>{a.put(route("user.profile.password"),{preserveScroll:!0,onFinish:()=>{a.reset()}})},U=()=>{m.value=!0,y({password:""}).post(route("user.recovery-codes"),{preserveScroll:!0,onFinish:()=>{m.value=!1}})},V=()=>{b.delete(route("user.two-factor.disable"),{preserveScroll:!0,onFinish:()=>{f.value=!1,b.reset()}})};return(fr,e)=>(o(),C(M,null,{default:D(()=>[r("div",R,[e[31]||(e[31]=r("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},[r("div",null,[r("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Profile Settings"),r("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage your account information and security")])],-1)),r("div",$,[(o(),l(E,null,q(S,s=>r("button",{key:s.id,onClick:xr=>c.value=s.id,class:F(["px-4 py-3 font-medium border-b-2 transition-colors -mb-px",c.value===s.id?"border-brand-600 dark:border-brand-400 text-brand-600 dark:text-brand-400":"border-transparent text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"])},[r("i",{class:F(`fas ${s.icon} mr-2`)},null,2),d(" "+i(s.label),1)],10,j)),64))]),g(r("div",I,[e[14]||(e[14]=r("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"Personal Information",-1)),r("form",{onSubmit:w(T,["prevent"]),class:"space-y-6"},[r("div",null,[e[10]||(e[10]=r("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Full Name",-1)),g(r("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=s=>t(n).name=s),type:"text",class:"w-full px-4 py-2.5 border rounded-lg transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-brand-500 focus:border-transparent dark:focus:ring-brand-400",required:""},null,512),[[p,t(n).name]]),t(n).errors.name?(o(),l("p",L,[e[9]||(e[9]=r("i",{class:"fas fa-exclamation-circle mr-1.5"},null,-1)),d(" "+i(t(n).errors.name),1)])):u("",!0)]),r("div",null,[e[12]||(e[12]=r("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Email Address",-1)),g(r("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=s=>t(n).email=s),type:"email",class:"w-full px-4 py-2.5 border rounded-lg transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-brand-500 focus:border-transparent dark:focus:ring-brand-400",required:""},null,512),[[p,t(n).email]]),t(n).errors.email?(o(),l("p",Y,[e[11]||(e[11]=r("i",{class:"fas fa-exclamation-circle mr-1.5"},null,-1)),d(" "+i(t(n).errors.email),1)])):u("",!0)]),r("div",null,[e[13]||(e[13]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Member Since",-1)),r("div",z,i(k.user.created_at),1)]),r("div",K,[r("button",{type:"submit",disabled:t(n).processing,class:"px-6 py-2.5 bg-brand-600 dark:bg-brand-500 text-white font-semibold rounded-lg hover:bg-brand-700 dark:hover:bg-brand-600 disabled:opacity-50 transition-all duration-300"},[t(n).processing?(o(),l("i",H)):u("",!0),d(" "+i(t(n).processing?"Saving...":"Save Changes"),1)],8,G)])],32)],512),[[v,c.value==="personal"]]),g(r("div",J,[e[21]||(e[21]=r("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"Change Password",-1)),r("form",{onSubmit:w(P,["prevent"]),class:"space-y-6 max-w-md"},[r("div",null,[e[16]||(e[16]=r("label",{for:"current_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Current Password",-1)),g(r("input",{id:"current_password","onUpdate:modelValue":e[2]||(e[2]=s=>t(a).current_password=s),type:"password",class:"w-full px-4 py-2.5 border rounded-lg transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-brand-500 focus:border-transparent dark:focus:ring-brand-400",required:""},null,512),[[p,t(a).current_password]]),t(a).errors.current_password?(o(),l("p",O,[e[15]||(e[15]=r("i",{class:"fas fa-exclamation-circle mr-1.5"},null,-1)),d(" "+i(t(a).errors.current_password),1)])):u("",!0)]),r("div",null,[e[18]||(e[18]=r("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"New Password",-1)),g(r("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=s=>t(a).password=s),type:"password",class:"w-full px-4 py-2.5 border rounded-lg transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-brand-500 focus:border-transparent dark:focus:ring-brand-400",required:""},null,512),[[p,t(a).password]]),t(a).errors.password?(o(),l("p",Q,[e[17]||(e[17]=r("i",{class:"fas fa-exclamation-circle mr-1.5"},null,-1)),d(" "+i(t(a).errors.password),1)])):u("",!0)]),r("div",null,[e[20]||(e[20]=r("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Confirm Password",-1)),g(r("input",{id:"password_confirmation","onUpdate:modelValue":e[4]||(e[4]=s=>t(a).password_confirmation=s),type:"password",class:"w-full px-4 py-2.5 border rounded-lg transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-brand-500 focus:border-transparent dark:focus:ring-brand-400",required:""},null,512),[[p,t(a).password_confirmation]]),t(a).errors.password_confirmation?(o(),l("p",W,[e[19]||(e[19]=r("i",{class:"fas fa-exclamation-circle mr-1.5"},null,-1)),d(" "+i(t(a).errors.password_confirmation),1)])):u("",!0)]),r("div",X,[r("button",{type:"submit",disabled:t(a).processing,class:"px-6 py-2.5 bg-brand-600 dark:bg-brand-500 text-white font-semibold rounded-lg hover:bg-brand-700 dark:hover:bg-brand-600 disabled:opacity-50 transition-all duration-300"},[t(a).processing?(o(),l("i",rr)):u("",!0),d(" "+i(t(a).processing?"Updating...":"Update Password"),1)],8,Z)])],32)],512),[[v,c.value==="password"]]),g(r("div",er,[e[30]||(e[30]=r("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"Two-Factor Authentication",-1)),k.twoFactorEnabled?(o(),l("div",sr,[e[29]||(e[29]=r("div",{class:"p-4 bg-success-50 dark:bg-success-900/30 border border-success-200 dark:border-success-800 rounded-lg"},[r("p",{class:"text-success-700 dark:text-success-300 flex items-center gap-2"},[r("i",{class:"fas fa-check-circle"}),r("span",null,"Two-factor authentication is enabled on your account.")])],-1)),r("div",ar,[r("div",or,[e[24]||(e[24]=r("h3",{class:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},[r("i",{class:"fas fa-key"}),d(" Recovery Codes ")],-1)),e[25]||(e[25]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Keep these codes in a safe place. You can use them to access your account if you lose access to your authenticator. ",-1)),r("button",{onClick:U,disabled:m.value,class:"w-full px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white font-medium rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 disabled:opacity-50 transition-colors text-sm"},[m.value?(o(),l("i",lr)):u("",!0),d(" "+i(m.value?"Regenerating...":"Regenerate Codes"),1)],8,dr)]),r("div",nr,[e[27]||(e[27]=r("h3",{class:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},[r("i",{class:"fas fa-ban"}),d(" Disable 2FA ")],-1)),e[28]||(e[28]=r("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Remove two-factor authentication from your account. This will reduce your account security. ",-1)),r("button",{onClick:e[6]||(e[6]=s=>f.value=!0),class:"w-full px-4 py-2 bg-red-600 dark:bg-red-500 text-white font-medium rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors text-sm"},[...e[26]||(e[26]=[r("i",{class:"fas fa-times mr-2"},null,-1),d(" Disable 2FA ",-1)])])])])])):(o(),l("div",tr,[e[23]||(e[23]=r("div",{class:"p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg"},[r("p",{class:"text-blue-700 dark:text-blue-300 flex items-start gap-2"},[r("i",{class:"fas fa-shield-alt mt-0.5 flex-shrink-0"}),r("span",null,"Two-factor authentication adds an extra layer of security to your account. You'll need to enter a code from your authenticator app in addition to your password when signing in.")])],-1)),r("button",{onClick:e[5]||(e[5]=s=>_.value=!0),class:"px-6 py-3 bg-brand-600 dark:bg-brand-500 text-white font-semibold rounded-lg hover:bg-brand-700 dark:hover:bg-brand-600 transition-all duration-300 flex items-center gap-2"},[...e[22]||(e[22]=[r("i",{class:"fas fa-shield-check"},null,-1),d(" Enable Two-Factor Authentication ",-1)])])]))],512),[[v,c.value==="security"]])]),f.value?(o(),C(B,{key:0,to:"body"},[r("div",ir,[r("div",ur,[e[33]||(e[33]=r("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Disable Two-Factor Authentication?",-1)),e[34]||(e[34]=r("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Are you sure you want to disable two-factor authentication? Your account will be less secure. ",-1)),r("form",{onSubmit:w(V,["prevent"]),class:"space-y-4"},[r("div",null,[e[32]||(e[32]=r("label",{for:"disable_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Confirm with your password: ",-1)),g(r("input",{id:"disable_password","onUpdate:modelValue":e[7]||(e[7]=s=>t(b).password=s),type:"password",class:"w-full px-4 py-2.5 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-red-500",required:""},null,512),[[p,t(b).password]]),t(b).errors.password?(o(),l("p",br,i(t(b).errors.password),1)):u("",!0)]),r("div",gr,[r("button",{type:"button",onClick:e[8]||(e[8]=s=>f.value=!1),class:"flex-1 px-4 py-2.5 bg-gray-300 dark:bg-slate-700 text-gray-900 dark:text-white font-medium rounded-lg hover:bg-gray-400 dark:hover:bg-slate-600 transition-colors"}," Cancel "),r("button",{type:"submit",disabled:t(b).processing,class:"flex-1 px-4 py-2.5 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors"},[t(b).processing?(o(),l("i",cr)):u("",!0),d(" "+i(t(b).processing?"Disabling...":"Disable"),1)],8,pr)])],32)])])])):u("",!0)]),_:1}))}}),hr=N(mr,[["__scopeId","data-v-92ae392d"]]);export{hr as default};
