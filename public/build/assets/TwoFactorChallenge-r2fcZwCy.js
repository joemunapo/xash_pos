import{x as y,s as v,m as b,c as l,w as d,i,a as t,p as h,d as c,o as s,u as r,g as u,n as x,t as _,l as k}from"./app-hHih9BgC.js";import{_ as g}from"./GuestLayout-CYHe7kPB.js";import{A as X,a as V}from"./AuthButton-DkWUM8l8.js";import{F as m}from"./FormInput-DxHYe0Fv.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useFlashMessages-Br0efLxG.js";const C={class:"p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg"},F={class:"text-sm text-blue-700 dark:text-blue-300 flex items-start gap-2"},T={key:0},U={key:1},A={class:"mt-4 text-center text-sm"},B={class:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400"},E=y({__name:"TwoFactorChallenge",setup(S){const a=v(!1),o=b({code:"",recovery_code:""}),f=()=>{o.post(route("two-factor.login.store"),{preserveScroll:!0,onFinish:()=>{o.reset("code","recovery_code")}})};return(p,e)=>(s(),l(g,null,{default:d(()=>[i(X,{title:"Two-Factor Authentication",subtitle:a.value?"Use your recovery code":"Enter your 6-digit code"},{default:d(()=>[t("form",{onSubmit:h(f,["prevent"]),class:"space-y-4"},[t("div",C,[t("p",F,[e[3]||(e[3]=t("i",{class:"fas fa-shield-halved mt-0.5 flex-shrink-0"},null,-1)),t("span",null,[a.value?(s(),c("span",U,"Use one of your recovery codes to sign in if you don't have your authenticator app.")):(s(),c("span",T,"Your account is protected with two-factor authentication."))])])]),t("div",null,[a.value?(s(),l(m,{key:1,modelValue:r(o).recovery_code,"onUpdate:modelValue":e[1]||(e[1]=n=>r(o).recovery_code=n),type:"text",label:"Recovery Code",id:"recovery_code",icon:"fa-shield-check",placeholder:"XXXX-XXXX-XXXX",required:"",autocomplete:"off",error:r(o).errors.recovery_code,hint:"Enter one of your recovery codes"},null,8,["modelValue","error"])):(s(),l(m,{key:0,modelValue:r(o).code,"onUpdate:modelValue":e[0]||(e[0]=n=>r(o).code=n),type:"text",label:"Authentication Code",id:"code",icon:"fa-key",placeholder:"000000",maxlength:"6",inputmode:"numeric",required:"",autocomplete:"off",error:r(o).errors.code,hint:"Enter the 6-digit code from your authenticator app"},null,8,["modelValue","error"]))]),i(V,{type:"submit",label:"Verify",loading:r(o).processing,loadingText:"Verifying...",icon:"fa-circle-check"},null,8,["loading"])],32),t("div",A,[t("button",{type:"button",onClick:e[2]||(e[2]=n=>a.value=!a.value),class:"text-brand-600 dark:text-brand-400 hover:text-brand-700 dark:hover:text-brand-300 font-medium transition-colors"},[t("i",{class:x(`fas ${a.value?"fa-key":"fa-shield-check"} mr-1`)},null,2),u(" "+_(a.value?"Use code instead":"Use recovery code"),1)])]),t("div",B,[i(r(k),{href:p.route("login"),class:"font-medium text-brand-600 dark:text-brand-400 hover:text-brand-700 dark:hover:text-brand-300 transition-colors"},{default:d(()=>[...e[4]||(e[4]=[u(" Sign In ",-1)])]),_:1},8,["href"])])]),_:1},8,["subtitle"])]),_:1}))}}),M=w(E,[["__scopeId","data-v-adb0fb14"]]);export{M as default};
