import{r as _,c as w,w as S,a as t,b as y,v as p,d,o as l,F as c,e as g,t as a,f as j,g as u,h as f,n as D,j as B}from"./app-hHih9BgC.js";import{_ as N}from"./AdminLayout-B4rk0_5R.js";import"./NavLink-faodrpPr.js";import"./useFlashMessages-Br0efLxG.js";const P={class:"space-y-6"},C={class:"card p-4"},F={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},T=["value"],$={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},A={class:"card p-4"},V={class:"flex items-center gap-3"},U={class:"text-xl font-bold text-gray-900 dark:text-white"},z={class:"card p-4"},M={class:"flex items-center gap-3"},R={class:"text-xl font-bold text-gray-900 dark:text-white"},E={class:"card p-4"},I={class:"flex items-center gap-3"},L={class:"text-xl font-bold text-gray-900 dark:text-white"},O={class:"card p-4"},q={class:"flex items-center gap-3"},G={class:"text-xl font-bold text-gray-900 dark:text-white"},H={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},J={class:"card p-6"},K={class:"space-y-3"},Q={class:"flex items-center gap-3"},W={class:"w-8 h-8 rounded-full bg-brand-100 dark:bg-brand-900/30 flex items-center justify-center text-sm font-bold text-brand-600 dark:text-brand-400"},X={class:"font-medium text-gray-900 dark:text-white"},Y={class:"text-sm text-gray-500 dark:text-gray-400"},Z={class:"font-semibold text-brand-600 dark:text-brand-400"},tt={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400"},et={class:"card p-6"},st={class:"space-y-3"},at={class:"flex items-center gap-3"},rt={class:"font-medium text-gray-900 dark:text-white capitalize"},lt={class:"text-sm text-gray-500 dark:text-gray-400"},dt={class:"font-semibold text-brand-600 dark:text-brand-400"},it={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400"},nt={class:"card overflow-hidden"},ot={class:"overflow-x-auto"},xt={class:"w-full"},ct={class:"divide-y divide-gray-200 dark:divide-slate-700"},gt={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},ut={class:"px-6 py-4 text-sm text-gray-900 dark:text-white text-right"},mt={class:"px-6 py-4 text-sm text-gray-900 dark:text-white text-right"},yt={class:"px-6 py-4 text-sm font-medium text-brand-600 dark:text-brand-400 text-right"},ft={key:0},kt={__name:"Sales",props:{dailySales:Array,summary:Object,topProducts:Array,salesByPayment:Array,branches:Array,filters:Object},setup(r){const m=r,i=_({start_date:m.filters.start_date,end_date:m.filters.end_date,branch_id:m.filters.branch_id||""}),x=()=>{B.get(route("admin.reports.sales"),i,{preserveState:!0,preserveScroll:!0})},b=()=>{i.start_date="",i.end_date="",i.branch_id="",x()},n=o=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o||0),h=o=>new Date(o).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),v=o=>({cash:"fas fa-money-bill-wave",card:"fas fa-credit-card",ecocash:"fas fa-mobile-alt",mukuru:"fas fa-exchange-alt"})[o]||"fas fa-money-bill-wave";return(o,e)=>(l(),w(N,{"page-title":"Sales Reports"},{default:S(()=>[t("div",P,[e[23]||(e[23]=t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Sales Reports"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Analyze your sales performance and trends")])],-1)),t("div",C,[t("div",F,[t("div",null,[e[3]||(e[3]=t("label",{class:"label"},"Start Date",-1)),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.start_date=s),type:"date",class:"input-field",onChange:x},null,544),[[p,i.start_date]])]),t("div",null,[e[4]||(e[4]=t("label",{class:"label"},"End Date",-1)),y(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.end_date=s),type:"date",class:"input-field",onChange:x},null,544),[[p,i.end_date]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"label"},"Branch",-1)),y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>i.branch_id=s),class:"input-field",onChange:x},[e[5]||(e[5]=t("option",{value:""},"All Branches",-1)),(l(!0),d(c,null,g(r.branches,s=>(l(),d("option",{key:s.id,value:s.id},a(s.name),9,T))),128))],544),[[j,i.branch_id]])]),t("div",{class:"flex items-end"},[t("button",{onClick:b,class:"btn-secondary w-full h-[42px] justify-center"},[...e[7]||(e[7]=[t("i",{class:"fas fa-undo mr-2"},null,-1),u("Reset ",-1)])])])])]),t("div",$,[t("div",A,[t("div",V,[e[9]||(e[9]=t("div",{class:"w-12 h-12 bg-brand-100 dark:bg-brand-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-dollar-sign text-xl text-brand-600 dark:text-brand-400"})],-1)),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Sales",-1)),t("p",U,"$"+a(n(r.summary.total_sales)),1)])])]),t("div",z,[t("div",M,[e[11]||(e[11]=t("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-receipt text-xl text-blue-600 dark:text-blue-400"})],-1)),t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Transactions",-1)),t("p",R,a(n(r.summary.total_transactions)),1)])])]),t("div",E,[t("div",I,[e[13]||(e[13]=t("div",{class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-chart-line text-xl text-purple-600 dark:text-purple-400"})],-1)),t("div",null,[e[12]||(e[12]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Avg. Transaction",-1)),t("p",L,"$"+a(n(r.summary.average_transaction)),1)])])]),t("div",O,[t("div",q,[e[15]||(e[15]=t("div",{class:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-tags text-xl text-red-600 dark:text-red-400"})],-1)),t("div",null,[e[14]||(e[14]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Discounts",-1)),t("p",G,"$"+a(n(r.summary.total_discounts)),1)])])])]),t("div",H,[t("div",J,[e[17]||(e[17]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},[t("i",{class:"fas fa-trophy mr-2 text-brand-500"}),u("Top Selling Products ")],-1)),t("div",K,[(l(!0),d(c,null,g(r.topProducts,(s,k)=>(l(),d("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-800 rounded-lg"},[t("div",Q,[t("span",W,a(k+1),1),t("div",null,[t("p",X,a(s.name),1),t("p",Y,a(n(s.total_quantity))+" units sold",1)])]),t("p",Z,"$"+a(n(s.total_revenue)),1)]))),128)),r.topProducts.length===0?(l(),d("div",tt,[...e[16]||(e[16]=[t("i",{class:"fas fa-box-open text-4xl mb-2 opacity-50"},null,-1),t("p",null,"No sales data for this period",-1)])])):f("",!0)])]),t("div",et,[e[19]||(e[19]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},[t("i",{class:"fas fa-credit-card mr-2 text-brand-500"}),u("Sales by Payment Method ")],-1)),t("div",st,[(l(!0),d(c,null,g(r.salesByPayment,s=>(l(),d("div",{key:s.payment_method,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-800 rounded-lg"},[t("div",at,[t("i",{class:D([v(s.payment_method),"text-xl text-gray-600 dark:text-gray-400"])},null,2),t("div",null,[t("p",rt,a(s.payment_method||"Cash"),1),t("p",lt,a(s.count)+" transactions",1)])]),t("p",dt,"$"+a(n(s.total)),1)]))),128)),r.salesByPayment.length===0?(l(),d("div",it,[...e[18]||(e[18]=[t("i",{class:"fas fa-credit-card text-4xl mb-2 opacity-50"},null,-1),t("p",null,"No payment data for this period",-1)])])):f("",!0)])])]),t("div",nt,[e[22]||(e[22]=t("div",{class:"p-4 border-b border-gray-200 dark:border-slate-700"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},[t("i",{class:"fas fa-calendar-alt mr-2 text-brand-500"}),u("Daily Sales Breakdown ")])],-1)),t("div",ot,[t("table",xt,[e[21]||(e[21]=t("thead",{class:"bg-gray-50 dark:bg-slate-800"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Date"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Transactions"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Total Sales"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Net Sales")])],-1)),t("tbody",ct,[(l(!0),d(c,null,g(r.dailySales,s=>(l(),d("tr",{key:s.date,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50"},[t("td",gt,a(h(s.date)),1),t("td",ut,a(s.transactions),1),t("td",mt,"$"+a(n(s.total_sales)),1),t("td",yt,"$"+a(n(s.net_sales)),1)]))),128)),r.dailySales.length===0?(l(),d("tr",ft,[...e[20]||(e[20]=[t("td",{colspan:"4",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"},[t("i",{class:"fas fa-chart-bar text-4xl mb-2 opacity-50"}),t("p",null,"No sales data for this period")],-1)])])):f("",!0)])])])])])]),_:1}))}};export{kt as default};
