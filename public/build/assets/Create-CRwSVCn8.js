import{m as h,E as k,c as w,w as g,a as e,p as U,g as p,b as i,d as o,h as n,u as r,v as u,o as a,t as d,F as x,e as y,f,q as V,i as C,l as q,n as A}from"./app-hHih9BgC.js";import{_ as N}from"./AdminLayout-B4rk0_5R.js";import"./NavLink-faodrpPr.js";import"./useFlashMessages-Br0efLxG.js";const S={class:"space-y-6"},B={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},F={class:"space-y-6"},P={class:"card p-6"},M={class:"space-y-4"},D={key:0,class:"text-red-500 text-sm mt-1"},E={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},j={key:0,class:"text-red-500 text-sm mt-1"},R={key:0,class:"text-red-500 text-sm mt-1"},T={class:"card p-6"},z={class:"space-y-4"},J={key:0,class:"text-red-500 text-sm mt-1"},L={key:0,class:"text-red-500 text-sm mt-1"},O={key:1,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},$={class:"space-y-6"},G={class:"card p-6"},H=["value"],I={key:0,class:"text-red-500 text-sm mt-1"},K={class:"card p-6"},Q={class:"space-y-4"},W={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2"},X=["value"],Y={class:"text-sm text-gray-700 dark:text-gray-300"},Z={key:0,class:"text-red-500 text-sm mt-1"},ee={key:0},se=["value"],te={key:0,class:"text-red-500 text-sm mt-1"},re={class:"card p-6"},le={class:"flex items-center justify-end gap-3"},ae=["disabled"],pe={__name:"Create",props:{branches:Array,roles:Array},setup(c){const t=h({name:"",email:"",phone_number:"",password:"",pin:"",role:"",branches:[],primary_branch_id:null});k(()=>t.branches,m=>{m.length>0&&!m.includes(t.primary_branch_id)&&(t.primary_branch_id=m[0])});const v=()=>{t.post(route("admin.users.store"))};return(m,s)=>(a(),w(N,{"page-title":"Create User"},{default:g(()=>[e("div",S,[s[22]||(s[22]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Create User"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Add a new staff member to your team")],-1)),e("form",{onSubmit:U(v,["prevent"])},[e("div",B,[e("div",F,[e("div",P,[s[11]||(s[11]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 pb-2 border-b border-gray-200 dark:border-slate-700"},[e("i",{class:"fas fa-user mr-2 text-brand-500"}),p("Account Information ")],-1)),e("div",M,[e("div",null,[s[8]||(s[8]=e("label",{class:"label"},"Full Name *",-1)),i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>r(t).name=l),type:"text",class:"input-field",placeholder:"John Doe",required:""},null,512),[[u,r(t).name]]),r(t).errors.name?(a(),o("p",D,d(r(t).errors.name),1)):n("",!0)]),e("div",E,[e("div",null,[s[9]||(s[9]=e("label",{class:"label"},"Email *",-1)),i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>r(t).email=l),type:"email",class:"input-field",placeholder:"john@example.com",required:""},null,512),[[u,r(t).email]]),r(t).errors.email?(a(),o("p",j,d(r(t).errors.email),1)):n("",!0)]),e("div",null,[s[10]||(s[10]=e("label",{class:"label"},"Phone",-1)),i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>r(t).phone_number=l),type:"text",class:"input-field",placeholder:"+263771234567"},null,512),[[u,r(t).phone_number]]),r(t).errors.phone_number?(a(),o("p",R,d(r(t).errors.phone_number),1)):n("",!0)])])])]),e("div",T,[s[14]||(s[14]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 pb-2 border-b border-gray-200 dark:border-slate-700"},[e("i",{class:"fas fa-lock mr-2 text-brand-500"}),p("Security ")],-1)),e("div",z,[e("div",null,[s[12]||(s[12]=e("label",{class:"label"},"Password *",-1)),i(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>r(t).password=l),type:"password",class:"input-field",placeholder:"••••••••",required:""},null,512),[[u,r(t).password]]),r(t).errors.password?(a(),o("p",J,d(r(t).errors.password),1)):n("",!0)]),e("div",null,[s[13]||(s[13]=e("label",{class:"label"},"PIN (4-6 digits)",-1)),i(e("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>r(t).pin=l),type:"text",maxlength:"6",class:"input-field",placeholder:"1234"},null,512),[[u,r(t).pin]]),r(t).errors.pin?(a(),o("p",L,d(r(t).errors.pin),1)):(a(),o("p",O,"For POS device login"))])])])]),e("div",$,[e("div",G,[s[17]||(s[17]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 pb-2 border-b border-gray-200 dark:border-slate-700"},[e("i",{class:"fas fa-user-tag mr-2 text-brand-500"}),p("Role ")],-1)),e("div",null,[s[16]||(s[16]=e("label",{class:"label"},"User Role *",-1)),i(e("select",{"onUpdate:modelValue":s[5]||(s[5]=l=>r(t).role=l),class:"input-field",required:""},[s[15]||(s[15]=e("option",{value:"",disabled:""},"Select a role",-1)),(a(!0),o(x,null,y(c.roles,l=>(a(),o("option",{key:l.value,value:l.value},d(l.label),9,H))),128))],512),[[f,r(t).role]]),r(t).errors.role?(a(),o("p",I,d(r(t).errors.role),1)):n("",!0)])]),e("div",K,[s[20]||(s[20]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 pb-2 border-b border-gray-200 dark:border-slate-700"},[e("i",{class:"fas fa-store mr-2 text-brand-500"}),p("Branch Assignment ")],-1)),e("div",Q,[e("div",null,[s[18]||(s[18]=e("label",{class:"label"},"Assign to Branches",-1)),e("div",W,[(a(!0),o(x,null,y(c.branches,l=>(a(),o("label",{key:l.id,class:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors"},[i(e("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":s[6]||(s[6]=b=>r(t).branches=b),class:"w-4 h-4 text-brand-600 rounded border-gray-300 focus:ring-brand-500"},null,8,X),[[V,r(t).branches]]),e("span",Y,d(l.name),1)]))),128))]),r(t).errors.branches?(a(),o("p",Z,d(r(t).errors.branches),1)):n("",!0)]),r(t).branches.length>0?(a(),o("div",ee,[s[19]||(s[19]=e("label",{class:"label"},"Primary Branch *",-1)),i(e("select",{"onUpdate:modelValue":s[7]||(s[7]=l=>r(t).primary_branch_id=l),class:"input-field",required:""},[(a(!0),o(x,null,y(r(t).branches,l=>{var b;return a(),o("option",{key:l,value:l},d((b=c.branches.find(_=>_.id===l))==null?void 0:b.name),9,se)}),128))],512),[[f,r(t).primary_branch_id]]),r(t).errors.primary_branch_id?(a(),o("p",te,d(r(t).errors.primary_branch_id),1)):n("",!0)])):n("",!0)])]),e("div",re,[e("div",le,[C(r(q),{href:m.route("admin.users.index"),class:"btn-secondary"},{default:g(()=>[...s[21]||(s[21]=[e("i",{class:"fas fa-times mr-2"},null,-1),p("Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:r(t).processing,class:"btn-primary"},[e("i",{class:A([r(t).processing?"fas fa-spinner fa-spin":"fas fa-save","mr-2"])},null,2),p(" "+d(r(t).processing?"Creating...":"Create User"),1)],8,ae)])])])])],32)])]),_:1}))}};export{pe as default};
