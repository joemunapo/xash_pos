import{r as D,c as k,w as _,a as t,b as c,d as r,o as a,F as x,e as m,t as d,f as L,v,g as n,h as w,i as M,u as B,l as C,n as V,j as R}from"./app-hHih9BgC.js";import{_ as S}from"./AdminLayout-B4rk0_5R.js";import"./NavLink-faodrpPr.js";import"./useFlashMessages-Br0efLxG.js";const j={class:"space-y-6"},A={class:"card p-6"},N={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},H=["value"],O={class:"card overflow-hidden"},U={class:"overflow-x-auto"},$={class:"w-full"},z={class:"bg-white dark:bg-slate-900 divide-y divide-gray-200 dark:divide-slate-700"},E={key:0},G={class:"px-6 py-4"},W={class:"font-mono text-sm font-medium text-gray-900 dark:text-white"},q={class:"px-6 py-4 text-sm text-gray-900 dark:text-white whitespace-nowrap"},I={class:"px-6 py-4"},J={key:0},K={class:"text-sm font-medium text-gray-900 dark:text-white"},P={class:"text-xs text-gray-500 dark:text-gray-400"},Q={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},X={class:"px-6 py-4"},Y={class:"px-2.5 py-1 text-xs font-medium bg-gray-100 dark:bg-slate-700 rounded"},Z={class:"px-6 py-4 text-right"},tt={class:"text-lg font-semibold text-red-600 dark:text-red-400"},et={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},st={class:"px-6 py-4 text-center"},at={key:0,class:"px-6 py-4 border-t border-gray-200 dark:border-slate-700"},rt={class:"flex items-center justify-between"},dt={class:"text-sm text-gray-700 dark:text-gray-300"},lt={class:"font-medium"},ot={class:"font-medium"},nt={class:"font-medium"},it={class:"flex gap-2"},xt=["innerHTML"],yt={__name:"Refunds",props:{refunds:Object,branches:Array,filters:Object},setup(o){var y,g,f;const u=o,l=D({branch_id:((y=u.filters)==null?void 0:y.branch_id)||"",date_from:((g=u.filters)==null?void 0:g.date_from)||"",date_to:((f=u.filters)==null?void 0:f.date_to)||""}),i=()=>{R.get(route("admin.sales.refunds"),l,{preserveState:!0,preserveScroll:!0})},F=()=>{l.branch_id="",l.date_from="",l.date_to="",i()},T=p=>new Date(p).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return(p,e)=>(a(),k(S,{"page-title":"Refunds"},{default:_(()=>[t("div",j,[e[16]||(e[16]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Refunds"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"View all refunded transactions")],-1)),t("div",A,[t("div",N,[t("div",null,[e[4]||(e[4]=t("label",{class:"label"},"Branch",-1)),c(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.branch_id=s),class:"input-field",onChange:i},[e[3]||(e[3]=t("option",{value:""},"All Branches",-1)),(a(!0),r(x,null,m(o.branches,s=>(a(),r("option",{key:s.id,value:s.id},d(s.name),9,H))),128))],544),[[L,l.branch_id]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"label"},"From Date",-1)),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.date_from=s),type:"date",class:"input-field",onChange:i},null,544),[[v,l.date_from]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"label"},"To Date",-1)),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.date_to=s),type:"date",class:"input-field",onChange:i},null,544),[[v,l.date_to]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"label invisible"},"Action",-1)),t("button",{onClick:F,class:"btn-secondary w-full h-[42px] flex items-center justify-center"},[...e[7]||(e[7]=[t("i",{class:"fas fa-times mr-2"},null,-1),n("Clear ",-1)])])])])]),t("div",O,[t("div",U,[t("table",$,[e[11]||(e[11]=t("thead",{class:"bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Receipt #"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Original Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Customer"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-40"},"Branch"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-32"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-32"},"Refunded By"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase w-24"},"Action")])],-1)),t("tbody",z,[o.refunds.data.length===0?(a(),r("tr",E,[...e[9]||(e[9]=[t("td",{colspan:"7",class:"px-6 py-12 text-center"},[t("i",{class:"fas fa-undo text-6xl text-gray-300 dark:text-gray-600 mb-4"}),t("p",{class:"text-lg font-medium text-gray-900 dark:text-white mb-1"},"No refunds found"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Refunded transactions will appear here")],-1)])])):w("",!0),(a(!0),r(x,null,m(o.refunds.data,s=>{var b,h;return a(),r("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50"},[t("td",G,[t("span",W,d(s.receipt_number),1)]),t("td",q,d(T(s.created_at)),1),t("td",I,[s.customer?(a(),r("div",J,[t("p",K,d(s.customer.name),1),t("p",P,d(s.customer.phone),1)])):(a(),r("span",Q,"Walk-in"))]),t("td",X,[t("span",Y,d((b=s.branch)==null?void 0:b.name),1)]),t("td",Z,[t("span",tt,"-$"+d(parseFloat(s.total_amount).toFixed(2)),1)]),t("td",et,d((h=s.user)==null?void 0:h.name),1),t("td",st,[M(B(C),{href:p.route("admin.sales.show",s.id),class:"btn-primary text-sm py-1.5 px-3"},{default:_(()=>[...e[10]||(e[10]=[t("i",{class:"fas fa-eye mr-1.5"},null,-1),n("View ",-1)])]),_:1},8,["href"])])])}),128))])])]),o.refunds.data.length>0?(a(),r("div",at,[t("div",rt,[t("p",dt,[e[12]||(e[12]=n(" Showing ",-1)),t("span",lt,d(o.refunds.from),1),e[13]||(e[13]=n(" to ",-1)),t("span",ot,d(o.refunds.to),1),e[14]||(e[14]=n(" of ",-1)),t("span",nt,d(o.refunds.total),1),e[15]||(e[15]=n(" results ",-1))]),t("div",it,[(a(!0),r(x,null,m(o.refunds.links,s=>(a(),r(x,{key:s.label},[s.url?(a(),k(B(C),{key:0,href:s.url,class:V(["px-3 py-1 text-sm rounded-lg border",s.active?"bg-brand-600 text-white border-brand-600":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(a(),r("span",{key:1,class:V(["px-3 py-1 text-sm rounded-lg border opacity-50 cursor-not-allowed bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600"]),innerHTML:s.label},null,8,xt))],64))),128))])])])):w("",!0)])])]),_:1}))}};export{yt as default};
