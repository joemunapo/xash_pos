import{r as L,c as A,w as c,a as t,d as n,h as p,i as g,u,l as x,g as l,b as j,v as U,o as a,f as H,F as m,e as b,t as r,n as h,j as v}from"./app-DHqUTiQs.js";import{_ as z}from"./SuperAdminLayout-okY67_wU.js";import{c as B}from"./useFlashMessages-BBgF2e5c.js";import"./NavLink-De0s0I7C.js";const D={class:"space-y-6"},I={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},O={class:"card"},P={class:"flex flex-col sm:flex-row gap-3"},Y={class:"flex-1 relative"},q={class:"relative sm:w-48"},E={class:"lg:hidden space-y-3"},G={class:"flex items-start justify-between mb-3"},J={class:"flex items-center gap-3"},K={class:"w-10 h-10 rounded-lg bg-gradient-to-br from-brand-400 to-brand-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0"},Q={class:"text-sm text-gray-500 dark:text-gray-400"},R={class:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3"},W={class:"flex items-center gap-2"},X=["onClick"],Z=["onClick"],tt={key:0,class:"card text-center py-12"},et={class:"hidden lg:block card !p-0 overflow-hidden"},st={class:"w-full"},at={class:"divide-y divide-gray-100 dark:divide-slate-800"},rt={class:"px-4 py-3"},nt={class:"flex items-center gap-3"},ot={class:"w-9 h-9 rounded-lg bg-gradient-to-br from-brand-400 to-brand-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0"},lt={class:"text-sm text-gray-500 dark:text-gray-400"},it={class:"px-4 py-3"},dt={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400"},ct={class:"px-4 py-3 text-center text-sm text-gray-600 dark:text-gray-400"},ut={class:"px-4 py-3 text-center text-sm text-gray-600 dark:text-gray-400"},xt={class:"px-4 py-3 text-center text-sm text-gray-600 dark:text-gray-400"},pt={class:"px-4 py-3"},gt={class:"flex items-center justify-end gap-2"},ft=["onClick"],yt=["onClick"],mt={key:0,class:"text-center py-12"},bt={key:0,class:"flex items-center justify-between"},ht={class:"text-sm text-gray-500 dark:text-gray-400"},vt={class:"flex gap-1"},kt=["innerHTML"],St={__name:"Index",props:{tenants:Object,filters:Object},setup(d){var S,$;const k=d,i=L({search:((S=k.filters)==null?void 0:S.search)||"",status:(($=k.filters)==null?void 0:$.status)||""});let w=null;const N=()=>{clearTimeout(w),w=setTimeout(()=>f(),500)},f=()=>{v.get(route("superadmin.tenants.index"),i,{preserveState:!0,preserveScroll:!0})},V=()=>{i.search="",f()},F=()=>{i.search="",i.status="",f()},_=async o=>{(await B({title:"Suspend Tenant?",text:`Are you sure you want to suspend "${o.name}"? Their users will lose access.`,icon:"warning",confirmButtonText:"Yes, suspend"})).isConfirmed&&v.post(route("superadmin.tenants.suspend",o.id))},C=async o=>{(await B({title:"Activate Tenant?",text:`Are you sure you want to activate "${o.name}"?`,icon:"question",confirmButtonText:"Yes, activate"})).isConfirmed&&v.post(route("superadmin.tenants.activate",o.id))},T=o=>{const e="px-2 py-1 text-xs font-medium rounded-full capitalize";switch(o){case"active":return`${e} bg-success-100 text-success-700 dark:bg-success-900/30 dark:text-success-400`;case"trial":return`${e} bg-warn-100 text-warn-700 dark:bg-warn-900/30 dark:text-warn-400`;case"suspended":return`${e} bg-danger-100 text-danger-700 dark:bg-danger-900/30 dark:text-danger-400`;case"cancelled":return`${e} bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400`;default:return`${e} bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400`}};return(o,e)=>(a(),A(z,{"page-title":"Tenants"},{default:c(()=>[t("div",D,[t("div",I,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Tenants"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage all tenant accounts on the platform.")],-1)),g(u(x),{href:o.route("superadmin.tenants.create"),class:"inline-flex items-center px-4 py-2 bg-brand-500 text-white text-sm font-medium rounded-lg hover:bg-brand-600 transition-colors shadow-sm"},{default:c(()=>[...e[2]||(e[2]=[t("i",{class:"fas fa-plus mr-2"},null,-1),l(" New Tenant ",-1)])]),_:1},8,["href"])]),t("div",O,[t("div",P,[t("div",Y,[e[5]||(e[5]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("i",{class:"fas fa-search text-gray-400"})],-1)),j(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.search=s),onInput:N,type:"text",placeholder:"Search by name, email, or domain...",class:"input-field pl-10 pr-10"},null,544),[[U,i.search]]),i.search?(a(),n("button",{key:0,onClick:V,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...e[4]||(e[4]=[t("i",{class:"fas fa-times"},null,-1)])])):p("",!0)]),t("div",q,[e[7]||(e[7]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("i",{class:"fas fa-filter text-gray-400 text-sm"})],-1)),j(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.status=s),onChange:f,class:"input-field pl-9 appearance-none"},[...e[6]||(e[6]=[t("option",{value:""},"All Statuses",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"trial"},"Trial",-1),t("option",{value:"suspended"},"Suspended",-1),t("option",{value:"cancelled"},"Cancelled",-1)])],544),[[H,i.status]]),e[8]||(e[8]=t("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[t("i",{class:"fas fa-chevron-down text-gray-400 text-xs"})],-1))]),i.search||i.status?(a(),n("button",{key:0,onClick:F,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors whitespace-nowrap"},[...e[9]||(e[9]=[t("i",{class:"fas fa-times-circle mr-2"},null,-1),l("Clear Filters ",-1)])])):p("",!0)])]),t("div",E,[(a(!0),n(m,null,b(d.tenants.data,s=>(a(),n("div",{key:s.id,class:"card"},[t("div",G,[t("div",J,[t("div",K,r(s.name.charAt(0).toUpperCase()),1),t("div",null,[g(u(x),{href:o.route("superadmin.tenants.show",s.id),class:"font-semibold text-gray-900 dark:text-white hover:text-brand-600"},{default:c(()=>[l(r(s.name),1)]),_:2},1032,["href"]),t("p",Q,r(s.email),1)])]),t("span",{class:h(T(s.subscription_status))},r(s.subscription_status),3)]),t("div",R,[t("span",null,[e[10]||(e[10]=t("i",{class:"fas fa-users mr-1"},null,-1)),l(r(s.users_count)+" users",1)]),t("span",null,[e[11]||(e[11]=t("i",{class:"fas fa-store mr-1"},null,-1)),l(r(s.branches_count)+" branches",1)]),t("span",null,[e[12]||(e[12]=t("i",{class:"fas fa-box mr-1"},null,-1)),l(r(s.products_count)+" products",1)])]),t("div",W,[g(u(x),{href:o.route("superadmin.tenants.show",s.id),class:"px-3 py-1.5 text-xs font-medium bg-brand-600 text-white rounded hover:bg-brand-700 transition-colors"},{default:c(()=>[...e[13]||(e[13]=[t("i",{class:"fas fa-eye mr-1"},null,-1),l("View ",-1)])]),_:1},8,["href"]),s.subscription_status!=="suspended"?(a(),n("button",{key:0,onClick:y=>_(s),class:"px-3 py-1.5 text-xs font-medium bg-danger-600 text-white rounded hover:bg-danger-700 transition-colors"},[...e[14]||(e[14]=[t("i",{class:"fas fa-ban mr-1"},null,-1),l("Suspend ",-1)])],8,X)):(a(),n("button",{key:1,onClick:y=>C(s),class:"px-3 py-1.5 text-xs font-medium bg-success-600 text-white rounded hover:bg-success-700 transition-colors"},[...e[15]||(e[15]=[t("i",{class:"fas fa-check mr-1"},null,-1),l("Activate ",-1)])],8,Z))])]))),128)),d.tenants.data.length===0?(a(),n("div",tt,[...e[16]||(e[16]=[t("i",{class:"fas fa-building text-4xl mb-3 text-gray-300 dark:text-gray-600"},null,-1),t("p",{class:"text-gray-500 dark:text-gray-400"},"No tenants found",-1)])])):p("",!0)]),t("div",et,[t("table",st,[e[20]||(e[20]=t("thead",{class:"bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700"},[t("tr",null,[t("th",{class:"text-left px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Tenant"),t("th",{class:"text-left px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Status"),t("th",{class:"text-left px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Plan"),t("th",{class:"text-center px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Users"),t("th",{class:"text-center px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Branches"),t("th",{class:"text-center px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Products"),t("th",{class:"text-right px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},"Actions")])],-1)),t("tbody",at,[(a(!0),n(m,null,b(d.tenants.data,s=>{var y;return a(),n("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors"},[t("td",rt,[t("div",nt,[t("div",ot,r(s.name.charAt(0).toUpperCase()),1),t("div",null,[g(u(x),{href:o.route("superadmin.tenants.show",s.id),class:"font-medium text-gray-900 dark:text-white hover:text-brand-600 dark:hover:text-brand-400"},{default:c(()=>[l(r(s.name),1)]),_:2},1032,["href"]),t("p",lt,r(s.email),1)])])]),t("td",it,[t("span",{class:h(T(s.subscription_status))},r(s.subscription_status),3)]),t("td",dt,r(((y=s.active_subscription)==null?void 0:y.plan_name)||"No plan"),1),t("td",ct,r(s.users_count),1),t("td",ut,r(s.branches_count),1),t("td",xt,r(s.products_count),1),t("td",pt,[t("div",gt,[g(u(x),{href:o.route("superadmin.tenants.show",s.id),class:"px-3 py-1.5 text-xs font-medium bg-brand-600 text-white rounded hover:bg-brand-700 transition-colors"},{default:c(()=>[...e[17]||(e[17]=[t("i",{class:"fas fa-eye mr-1"},null,-1),l("View ",-1)])]),_:1},8,["href"]),s.subscription_status!=="suspended"?(a(),n("button",{key:0,onClick:M=>_(s),class:"px-3 py-1.5 text-xs font-medium bg-danger-600 text-white rounded hover:bg-danger-700 transition-colors"},[...e[18]||(e[18]=[t("i",{class:"fas fa-ban mr-1"},null,-1),l("Suspend ",-1)])],8,ft)):(a(),n("button",{key:1,onClick:M=>C(s),class:"px-3 py-1.5 text-xs font-medium bg-success-600 text-white rounded hover:bg-success-700 transition-colors"},[...e[19]||(e[19]=[t("i",{class:"fas fa-check mr-1"},null,-1),l("Activate ",-1)])],8,yt))])])])}),128))])]),d.tenants.data.length===0?(a(),n("div",mt,[...e[21]||(e[21]=[t("i",{class:"fas fa-building text-4xl mb-3 text-gray-300 dark:text-gray-600"},null,-1),t("p",{class:"text-gray-500 dark:text-gray-400"},"No tenants found",-1)])])):p("",!0)]),d.tenants.last_page>1?(a(),n("div",bt,[t("p",ht," Showing "+r(d.tenants.from)+" to "+r(d.tenants.to)+" of "+r(d.tenants.total)+" tenants ",1),t("div",vt,[(a(!0),n(m,null,b(d.tenants.links,s=>(a(),n(m,{key:s.label},[s.url?(a(),A(u(x),{key:0,href:s.url,innerHTML:s.label,class:h(["px-3 py-1.5 text-sm rounded border transition-colors",s.active?"bg-brand-600 text-white border-brand-600":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"]),"preserve-state":"","preserve-scroll":""},null,8,["href","innerHTML","class"])):(a(),n("span",{key:1,innerHTML:s.label,class:"px-3 py-1.5 text-sm rounded border border-gray-200 dark:border-slate-700 text-gray-400 dark:text-gray-600 bg-white dark:bg-slate-800"},null,8,kt))],64))),128))])])):p("",!0)])]),_:1}))}};export{St as default};
