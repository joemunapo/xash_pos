import{k as S,c as V,w as h,a as t,d as r,h as c,i as j,u as B,l as C,g as u,n as k,t as l,o as d,F as f,e as b}from"./app-hHih9BgC.js";import{_ as O}from"./AdminLayout-B4rk0_5R.js";import"./NavLink-faodrpPr.js";import"./useFlashMessages-Br0efLxG.js";const D={class:"max-w-4xl space-y-6"},L={class:"mb-6"},I={class:"card p-6 space-y-6"},P={class:"pb-4 border-b border-gray-200 dark:border-slate-700"},T={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},E={class:"text-gray-900 dark:text-white font-medium"},F={class:"text-gray-900 dark:text-white font-medium"},K={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},M={class:"text-gray-900 dark:text-white font-medium"},z={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},J={class:"text-gray-900 dark:text-white font-medium"},Y={class:"text-gray-900 dark:text-white font-medium font-mono"},$={class:"text-gray-900 dark:text-white text-sm break-all"},q={key:0,class:"card p-6"},G={class:"bg-gray-50 dark:bg-slate-800 rounded-lg p-4"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q={class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"},R={class:"text-gray-900 dark:text-white mt-1 font-medium"},W={key:1,class:"card p-6"},X={class:"bg-brand-50 dark:bg-brand-900/20 rounded-lg p-4"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},tt={class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"},et={class:"text-gray-900 dark:text-white mt-1 font-medium"},st={key:2,class:"card p-6"},at={class:"space-y-3"},lt={class:"flex-1"},ot={class:"text-sm font-medium text-gray-900 dark:text-white"},dt={class:"flex items-center gap-2"},rt={class:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded text-sm line-through"},nt={class:"px-3 py-1 bg-brand-100 dark:bg-brand-900/30 text-brand-700 dark:text-brand-400 rounded text-sm font-medium"},mt={__name:"Show",props:{log:Object},setup(a){const n=a,y=S(()=>n.log.old_values&&n.log.new_values&&Object.keys(n.log.old_values).length>0&&Object.keys(n.log.new_values).length>0),v=s=>new Date(s).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),w=s=>s.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),m=s=>s==null?"N/A":typeof s=="boolean"?s?"Yes":"No":typeof s=="object"?JSON.stringify(s,null,2):String(s),p=s=>({created:"badge-success",updated:"badge-info",deleted:"badge-danger",login:"badge-primary",logout:"badge-secondary",failed_login:"badge-warning"})[s]||"badge-secondary",_=s=>({created:"fas fa-plus",updated:"fas fa-edit",deleted:"fas fa-trash",login:"fas fa-sign-in-alt",logout:"fas fa-sign-out-alt",failed_login:"fas fa-exclamation-triangle"})[s]||"fas fa-info-circle",A=s=>{if(!s)return"N/A";const e=s.split("\\");return e[e.length-1]},N=()=>{if(!y.value)return[];const s=[],e=n.log.old_values||{},i=n.log.new_values||{};return new Set([...Object.keys(e),...Object.keys(i)]).forEach(o=>{e[o]!==i[o]&&s.push({field:o,old:e[o],new:i[o]})}),s};return(s,e)=>(d(),V(O,{"page-title":"Activity Details"},{default:h(()=>{var i,x;return[t("div",D,[t("div",L,[j(B(C),{href:s.route("admin.activity-logs.index"),class:"inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4"},{default:h(()=>[...e[0]||(e[0]=[t("i",{class:"fas fa-arrow-left mr-2"},null,-1),u(" Back to Activity Logs ",-1)])]),_:1},8,["href"]),e[1]||(e[1]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Activity Log Details",-1)),e[2]||(e[2]=t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Detailed information about this activity",-1))]),t("div",I,[t("div",P,[t("h2",T,[t("span",{class:k([p(a.log.action),"badge text-base"])},[t("i",{class:k([_(a.log.action),"mr-2"])},null,2),u(" "+l(w(a.log.action)),1)],2)])]),t("div",U,[t("div",null,[e[3]||(e[3]=t("label",{class:"label"},"Timestamp",-1)),t("p",E,l(v(a.log.created_at)),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"label"},"Performed By",-1)),t("p",F,l(((i=a.log.user)==null?void 0:i.name)||"System"),1),a.log.user?(d(),r("p",K,l(a.log.user.email),1)):c("",!0)]),t("div",null,[e[5]||(e[5]=t("label",{class:"label"},"Model Type",-1)),t("p",M,l(A(a.log.model_type)),1),a.log.model_id?(d(),r("p",z," ID: "+l(a.log.model_id),1)):c("",!0)]),t("div",null,[e[6]||(e[6]=t("label",{class:"label"},"Branch",-1)),t("p",J,l(((x=a.log.branch)==null?void 0:x.name)||"N/A"),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"label"},"IP Address",-1)),t("p",Y,l(a.log.ip_address),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"label"},"User Agent",-1)),t("p",$,l(a.log.user_agent||"N/A"),1)])])]),a.log.old_values&&Object.keys(a.log.old_values).length>0?(d(),r("div",q,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},[t("i",{class:"fas fa-history text-orange-500"}),u(" Previous Values ")],-1)),t("div",G,[t("div",H,[(d(!0),r(f,null,b(a.log.old_values,(o,g)=>(d(),r("div",{key:g},[t("label",Q,l(g),1),t("p",R,l(m(o)),1)]))),128))])])])):c("",!0),a.log.new_values&&Object.keys(a.log.new_values).length>0?(d(),r("div",W,[e[10]||(e[10]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},[t("i",{class:"fas fa-star text-brand-500"}),u(" New Values ")],-1)),t("div",X,[t("div",Z,[(d(!0),r(f,null,b(a.log.new_values,(o,g)=>(d(),r("div",{key:g},[t("label",tt,l(g),1),t("p",et,l(m(o)),1)]))),128))])])])):c("",!0),y.value?(d(),r("div",st,[e[12]||(e[12]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},[t("i",{class:"fas fa-exchange-alt text-blue-500"}),u(" Changes Summary ")],-1)),t("div",at,[(d(!0),r(f,null,b(N(),o=>(d(),r("div",{key:o.field,class:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg"},[t("div",lt,[t("p",ot,l(o.field),1)]),t("div",dt,[t("span",rt,l(m(o.old)),1),e[11]||(e[11]=t("i",{class:"fas fa-arrow-right text-gray-400"},null,-1)),t("span",nt,l(m(o.new)),1)])]))),128))])])):c("",!0)])]}),_:1}))}};export{mt as default};
