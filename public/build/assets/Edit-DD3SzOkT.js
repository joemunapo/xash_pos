import{m as _,c as h,w as f,a as t,i as g,u as s,l as v,t as u,p as w,b as n,d,h as b,v as i,o,F as V,e as U,g as x,q as C}from"./app-xtd10Mqh.js";import{_ as M}from"./SuperAdminLayout-B26uXkfh.js";import"./NavLink-DvhtSBKV.js";import"./useFlashMessages-uyAZyciG.js";const P={class:"max-w-2xl mx-auto space-y-6"},B={class:"flex items-center gap-4"},F={class:"text-2xl font-bold text-gray-900 dark:text-white"},N={class:"card mb-6"},$={class:"space-y-4"},D={key:0,class:"text-sm text-red-500 mt-1"},E={class:"card mb-6"},S={class:"grid grid-cols-2 gap-4"},j={key:0,class:"text-sm text-red-500 mt-1"},A={key:0,class:"text-sm text-red-500 mt-1"},L={class:"card mb-6"},T={class:"grid grid-cols-3 gap-4"},q={class:"card mb-6"},O={class:"space-y-2"},Y=["onUpdate:modelValue"],z=["onClick"],G={class:"card mb-6"},H={class:"flex items-center justify-between"},I={class:"relative inline-flex items-center cursor-pointer"},J={class:"flex items-center justify-end gap-3"},K=["disabled"],Q={key:0,class:"fas fa-spinner fa-spin mr-2"},R={key:1,class:"fas fa-save mr-2"},te={__name:"Edit",props:{plan:Object},setup(y){const a=y,l=_({name:a.plan.name,description:a.plan.description||"",price_monthly:a.plan.price_monthly,price_yearly:a.plan.price_yearly,max_users:a.plan.max_users,max_branches:a.plan.max_branches,max_products:a.plan.max_products,features:a.plan.features&&a.plan.features.length>0?[...a.plan.features]:[""],is_active:a.plan.is_active,sort_order:a.plan.sort_order||0}),k=()=>{l.transform(p=>({...p,features:p.features.filter(e=>e.trim()!=="")})).put(route("superadmin.plans.update",a.plan.id))};return(p,e)=>(o(),h(M,{"page-title":"Edit Plan"},{default:f(()=>[t("div",P,[t("div",B,[g(s(v),{href:p.route("superadmin.plans.index"),class:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors"},{default:f(()=>[...e[9]||(e[9]=[t("i",{class:"fas fa-arrow-left"},null,-1)])]),_:1},8,["href"]),t("div",null,[t("h1",F,"Edit Plan: "+u(y.plan.name),1),e[10]||(e[10]=t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Update this subscription plan.",-1))])]),t("form",{onSubmit:w(k,["prevent"])},[t("div",N,[e[13]||(e[13]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Plan Details",-1)),t("div",$,[t("div",null,[e[11]||(e[11]=t("label",{class:"label"},"Plan Name *",-1)),n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s(l).name=r),type:"text",class:"input-field"},null,512),[[i,s(l).name]]),s(l).errors.name?(o(),d("p",D,u(s(l).errors.name),1)):b("",!0)]),t("div",null,[e[12]||(e[12]=t("label",{class:"label"},"Description",-1)),n(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>s(l).description=r),rows:"2",class:"input-field"},null,512),[[i,s(l).description]])])])]),t("div",E,[e[16]||(e[16]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Pricing",-1)),t("div",S,[t("div",null,[e[14]||(e[14]=t("label",{class:"label"},"Monthly Price ($) *",-1)),n(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>s(l).price_monthly=r),type:"number",step:"0.01",min:"0",class:"input-field"},null,512),[[i,s(l).price_monthly]]),s(l).errors.price_monthly?(o(),d("p",j,u(s(l).errors.price_monthly),1)):b("",!0)]),t("div",null,[e[15]||(e[15]=t("label",{class:"label"},"Yearly Price ($) *",-1)),n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>s(l).price_yearly=r),type:"number",step:"0.01",min:"0",class:"input-field"},null,512),[[i,s(l).price_yearly]]),s(l).errors.price_yearly?(o(),d("p",A,u(s(l).errors.price_yearly),1)):b("",!0)])])]),t("div",L,[e[20]||(e[20]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Limits",-1)),t("div",T,[t("div",null,[e[17]||(e[17]=t("label",{class:"label"},"Max Users *",-1)),n(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>s(l).max_users=r),type:"number",min:"1",class:"input-field"},null,512),[[i,s(l).max_users]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"label"},"Max Branches *",-1)),n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>s(l).max_branches=r),type:"number",min:"1",class:"input-field"},null,512),[[i,s(l).max_branches]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"label"},"Max Products *",-1)),n(t("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>s(l).max_products=r),type:"number",min:"1",class:"input-field"},null,512),[[i,s(l).max_products]])])])]),t("div",q,[e[23]||(e[23]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Features",-1)),t("div",O,[(o(!0),d(V,null,U(s(l).features,(r,m)=>(o(),d("div",{key:m,class:"flex items-center gap-2"},[n(t("input",{"onUpdate:modelValue":c=>s(l).features[m]=c,type:"text",class:"input-field"},null,8,Y),[[i,s(l).features[m]]]),t("button",{type:"button",onClick:c=>s(l).features.splice(m,1),class:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors flex-shrink-0"},[...e[21]||(e[21]=[t("i",{class:"fas fa-times"},null,-1)])],8,z)]))),128)),t("button",{type:"button",onClick:e[7]||(e[7]=r=>s(l).features.push("")),class:"text-sm text-blue-600 dark:text-blue-400 hover:underline"},[...e[22]||(e[22]=[t("i",{class:"fas fa-plus mr-1"},null,-1),x("Add Feature ",-1)])])])]),t("div",G,[t("div",H,[e[25]||(e[25]=t("div",null,[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Active"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Make this plan available for selection")],-1)),t("label",I,[n(t("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>s(l).is_active=r),type:"checkbox",class:"sr-only peer"},null,512),[[C,s(l).is_active]]),e[24]||(e[24]=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),t("div",J,[g(s(v),{href:p.route("superadmin.plans.index"),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"},{default:f(()=>[...e[26]||(e[26]=[x(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:s(l).processing,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-sm disabled:opacity-50"},[s(l).processing?(o(),d("i",Q)):(o(),d("i",R)),x(" "+u(s(l).processing?"Saving...":"Save Changes"),1)],8,K)])],32)])]),_:1}))}};export{te as default};
