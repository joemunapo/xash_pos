import{s as y,c as C,w as x,a as t,d as n,h as m,i as b,u,l as c,g as o,b as S,v as F,f as I,o as l,F as j,e as T,t as a,n as D,j as A}from"./app-hHih9BgC.js";import{_ as L}from"./AdminLayout-B4rk0_5R.js";import"./NavLink-faodrpPr.js";import"./useFlashMessages-Br0efLxG.js";const $={class:"space-y-6"},U={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},z={class:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-4"},E={class:"flex flex-col sm:flex-row gap-3"},H={class:"flex-1"},O={class:"relative"},G={class:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 overflow-hidden"},Q={class:"overflow-x-auto"},q={class:"w-full"},J={class:"py-3 px-4"},K={class:"flex items-center gap-3"},P={class:"font-medium text-gray-900 dark:text-white text-sm"},R={class:"text-xs text-gray-500 dark:text-gray-400"},W={class:"py-3 px-4"},X={class:"text-sm text-gray-900 dark:text-white"},Y={class:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs"},Z={class:"py-3 px-4"},tt={class:"text-sm text-gray-900 dark:text-white"},et={class:"text-xs text-gray-500 dark:text-gray-400"},st={class:"py-3 px-4"},at={class:"text-sm text-gray-900 dark:text-white"},rt={class:"py-3 px-4"},lt={class:"py-3 px-4 text-right"},ot={class:"flex items-center justify-end gap-2"},dt=["onClick"],nt={key:0,class:"text-center py-12"},it={key:1,class:"flex items-center justify-between px-4 py-3 border-t border-gray-200 dark:border-slate-700"},xt={class:"text-sm text-gray-600 dark:text-gray-400"},ut={class:"flex gap-2"},ct={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},gt={class:"relative bg-white dark:bg-slate-900 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl"},yt={class:"text-gray-600 dark:text-gray-400 mb-6"},bt={class:"flex justify-end gap-3"},kt={__name:"Index",props:{branches:Object,filters:Object},setup(r){var w,_;const h=r,f=y(((w=h.filters)==null?void 0:w.search)||""),p=y(((_=h.filters)==null?void 0:_.status)||""),i=y(!1),g=y(null);let v=null;const V=()=>{clearTimeout(v),v=setTimeout(()=>{k()},300)},k=()=>{A.get(route("admin.branches.index"),{search:f.value||void 0,status:p.value||void 0},{preserveState:!0,preserveScroll:!0})},M=d=>{g.value=d,i.value=!0},N=()=>{A.delete(route("admin.branches.destroy",g.value.id),{onSuccess:()=>{i.value=!1,g.value=null}})};return(d,e)=>(l(),C(L,{"page-title":"Branches"},{default:x(()=>{var B;return[t("div",$,[t("div",U,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Branches"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage your store locations")],-1)),b(u(c),{href:d.route("admin.branches.create"),class:"btn-primary"},{default:x(()=>[...e[4]||(e[4]=[t("i",{class:"fas fa-plus mr-2"},null,-1),o(" Add Branch ",-1)])]),_:1},8,["href"])]),t("div",z,[t("div",E,[t("div",H,[t("div",O,[e[6]||(e[6]=t("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm"},null,-1)),S(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>f.value=s),type:"text",placeholder:"Search branches...",class:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-brand-500 focus:border-brand-500",onInput:V},null,544),[[F,f.value]])])]),S(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>p.value=s),onChange:k,class:"px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white sm:w-36"},[...e[7]||(e[7]=[t("option",{value:""},"All Status",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],544),[[I,p.value]])])]),t("div",G,[t("div",Q,[t("table",q,[e[12]||(e[12]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800"},[t("th",{class:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Branch"),t("th",{class:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Location"),t("th",{class:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Contact"),t("th",{class:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Users"),t("th",{class:"text-left py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Status"),t("th",{class:"text-right py-3 px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",null,[(l(!0),n(j,null,T(r.branches.data,s=>(l(),n("tr",{key:s.id,class:"border-b border-gray-100 dark:border-slate-800 hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors"},[t("td",J,[t("div",K,[e[8]||(e[8]=t("div",{class:"w-9 h-9 bg-brand-100 dark:bg-brand-900/30 rounded-lg flex items-center justify-center"},[t("i",{class:"fas fa-store text-brand-600 dark:text-brand-400 text-sm"})],-1)),t("div",null,[t("p",P,a(s.name),1),t("p",R,a(s.code||"-"),1)])])]),t("td",W,[t("p",X,a(s.city||"-"),1),t("p",Y,a(s.address||"-"),1)]),t("td",Z,[t("p",tt,a(s.phone||"-"),1),t("p",et,a(s.email||"-"),1)]),t("td",st,[t("span",at,a(s.users_count),1)]),t("td",rt,[t("span",{class:D(["px-2 py-1 text-xs font-medium rounded",s.is_active?"bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"])},a(s.is_active?"Active":"Inactive"),3)]),t("td",lt,[t("div",ot,[b(u(c),{href:d.route("admin.branches.show",s.id),class:"px-3 py-1.5 text-xs font-medium bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors"},{default:x(()=>[...e[9]||(e[9]=[t("i",{class:"fas fa-eye mr-1"},null,-1),o("View ",-1)])]),_:1},8,["href"]),b(u(c),{href:d.route("admin.branches.edit",s.id),class:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"},{default:x(()=>[...e[10]||(e[10]=[t("i",{class:"fas fa-edit mr-1"},null,-1),o("Edit ",-1)])]),_:1},8,["href"]),t("button",{onClick:ft=>M(s),class:"px-3 py-1.5 text-xs font-medium bg-red-600 text-white rounded hover:bg-red-700 transition-colors"},[...e[11]||(e[11]=[t("i",{class:"fas fa-trash mr-1"},null,-1),o("Delete ",-1)])],8,dt)])])]))),128))])])]),r.branches.data.length===0?(l(),n("div",nt,[e[14]||(e[14]=t("i",{class:"fas fa-store text-5xl text-gray-300 dark:text-gray-600 mb-4"},null,-1)),e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"No branches found",-1)),e[16]||(e[16]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-4"},"Get started by creating your first branch.",-1)),b(u(c),{href:d.route("admin.branches.create"),class:"btn-primary"},{default:x(()=>[...e[13]||(e[13]=[t("i",{class:"fas fa-plus mr-2"},null,-1),o(" Add Branch ",-1)])]),_:1},8,["href"])])):m("",!0),r.branches.data.length>0?(l(),n("div",it,[t("p",xt," Showing "+a(r.branches.from)+" to "+a(r.branches.to)+" of "+a(r.branches.total)+" results ",1),t("div",ut,[(l(!0),n(j,null,T(r.branches.links,s=>(l(),C(u(c),{key:s.label,href:s.url||"#",class:D(["px-3 py-1 text-sm rounded-lg transition-colors",s.active?"bg-brand-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700",!s.url&&"opacity-50 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):m("",!0)])]),i.value?(l(),n("div",ct,[t("div",{class:"fixed inset-0 bg-black/50",onClick:e[2]||(e[2]=s=>i.value=!1)}),t("div",gt,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Delete Branch",-1)),t("p",yt,[e[17]||(e[17]=o(" Are you sure you want to delete ",-1)),t("strong",null,a((B=g.value)==null?void 0:B.name),1),e[18]||(e[18]=o("? This action cannot be undone. ",-1))]),t("div",bt,[t("button",{onClick:e[3]||(e[3]=s=>i.value=!1),class:"btn-secondary"},"Cancel"),t("button",{onClick:N,class:"btn-danger"},"Delete")])])])):m("",!0)]}),_:1}))}};export{kt as default};
