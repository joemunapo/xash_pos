import{r as M,c as w,w as O,a as t,t as r,b as _,v as B,d as o,o as d,F as n,e as c,f as C,h as S,n as u,g as x,u as V,l as q,j as I}from"./app-C6lt1uQR.js";import{_ as N}from"./AdminLayout-CmvtP4AP.js";import"./NavLink-CZ7tcFJn.js";import"./useFlashMessages-DqH0SBLZ.js";const U={class:"space-y-6"},$={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},D={class:"card p-6 hover:shadow-xl transition-shadow"},H={class:"flex items-center justify-between"},P={class:"text-3xl font-bold text-gray-900 dark:text-white"},A={class:"card p-6 hover:shadow-xl transition-shadow"},K={class:"flex items-center justify-between"},z={class:"text-3xl font-bold text-orange-600 dark:text-orange-400"},E={class:"card p-6 hover:shadow-xl transition-shadow"},Q={class:"flex items-center justify-between"},R={class:"text-3xl font-bold text-red-600 dark:text-red-400"},G={class:"card p-6 hover:shadow-xl transition-shadow"},J={class:"flex items-center justify-between"},W={class:"text-3xl font-bold text-emerald-600 dark:text-emerald-400"},X={class:"card p-6"},Y={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Z={class:"md:col-span-2"},tt={class:"relative"},et=["value"],st={class:"card overflow-hidden"},rt={class:"overflow-x-auto"},at={class:"w-full"},dt={class:"bg-white dark:bg-slate-900 divide-y divide-gray-200 dark:divide-slate-700"},lt={key:0},ot={class:"px-6 py-4"},it={class:"font-medium text-gray-900 dark:text-white"},nt={class:"text-sm text-gray-500 dark:text-gray-400"},xt={class:"px-6 py-4"},ct={class:"px-2.5 py-1 text-xs font-medium bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded"},ut={class:"px-6 py-4 text-right"},gt={class:"text-lg font-semibold text-gray-900 dark:text-white"},mt={class:"px-6 py-4 text-right"},yt={class:"text-sm text-gray-600 dark:text-gray-400"},bt={class:"px-6 py-4 text-center"},ft={key:0,class:"px-6 py-4 border-t border-gray-200 dark:border-slate-700"},pt={class:"flex items-center justify-between"},kt={class:"text-sm text-gray-700 dark:text-gray-300"},vt={class:"font-medium"},ht={class:"font-medium"},wt={class:"font-medium"},_t={class:"flex gap-2"},St=["innerHTML"],Mt={__name:"Overview",props:{stocks:Object,stats:Object,branches:Array,filters:Object},setup(a){var b,f;const g=a,i=M({search:((b=g.filters)==null?void 0:b.search)||"",branch_id:((f=g.filters)==null?void 0:f.branch_id)||""});let m=null;const j=()=>{clearTimeout(m),m=setTimeout(()=>{y()},500)},y=()=>{I.get(route("admin.inventory.overview"),i,{preserveState:!0,preserveScroll:!0})},T=l=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l||0),F=l=>{var e;return l.quantity<=0?"Out of Stock":l.quantity<=(((e=l.product)==null?void 0:e.reorder_level)||0)?"Low Stock":"In Stock"},L=l=>{var s;const e="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium";return l.quantity<=0?`${e} bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400`:l.quantity<=(((s=l.product)==null?void 0:s.reorder_level)||0)?`${e} bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400`:`${e} bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400`};return(l,e)=>(d(),w(N,{"page-title":"Stock Overview"},{default:O(()=>[t("div",U,[e[20]||(e[20]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Inventory Overview"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Monitor stock levels across all branches")],-1)),t("div",$,[t("div",D,[t("div",H,[t("div",null,[e[2]||(e[2]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Total Products",-1)),t("p",P,r(a.stats.total_products),1)]),e[3]||(e[3]=t("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center"},[t("i",{class:"fas fa-box text-blue-600 dark:text-blue-400 text-xl"})],-1))])]),t("div",A,[t("div",K,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Low Stock Items",-1)),t("p",z,r(a.stats.low_stock_items),1)]),e[5]||(e[5]=t("div",{class:"w-12 h12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center"},[t("i",{class:"fas fa-exclamation-triangle text-orange-600 dark:text-orange-400 text-xl"})],-1))])]),t("div",E,[t("div",Q,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Out of Stock",-1)),t("p",R,r(a.stats.out_of_stock),1)]),e[7]||(e[7]=t("div",{class:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center"},[t("i",{class:"fas fa-times-circle text-red-600 dark:text-red-400 text-xl"})],-1))])]),t("div",G,[t("div",J,[t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Total Value",-1)),t("p",W,"$"+r(T(a.stats.total_value)),1)]),e[9]||(e[9]=t("div",{class:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-xl flex items-center justify-center"},[t("i",{class:"fas fa-dollar-sign text-emerald-600 dark:text-emerald-400 text-xl"})],-1))])])]),t("div",X,[t("div",Y,[t("div",Z,[e[11]||(e[11]=t("label",{class:"label"},"Search Products",-1)),t("div",tt,[e[10]||(e[10]=t("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.search=s),type:"text",class:"input-field pl-10",placeholder:"Search by product name or SKU...",onInput:j},null,544),[[B,i.search]])])]),t("div",null,[e[13]||(e[13]=t("label",{class:"label"},"Branch",-1)),_(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.branch_id=s),class:"input-field",onChange:y},[e[12]||(e[12]=t("option",{value:""},"All Branches",-1)),(d(!0),o(n,null,c(a.branches,s=>(d(),o("option",{key:s.id,value:s.id},r(s.name),9,et))),128))],544),[[C,i.branch_id]])])])]),t("div",st,[t("div",rt,[t("table",at,[e[15]||(e[15]=t("thead",{class:"bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Product"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-40"},"Branch"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32"},"Quantity"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-32"},"Reorder Level"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-28"},"Status")])],-1)),t("tbody",dt,[a.stocks.data.length===0?(d(),o("tr",lt,[...e[14]||(e[14]=[t("td",{colspan:"5",class:"px-6 py-12 text-center"},[t("div",{class:"flex flex-col items-center justify-center text-gray-500 dark:text-gray-400"},[t("i",{class:"fas fa-boxes text-6xl mb-4 opacity-50"}),t("p",{class:"text-lg font-medium mb-1"},"No stock records found"),t("p",{class:"text-sm"},"Try adjusting your filters")])],-1)])])):S("",!0),(d(!0),o(n,null,c(a.stocks.data,s=>{var p,k,v,h;return d(),o("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors"},[t("td",ot,[t("div",null,[t("p",it,r((p=s.product)==null?void 0:p.name),1),t("p",nt,"SKU: "+r((k=s.product)==null?void 0:k.sku),1)])]),t("td",xt,[t("span",ct,r((v=s.branch)==null?void 0:v.name),1)]),t("td",ut,[t("span",gt,r(s.quantity),1)]),t("td",mt,[t("span",yt,r(((h=s.product)==null?void 0:h.reorder_level)||0),1)]),t("td",bt,[t("span",{class:u(L(s))},r(F(s)),3)])])}),128))])])]),a.stocks.data.length>0?(d(),o("div",ft,[t("div",pt,[t("p",kt,[e[16]||(e[16]=x(" Showing ",-1)),t("span",vt,r(a.stocks.from),1),e[17]||(e[17]=x(" to ",-1)),t("span",ht,r(a.stocks.to),1),e[18]||(e[18]=x(" of ",-1)),t("span",wt,r(a.stocks.total),1),e[19]||(e[19]=x(" results ",-1))]),t("div",_t,[(d(!0),o(n,null,c(a.stocks.links,s=>(d(),o(n,{key:s.label},[s.url?(d(),w(V(q),{key:0,href:s.url,class:u(["px-3 py-1 text-sm rounded-lg border transition-colors",s.active?"bg-emerald-600 text-white border-emerald-600":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(d(),o("span",{key:1,class:u(["px-3 py-1 text-sm rounded-lg border opacity-50 cursor-not-allowed","bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-slate-600"]),innerHTML:s.label},null,8,St))],64))),128))])])])):S("",!0)])])]),_:1}))}};export{Mt as default};
