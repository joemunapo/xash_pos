import{s as b,c as T,w as i,a as t,i as x,u as y,l as c,g as S,b as v,v as j,d as o,o as r,F as k,e as _,t as a,f as N,h as V,n as A,j as z}from"./app-hHih9BgC.js";import{_ as B}from"./AdminLayout-B4rk0_5R.js";import"./NavLink-faodrpPr.js";import"./useFlashMessages-Br0efLxG.js";const F={class:"space-y-6"},M={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},D={class:"card p-4"},I={class:"flex flex-col sm:flex-row gap-4"},L={class:"flex-1 relative"},O=["value"],U={class:"card overflow-hidden"},E={class:"w-full"},P={class:"py-3 px-4"},Q={class:"flex items-center gap-3"},$={class:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-pink-500 flex items-center justify-center text-white font-semibold"},q={class:"font-medium text-gray-900 dark:text-white"},G={class:"text-sm text-gray-500 dark:text-gray-400"},H={class:"py-3 px-4"},J={class:"text-gray-900 dark:text-white"},K={class:"text-sm text-gray-500 dark:text-gray-400"},R={class:"py-3 px-4"},W={class:"py-3 px-4 text-gray-900 dark:text-white font-medium"},X={class:"py-3 px-4 text-right"},Y={class:"flex items-center justify-end gap-2"},Z={key:0,class:"text-center py-12"},rt={__name:"Index",props:{customers:Object,filters:Object,tiers:Array},setup(d){var f,h;const g=d,n=b(((f=g.filters)==null?void 0:f.search)||""),u=b(((h=g.filters)==null?void 0:h.tier)||"");let p=null;const w=()=>{clearTimeout(p),p=setTimeout(()=>m(),300)},m=()=>{z.get(route("admin.customers.index"),{search:n.value||void 0,tier:u.value||void 0},{preserveState:!0,preserveScroll:!0})},C=l=>{const e={bronze:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",silver:"bg-gray-200 text-gray-700 dark:bg-gray-600 dark:text-gray-300",gold:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",platinum:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"};return e[l]||e.bronze};return(l,e)=>(r(),T(B,{"page-title":"Customers"},{default:i(()=>[t("div",F,[t("div",M,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Customers"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Manage your customer database")],-1)),x(y(c),{href:l.route("admin.customers.create"),class:"btn-primary"},{default:i(()=>[...e[2]||(e[2]=[t("i",{class:"fas fa-plus mr-2"},null,-1),S(" Add Customer ",-1)])]),_:1},8,["href"])]),t("div",D,[t("div",I,[t("div",L,[e[4]||(e[4]=t("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),type:"text",placeholder:"Search customers...",class:"input-field pl-10",onInput:w},null,544),[[j,n.value]])]),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),onChange:m,class:"input-field sm:w-40"},[e[5]||(e[5]=t("option",{value:""},"All Tiers",-1)),(r(!0),o(k,null,_(d.tiers,s=>(r(),o("option",{key:s.value,value:s.value},a(s.label),9,O))),128))],544),[[N,u.value]])])]),t("div",U,[t("table",E,[e[8]||(e[8]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-slate-700"},[t("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-600 dark:text-gray-400"},"Customer"),t("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-600 dark:text-gray-400"},"Contact"),t("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-600 dark:text-gray-400"},"Tier"),t("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-600 dark:text-gray-400"},"Points"),t("th",{class:"text-right py-3 px-4 text-sm font-medium text-gray-600 dark:text-gray-400"},"Actions")])],-1)),t("tbody",null,[(r(!0),o(k,null,_(d.customers.data,s=>(r(),o("tr",{key:s.id,class:"border-b border-gray-100 dark:border-slate-800 hover:bg-gray-50 dark:hover:bg-slate-800"},[t("td",P,[t("div",Q,[t("div",$,a(s.first_name.charAt(0)),1),t("div",null,[t("p",q,a(s.first_name)+" "+a(s.last_name),1),t("p",G,a(s.city||"-"),1)])])]),t("td",H,[t("p",J,a(s.phone||"-"),1),t("p",K,a(s.email||"-"),1)]),t("td",R,[t("span",{class:A(["px-2 py-1 text-xs font-medium rounded-full capitalize",C(s.loyalty_tier)])},a(s.loyalty_tier),3)]),t("td",W,a(Number(s.loyalty_points).toLocaleString()),1),t("td",X,[t("div",Y,[x(y(c),{href:l.route("admin.customers.show",s.id),class:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg"},{default:i(()=>[...e[6]||(e[6]=[t("i",{class:"fas fa-eye"},null,-1)])]),_:1},8,["href"]),x(y(c),{href:l.route("admin.customers.edit",s.id),class:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg"},{default:i(()=>[...e[7]||(e[7]=[t("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["href"])])])]))),128))])]),d.customers.data.length===0?(r(),o("div",Z,[...e[9]||(e[9]=[t("i",{class:"fas fa-user-friends text-5xl text-gray-300 dark:text-gray-600 mb-4"},null,-1),t("p",{class:"text-gray-500 dark:text-gray-400"},"No customers yet",-1)])])):V("",!0)])])]),_:1}))}};export{rt as default};
