import{r as v,c as _,w,a as t,b as p,v as c,d,o as l,F as y,e as u,t as r,f,g as b,h as E,n as C,j as S}from"./app-hHih9BgC.js";import{_ as A}from"./AdminLayout-B4rk0_5R.js";import"./NavLink-faodrpPr.js";import"./useFlashMessages-Br0efLxG.js";const F={class:"space-y-6"},V={class:"card p-4"},j={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},B=["value"],D=["value"],N={class:"card overflow-hidden"},U={class:"overflow-x-auto"},T={class:"w-full"},R={class:"divide-y divide-gray-200 dark:divide-slate-700"},P={class:"px-6 py-4 text-sm"},$={class:"px-6 py-4"},z={class:"flex items-center gap-3"},I={class:"w-10 h-10 rounded-full bg-gradient-to-br from-brand-400 to-brand-600 flex items-center justify-center text-white font-bold"},M={class:"font-medium text-gray-900 dark:text-white"},L={class:"text-sm text-gray-500 dark:text-gray-400"},O={class:"px-6 py-4 text-sm text-gray-900 dark:text-white capitalize"},q={class:"px-6 py-4 text-sm font-semibold text-brand-600 dark:text-brand-400 text-right"},G={class:"px-6 py-4 text-sm text-gray-900 dark:text-white text-right"},H={class:"px-6 py-4 text-sm text-gray-900 dark:text-white text-right"},J={class:"px-6 py-4 text-sm text-gray-900 dark:text-white text-right"},K={key:0},Z={__name:"EmployeePerformance",props:{employees:Array,allEmployees:Array,branches:Array,filters:Object},setup(i){const x=i,a=v({start_date:x.filters.start_date,end_date:x.filters.end_date,branch_id:x.filters.branch_id||"",employee_id:x.filters.employee_id||""}),n=()=>{S.get(route("admin.reports.employee-performance"),a,{preserveState:!0,preserveScroll:!0})},h=()=>{a.start_date="",a.end_date="",a.branch_id="",a.employee_id="",n()},m=o=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o||0),k=o=>o===0?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":o===1?"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":o===2?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-gray-50 text-gray-600 dark:bg-slate-800 dark:text-gray-400";return(o,e)=>(l(),_(A,{"page-title":"Employee Performance"},{default:w(()=>[t("div",F,[e[14]||(e[14]=t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Employee Performance"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Track staff sales performance and productivity")])],-1)),t("div",V,[t("div",j,[t("div",null,[e[4]||(e[4]=t("label",{class:"label"},"Start Date",-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.start_date=s),type:"date",class:"input-field",onChange:n},null,544),[[c,a.start_date]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"label"},"End Date",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.end_date=s),type:"date",class:"input-field",onChange:n},null,544),[[c,a.end_date]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"label"},"Branch",-1)),p(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.branch_id=s),class:"input-field",onChange:n},[e[6]||(e[6]=t("option",{value:""},"All Branches",-1)),(l(!0),d(y,null,u(i.branches,s=>(l(),d("option",{key:s.id,value:s.id},r(s.name),9,B))),128))],544),[[f,a.branch_id]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"label"},"Employee",-1)),p(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.employee_id=s),class:"input-field",onChange:n},[e[8]||(e[8]=t("option",{value:""},"All Employees",-1)),(l(!0),d(y,null,u(i.allEmployees,s=>(l(),d("option",{key:s.id,value:s.id},r(s.name),9,D))),128))],544),[[f,a.employee_id]])]),t("div",{class:"flex items-end"},[t("button",{onClick:h,class:"btn-secondary w-full h-[42px] justify-center"},[...e[10]||(e[10]=[t("i",{class:"fas fa-undo mr-2"},null,-1),b("Reset ",-1)])])])])]),t("div",N,[e[13]||(e[13]=t("div",{class:"p-4 border-b border-gray-200 dark:border-slate-700"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},[t("i",{class:"fas fa-users mr-2 text-brand-500"}),b("All Employees ")])],-1)),t("div",U,[t("table",T,[e[12]||(e[12]=t("thead",{class:"bg-gray-50 dark:bg-slate-800"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Rank"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Employee"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Role"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Total Sales"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Transactions"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Avg. Sale"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Items Sold")])],-1)),t("tbody",R,[(l(!0),d(y,null,u(i.employees,(s,g)=>(l(),d("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800/50"},[t("td",P,[t("span",{class:C(["inline-flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm",k(g)])},r(g+1),3)]),t("td",$,[t("div",z,[t("div",I,r(s.name.charAt(0).toUpperCase()),1),t("div",null,[t("p",M,r(s.name),1),t("p",L,r(s.email),1)])])]),t("td",O,r(s.role),1),t("td",q,"$"+r(m(s.total_sales)),1),t("td",G,r(s.total_transactions),1),t("td",H,"$"+r(m(s.average_sale)),1),t("td",J,r(m(s.total_items)),1)]))),128)),i.employees.length===0?(l(),d("tr",K,[...e[11]||(e[11]=[t("td",{colspan:"7",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"},[t("i",{class:"fas fa-users text-4xl mb-2 opacity-50"}),t("p",null,"No employee data for this period")],-1)])])):E("",!0)])])])])])]),_:1}))}};export{Z as default};
