import{x as y,s as v,m as h,c as n,w as d,i,a as t,p as x,d as c,o as l,u as r,g as u,n as _,t as k,l as g}from"./app-C6lt1uQR.js";import{_ as b}from"./GuestLayout-cExBqK9T.js";import{A as X,a as V}from"./AuthButton-CCYqHy-D.js";import{F as m}from"./FormInput-DGJiSsWG.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useFlashMessages-DqH0SBLZ.js";const C={class:"p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg"},F={class:"text-sm text-blue-700 dark:text-blue-300 flex items-start gap-2"},T={key:0},U={key:1},A={class:"mt-4 text-center text-sm"},B={class:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400"},E=y({__name:"TwoFactorChallenge",setup(S){const a=v(!1),o=h({code:"",recovery_code:""}),f=()=>{o.post(route("two-factor.login.store"),{preserveScroll:!0,onFinish:()=>{o.reset("code","recovery_code")}})};return(p,e)=>(l(),n(b,null,{default:d(()=>[i(X,{title:"Two-Factor Authentication",subtitle:a.value?"Use your recovery code":"Enter your 6-digit code"},{default:d(()=>[t("form",{onSubmit:x(f,["prevent"]),class:"space-y-4"},[t("div",C,[t("p",F,[e[3]||(e[3]=t("i",{class:"fas fa-shield-halved mt-0.5 flex-shrink-0"},null,-1)),t("span",null,[a.value?(l(),c("span",U,"Use one of your recovery codes to sign in if you don't have your authenticator app.")):(l(),c("span",T,"Your account is protected with two-factor authentication."))])])]),t("div",null,[a.value?(l(),n(m,{key:1,modelValue:r(o).recovery_code,"onUpdate:modelValue":e[1]||(e[1]=s=>r(o).recovery_code=s),type:"text",label:"Recovery Code",id:"recovery_code",icon:"fa-shield-check",placeholder:"XXXX-XXXX-XXXX",required:"",autocomplete:"off",error:r(o).errors.recovery_code,hint:"Enter one of your recovery codes"},null,8,["modelValue","error"])):(l(),n(m,{key:0,modelValue:r(o).code,"onUpdate:modelValue":e[0]||(e[0]=s=>r(o).code=s),type:"text",label:"Authentication Code",id:"code",icon:"fa-key",placeholder:"000000",maxlength:"6",inputmode:"numeric",required:"",autocomplete:"off",error:r(o).errors.code,hint:"Enter the 6-digit code from your authenticator app"},null,8,["modelValue","error"]))]),i(V,{type:"submit",label:"Verify",loading:r(o).processing,loadingText:"Verifying...",icon:"fa-circle-check"},null,8,["loading"])],32),t("div",A,[t("button",{type:"button",onClick:e[2]||(e[2]=s=>a.value=!a.value),class:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 font-medium transition-colors"},[t("i",{class:_(`fas ${a.value?"fa-key":"fa-shield-check"} mr-1`)},null,2),u(" "+k(a.value?"Use code instead":"Use recovery code"),1)])]),t("div",B,[i(r(g),{href:p.route("login"),class:"font-medium text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 transition-colors"},{default:d(()=>[...e[4]||(e[4]=[u(" Sign In ",-1)])]),_:1},8,["href"])])]),_:1},8,["subtitle"])]),_:1}))}}),M=w(E,[["__scopeId","data-v-33ec384a"]]);export{M as default};
